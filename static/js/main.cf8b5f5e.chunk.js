(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{195:function(e,t,a){e.exports=a.p+"static/media/columna.35aa61aa.png"},269:function(e,t,a){e.exports=a.p+"static/media/isotipo.666d2fbb.png"},284:function(e,t,a){e.exports=a.p+"static/media/block.61a8622e.png"},434:function(e,t){},444:function(e,t,a){e.exports=a.p+"static/media/logotipo.66a4fa25.png"},465:function(e,t,a){e.exports=a.p+"static/media/imagotipo.3a017e4d.png"},478:function(e,t,a){e.exports=a(585)},483:function(e,t,a){},563:function(e,t){},564:function(e,t){},585:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(23),o=a.n(c),l=(a(483),a(623)),i=a(169),s=a(28),u=a.n(s),d=Object(i.a)({palette:{primary:{info:"#eaf3f8",light:"#4a709f",main:"#1d4d87",dark:"#14355e"},secondary:{light:"#4a9b9f",main:"#1d8287",dark:"#145b5e"},background:{backPanel:"#e4e5eb"}},overrides:{MuiDialog:{scrollBody:{backgroundColor:"#e4e5eb"}},MuiTableContainer:{root:{borderBottomLeftRadius:0,borderBottomRightRadius:0}},MTableToolbar:{searchField:{maxWidth:"max-content"}},MuiTableCell:{root:{paddingBottom:"12px",paddingTop:"12px"},head:{paddingTop:9,paddingBottom:9,fontSize:"0.75rem",color:u.a[800],backgroundColor:u.a[100]}},MuiTabPanel:{root:{height:"100vh"}},MuiTablePagination:{root:{borderTopLeftRadius:0,borderTopRightRadius:0},caption:{color:u.a[800],fontSize:"0.7rem"}},MuiSpeedDial:{fab:{}},MuiIconButton:{root:{padding:2,"&:hover":{backgroundColor:"rgba(228, 229, 235, 0.5)"}}},MuiFab:{sizeMedium:{marginLeft:10}},MuiInput:{root:{width:"-webkit-fill-available"}},MuiFormControl:{root:{width:"-webkit-fill-available"}},MuiMenuItem:{root:{"&:hover":{color:"#14355e"}}}}}),m=a(466),f=a(42),b=a(6),p=a(7),g=a(45),E=a(2),h=a(269),O=a.n(h),j=a(444),v=a.n(j),w=a(422),P=a(26),x=a(628),F=a(624),C=a(416),R=a(660),S=a(337),y=a(423),D=a(107),I=a(341),V=a(464),T=a.n(V),A=a(72),k=a.n(A),M=a(43),L=a.n(M),N=a(630),z=a(593),W=a(587),_=a(633),q=a(427),B=a(189),U=a.n(B),G=a(459),H=a.n(G),X=a(460),Z=a.n(X),Q=a(462),J=a.n(Q),K=a(293),Y=a.n(K),$=a(461),ee=a.n($),te=a(463),ae=a.n(te),ne=a(627),re=a(13),ce=a(340),oe=a.n(ce).a.create({baseURL:"http://3.15.173.137:8443/api/"}),le=function(e){return{toolbar:{searchTooltip:"Buscar ".concat(e),searchPlaceholder:"Buscar ".concat(e),nRowsSelected:"Renglones seleccionados : {0}"},header:{actions:"Acciones"},body:{addTooltip:"Nuevo ".concat(e),deleteTooltip:"Eliminar",editTooltip:"Editar",emptyDataSourceMessage:"No hay registros para mostrar",editRow:{deleteText:"Esta seguro de eliminar este dato?",cancelTooltip:"Cancelar",saveTooltip:"Guardar"}},pagination:{firstTooltip:"Primera pagina",previousTooltip:"Pagina Anterior",nextTooltip:"Pagina Siguiente",lastTooltip:"Ultima pagina",labelDisplayedRows:"{from}-{to} de {count}"}}},ie=a(35),se=a.n(ie),ue=a(472),de=a(162),me=a(639),fe=a(640),be=a(641),pe=a(642),ge=a(643),Ee=a(644),he=a(645),Oe=a(646),je=a(647),ve=a(648),we=a(649),Pe=a(650),xe=a(651),Fe=a(652),Ce=a(653),Re=a(654),Se={Add:function(){return r.a.createElement(ue.a,{color:"secondary",size:"medium"},r.a.createElement(me.a,null)," ")},Check:Object(n.forwardRef)((function(e,t){return r.a.createElement(fe.a,Object.assign({},e,{ref:t}))})),Clear:Object(n.forwardRef)((function(e,t){return r.a.createElement(be.a,Object.assign({},e,{ref:t}))})),Delete:Object(n.forwardRef)((function(e,t){return r.a.createElement(pe.a,Object.assign({},e,{ref:t}))})),DetailPanel:Object(n.forwardRef)((function(e,t){return r.a.createElement(ge.a,Object.assign({},e,{ref:t}))})),Edit:Object(n.forwardRef)((function(e,t){return r.a.createElement(Ee.a,Object.assign({},e,{ref:t}))})),Export:Object(n.forwardRef)((function(e,t){return r.a.createElement(he.a,Object.assign({},e,{ref:t}))})),Filter:Object(n.forwardRef)((function(e,t){return r.a.createElement(Oe.a,Object.assign({},e,{ref:t}))})),FirstPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(je.a,Object.assign({},e,{ref:t}))})),LastPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(ve.a,Object.assign({},e,{ref:t}))})),NextPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(ge.a,Object.assign({},e,{ref:t}))})),PreviousPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(we.a,Object.assign({},e,{ref:t}))})),ResetSearch:Object(n.forwardRef)((function(e,t){return r.a.createElement(be.a,Object.assign({},e,{ref:t}))})),Search:Object(n.forwardRef)((function(e,t){return r.a.createElement(Pe.a,Object.assign({},e,{ref:t}))})),SortArrow:Object(n.forwardRef)((function(e,t){return r.a.createElement(xe.a,Object.assign({},e,{ref:t}))})),ThirdStateCheck:Object(n.forwardRef)((function(e,t){return r.a.createElement(Fe.a,Object.assign({},e,{ref:t}))})),ViewColumn:Object(n.forwardRef)((function(e,t){return r.a.createElement(Ce.a,Object.assign({},e,{ref:t}))})),Refresh:Object(n.forwardRef)((function(e,t){return r.a.createElement(Re.a,Object.assign({color:"primary"},e,{ref:t}))}))},ye=Object(w.a)((function(e){return{actionsContainer:{minWidth:"max-content",marginLeft:e.spacing(2)},searchField:{maxWidth:"max-content"}}}));function De(e){var t=ye(),a=Object(n.createRef)(),c=Object(n.useState)([]),o=Object(b.a)(c,2),l=o[0],i=o[1],s=Object(n.useState)(!0),d=Object(b.a)(s,2),m=d[0],f=d[1],p=Object(n.useState)(!1),g=Object(b.a)(p,2),E=(g[0],g[1]),h=Object(n.useState)([]),O=Object(b.a)(h,2),j=(O[0],O[1]),v=Object(n.useState)(!1),w=Object(b.a)(v,2),P=w[0],x=w[1];Object(n.useEffect)((function(){e.lookupEffects&&e.lookupEffects.forEach((function(e){return e()})),f(!0),oe.get(e.url).then((function(e){console.log("consola aqui"+e.data),i(e.data),f(!1)})).catch((function(e){j(["Cannot load user data"]),E(!0)}))}),[P]);return r.a.createElement(se.a,{tableRef:a,icons:Se,title:e.title,columns:e.columns,data:l,isLoading:m,editable:{isDeletable:function(e){return!e.restricted},onRowAdd:function(t){return new Promise((function(a){!function(t,a){var n=[];n.length<1?oe.post(e.url,t).then((function(e){console.log("respuesta al guardar",e.data);var t=Object(re.a)(l);t.unshift(e.data),i(t),a(),j([]),E(!1)})).catch((function(e){j(["Cannot add data. Server error!"]),E(!0),a()})):(j(n),E(!0),a())}(t,a)}))},onRowUpdate:function(t,a){return new Promise((function(n){!function(t,a,n){console.log(a),console.log(t);var r=[];r.length<1?oe.put("".concat(e.url,"/").concat(t.id),t).then((function(e){var r=Object(re.a)(l);r[a.tableData.id]=t,i(Object(re.a)(r)),n(),E(!1),j([])})).catch((function(e){j(["update failed! Server error"]),E(!0),n()})):(j(r),E(!0),n())}(t,a,n)}))},onRowDelete:function(t){return new Promise((function(a){!function(t,a){oe.delete("".concat(e.url,"/").concat(t.id)).then((function(e){var n=Object(re.a)(l),r=t.tableData.id;n.splice(r,1),i(Object(re.a)(n)),a()})).catch((function(e){j(["Delete failed! Server error"]),E(!0),a()}))}(t,a)}))}},detailPanel:e.panels,options:{actionsColumnIndex:-1,addRowPosition:"first",sorting:!0,pageSize:10,pageSizeOptions:[10],paginationType:"normal",padding:"dense",headerStyle:{paddingTop:0,paddingBottom:0,fontSize:"0.75rem",color:u.a[800],backgroundColor:u.a[100],borderTopLeftRadius:2,borderTopRightRadius:2},cellStyle:{paddingTop:12,paddingBottom:12}},actions:[{icon:Se.Refresh,tooltip:"Actualizar",isFreeAction:!0,onClick:function(){x((function(e){return!e}))}}],components:{Toolbar:function(e){return r.a.createElement("div",{style:{backgroundColor:"#e4e5eb"}},r.a.createElement(ie.MTableToolbar,Object.assign({classes:{actions:t.actionsContainer,searchField:t.searchField}},e)))},Container:function(e){return r.a.createElement(de.a,Object.assign({elevation:0},e),e.children)}},localization:le(e.label)})}var Ie=function(e){return r.a.createElement("div",null,r.a.createElement(S.a,{m:5}),r.a.createElement(ne.a,{fixed:!0,maxWidth:"lg"},r.a.createElement(De,{columns:[{title:"Id",field:"id",hidden:!0},{title:"Nombres",field:"name",validate:function(e){return!("undefined"==typeof e.name||!e.name)&&(""!==e.name.trim()||{isValid:!1,helperText:"Nombre es requerido"})}},{title:"Direcci\xf3n",field:"address"},{title:"Email",field:"email"},{title:"T\xe9lefono",field:"phoneNumber",width:150}],url:"clients",title:"Clientes",label:"cliente"})))},Ve=function(e){return r.a.createElement(ne.a,{fixed:!0,maxWidth:"lg"},r.a.createElement(De,{columns:[{title:"Id",field:"id",hidden:!0},{title:"Nombre",field:"name",validate:function(e){return"undefined"!=typeof e.name&&(""!==e.name.trim()||{isValid:!1,helperText:"Nombre es requerido"})}},{title:"Nit",field:"nit",type:"numeric"},{title:"Direcci\xf3n",field:"address"},{title:"T\xe9lefono",field:"phoneNumber"}],url:"suppliers",title:"Proveedores",label:"proveedor"}))},Te=function(e){return r.a.createElement("div",null,r.a.createElement(S.a,{m:2}),r.a.createElement(ne.a,{fixed:!0,maxWidth:"lg"},r.a.createElement(De,{columns:[{title:"Id",field:"id",hidden:!0},{title:"Nombre",field:"name",validate:function(e){return"undefined"!=typeof e.name&&(""!==e.name.trim()||{isValid:!1,helperText:"Nombre es requerido"})}},{title:"Simbolo",field:"symbol",validate:function(e){return"undefined"!=typeof e.symbol&&(""!==e.symbol.trim()||{isValid:!1,helperText:"Simbolo es requerido"})}},{title:"Restricted",field:"restricted",hidden:!0}],url:"units",title:"Unidades de Medida",label:"unidad"})))},Ae=a(29),ke=a.n(Ae),Me=a(56),Le=a(632),Ne=a(621),ze=a(276),We=a(305),_e=a(415),qe=a(71),Be=a.n(qe),Ue=a(452),Ge=a.n(Ue),He=a(453),Xe=a.n(He),Ze=a(115),Qe=a(81),Je=a.n(Qe),Ke=a(94),Ye=a.n(Ke),$e=a(82),et=a.n($e),tt=a(52),at=a.n(tt),nt=a(88),rt=a.n(nt),ct=a(89),ot=a.n(ct),lt=a(91),it=a.n(lt),st=a(92),ut=a.n(st),dt=a(95),mt=a.n(dt),ft=a(90),bt=a.n(ft),pt=a(93),gt=a.n(pt),Et=a(96),ht=a.n(Et),Ot={Add:Object(n.forwardRef)((function(e,t){return r.a.createElement(y.a,{variant:"text",color:"secondary",size:"small",startIcon:r.a.createElement(Je.a,Object.assign({},e,{ref:t}))},"Agregar Precio")})),Check:Object(n.forwardRef)((function(e,t){return r.a.createElement(et.a,Object.assign({},e,{ref:t}))})),Clear:Object(n.forwardRef)((function(e,t){return r.a.createElement(at.a,Object.assign({},e,{ref:t}))})),Delete:Object(n.forwardRef)((function(e,t){return r.a.createElement(rt.a,Object.assign({},e,{ref:t}))})),DetailPanel:Object(n.forwardRef)((function(e,t){return r.a.createElement(L.a,Object.assign({},e,{ref:t}))})),Edit:Object(n.forwardRef)((function(e,t){return r.a.createElement(ot.a,Object.assign({},e,{ref:t}))})),Export:Object(n.forwardRef)((function(e,t){return r.a.createElement(bt.a,Object.assign({},e,{ref:t}))})),Filter:Object(n.forwardRef)((function(e,t){return r.a.createElement(Be.a,Object.assign({},e,{ref:t}))})),FirstPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(it.a,Object.assign({},e,{ref:t}))})),LastPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(ut.a,Object.assign({},e,{ref:t}))})),NextPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(L.a,Object.assign({},e,{ref:t}))})),PreviousPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(k.a,Object.assign({},e,{ref:t}))})),ResetSearch:Object(n.forwardRef)((function(e,t){return r.a.createElement(at.a,Object.assign({},e,{ref:t}))})),Search:Object(n.forwardRef)((function(e,t){return r.a.createElement(gt.a,Object.assign({},e,{ref:t}))})),SortArrow:Object(n.forwardRef)((function(e,t){return r.a.createElement(Ye.a,Object.assign({},e,{ref:t}))})),ThirdStateCheck:Object(n.forwardRef)((function(e,t){return r.a.createElement(mt.a,Object.assign({},e,{ref:t}))})),ViewColumn:Object(n.forwardRef)((function(e,t){return r.a.createElement(ht.a,Object.assign({},e,{ref:t}))}))};function jt(e){var t=Object(n.createRef)(),a=Object(n.useState)([]),c=Object(b.a)(a,2),o=c[0],l=c[1],i=Object(n.useState)({}),s=Object(b.a)(i,2),d=s[0],m=s[1],f=Object(n.useState)(!1),p=Object(b.a)(f,2),g=(p[0],p[1]),E=Object(n.useState)([]),h=Object(b.a)(E,2),O=(h[0],h[1]),j=[{title:"Id",field:"id",hidden:!0},{title:"Especial",field:"special",type:"boolean",width:"10%"},{title:"Precio",field:"price",type:"currency",currencySetting:{locale:"es-GT",currencyCode:"gtq",minimumFractionDigits:2,maximumFractionDigits:2},validate:function(e){return"undefined"!=typeof e.price&&(!(e.price.length<=0)||{isValid:!1,helperText:"Precio es requerido"})},width:"30%"},{title:"Proveedor",field:"supplier.id",lookup:d,width:"60%"}];Object(n.useEffect)((function(){oe.get("suppliers/catal").then((function(e){m(e.data)})).catch((function(e){O(["Cannot load user data"]),g(!0)})),oe.get(e.url).then((function(e){l(e.data)})).catch((function(e){O(["Cannot load user data"]),g(!0)}))}),[]);var v;return r.a.createElement(se.a,{tableRef:t,icons:Ot,title:(v=e.title,r.a.createElement(Ze.a,{color:"textPrimary",variant:"body2"},v)),columns:j,data:o,editable:{isEditable:function(e){return!e.restricted},isDeletable:function(e){return!e.restricted},onRowAdd:function(t){return new Promise((function(a){!function(t,a){var n=[];n.length<1?oe.post(e.url,t).then((function(e){var t=Object(re.a)(o);t.push(e.data),l(t),a(),O([]),g(!1)})).catch((function(e){O(["Cannot add data. Server error!"]),g(!0),a()})):(O(n),g(!0),a())}(t,a)}))},onRowUpdate:function(t,a){return new Promise((function(n){!function(t,a,n){var r=[];r.length<1?oe.put("".concat(e.url,"/").concat(t.id),t).then((function(e){var r=Object(re.a)(o);r[a.tableData.id]=t,l(Object(re.a)(r)),n(),g(!1),O([])})).catch((function(e){O(["update failed! Server error"]),g(!0),n()})):(O(r),g(!0),n())}(t,a,n)}))},onRowDelete:function(t){return new Promise((function(a){!function(t,a){oe.delete("".concat(e.url,"/").concat(t.id)).then((function(e){var n=Object(re.a)(o),r=t.tableData.id;n.splice(r,1),l(Object(re.a)(n)),a()})).catch((function(e){O(["Delete failed! Server error"]),g(!0),a()}))}(t,a)}))}},options:{actionsColumnIndex:-1,addRowPosition:"first",search:!1,paging:!1,pageSize:5,pageSizeOptions:[5],padding:"dense",headerStyle:{paddingTop:0,paddingBottom:0,fontSize:"0.75rem",color:u.a[800],borderTopLeftRadius:2,borderTopRightRadius:2},cellStyle:{paddingTop:8,paddingBottom:8}},components:{Container:function(e){return r.a.createElement("div",e,e.children)}},localization:le(e.label)})}var vt=a(594),wt=a(468),Pt=a(626),xt=a(592),Ft=a(448),Ct=a.n(Ft),Rt=Object(w.a)((function(e){return{root:{display:"flex"},paper:{zIndex:2e3},item:{"&:hover":{color:e.palette.primary}}}}));function St(e){var t=Rt(),a=r.a.useState(!1),n=Object(b.a)(a,2),c=n[0],o=n[1],l=r.a.useRef(null),i=r.a.useState(!1),s=Object(b.a)(i,2),u=s[0],d=s[1],m=r.a.useState({active:e.actions[0].form}),f=Object(b.a)(m,2),p=f[0],g=f[1],E=function(e){l.current&&l.current.contains(e.target)||o(!1)};function h(e){"Tab"===e.key&&(e.preventDefault(),o(!1))}var O=r.a.useRef(c);return r.a.useEffect((function(){!0===O.current&&!1===c&&l.current.focus(),O.current=c}),[c]),r.a.createElement("div",{className:t.root},r.a.createElement("div",{onMouseLeave:function(){o(!1)}},r.a.createElement(ue.a,{color:"primary",size:"medium",ref:l,"aria-controls":c?"menu-list-grow":void 0,"aria-haspopup":"true",onMouseOver:function(){o(!0)},onClick:function(){o((function(e){return!e}))}},r.a.createElement(Ct.a,null)),r.a.createElement(vt.a,{className:t.paper,open:c,anchorEl:l.current,role:void 0,transition:!0,disablePortal:!0},(function(t){var a=t.TransitionProps,n=t.placement;return r.a.createElement(wt.a,Object.assign({},a,{style:{transformOrigin:"bottom"===n?"center top":"center bottom"}}),r.a.createElement(de.a,{elevation:24},r.a.createElement(Pt.a,{onClickAway:E},r.a.createElement(xt.a,{autoFocusItem:c,id:"menu-list-grow",onKeyDown:h},e.actions.map((function(e){return r.a.createElement(_e.a,{key:e.name,onClick:function(t){var a;a=e.form,g({active:a}),d(!0)}},e.name)}))))))}))),r.a.createElement(p.active,{closeModal:function(){return d(!1)},openModal:u,setData:e.setData,budgetId:e.budgetId}))}var yt=a(143),Dt=a(616),It=a(617),Vt=a(618),Tt=a(4),At=a(629),kt=a(283),Mt=a.n(kt),Lt=Object(Tt.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var t=e.children,a=e.classes,n=e.onClose,c=Object(yt.a)(e,["children","classes","onClose"]);return r.a.createElement(At.a,Object.assign({disableTypography:!0,className:a.root},c),r.a.createElement(Ze.a,{variant:"h6"},t),n?r.a.createElement(I.a,{"aria-label":"close",className:a.closeButton,onClick:n},r.a.createElement(Mt.a,{fontSize:"medium"})):null)})),Nt=Object(w.a)((function(e){return{root:{width:"100%",maxWidth:"36ch",backgroundColor:e.palette.background.paper},inline:{display:"inline"}}}));function zt(e){var t=e.open,a=e.data,n=e.showTitle,c=e.showRow,o=e.onClose,l=e.onConfirm,i=Object(yt.a)(e,["open","data","showTitle","showRow","onClose","onConfirm"]);Nt();return r.a.createElement(Dt.a,Object.assign({disableBackdropClick:!0,disableEscapeKeyDown:!0,maxWidth:"md","aria-labelledby":"confirmation-dialog-title",open:t},i),r.a.createElement(Lt,{onClose:o,id:"confirmation-dialog-title"},n(a)),r.a.createElement(It.a,{dividers:!0},r.a.createElement(z.a,null,a.map((function(e,t){return c(e,t)})))),r.a.createElement(Vt.a,null,r.a.createElement(y.a,{autoFocus:!0,onClick:function(){o()},color:"primary"},"Cancelar"),r.a.createElement(y.a,{onClick:function(){l(a),o()},color:"primary"},"Confirmar")))}var Wt=a(284),_t=a.n(Wt),qt=Object(w.a)((function(e){return{img:{maxWidth:"100%",paddingRight:e.spacing(2)}}})),Bt=function(e){var t=e.image,a=qt();return r.a.createElement("img",{src:t,alt:"instrucciones",className:a.img})},Ut=a(429),Gt=a(412),Ht=a(637),Xt=a(635),Zt=a(636),Qt=a(277),Jt=a(22),Kt=a(63),Yt=a(343),$t=a(469),ea=a(425),ta=a(347);function aa(e){return r.a.createElement(Ne.a,{container:!0,spacing:3},r.a.createElement(Ne.a,{item:!0,xs:12,sm:4},r.a.createElement(Jt.a,{component:Kt.d,name:"length",type:"number",label:e.lengthLabel?e.lengthLabel:"Largo",InputProps:{endAdornment:r.a.createElement(ea.a,{position:"end"},"m")}})),r.a.createElement(Ne.a,{item:!0,xs:12,sm:4},r.a.createElement(Jt.a,{component:Kt.d,name:"width",type:"number",label:"Ancho",InputProps:{endAdornment:r.a.createElement(ea.a,{position:"end"},"m")}})),r.a.createElement(Ne.a,{item:!0,xs:12,sm:4},r.a.createElement(Jt.a,{component:Kt.d,name:"height",type:"number",label:e.heightLabel?e.heightLabel:"Alto",InputProps:{endAdornment:r.a.createElement(ea.a,{position:"end"},"m")}})))}var na=function(e){var t=e.name,a=e.label,c=e.value,o=e.setFieldValue,l=e.errors,i=e.touched,s=e.helperText,u=e.fieldProps;return r.a.createElement(n.Fragment,null,r.a.createElement(Jt.a,{component:Yt.a,id:t,name:t||"name",type:"text",label:a||"Nombre",autoFocus:!0,value:c,onChange:function(e){return o(t||"name",e.target.value)},InputProps:Object(p.a)({},u)}),s&&r.a.createElement($t.a,{id:"".concat(t||"name","-helper-text")},s),l.name&&i.name?r.a.createElement("div",null,r.a.createElement(Ze.a,{color:"error",variant:"caption"},l.name)):null)},ra=function(e){var t=e.name,a=e.label,c=e.value,o=e.setFieldValue,l=e.errors,i=e.touched,s=e.helperText;return r.a.createElement(n.Fragment,null,r.a.createElement(Jt.a,{component:Yt.a,id:t,name:t,type:"number",label:a,value:c,onChange:function(e){return o(t,e.target.value)},inputProps:{step:"0.001"},InputProps:{endAdornment:r.a.createElement(ea.a,{position:"end"},"m")}}),s&&r.a.createElement($t.a,{id:"".concat(t,"-helper-text")},s),l[t]&&i[t]?r.a.createElement("div",null,r.a.createElement(Ze.a,{color:"error",variant:"caption"},l[t])):null)},ca=function(e){var t=e.name,a=e.label,c=e.value,o=e.setFieldValue,l=e.errors,i=e.touched,s=e.helperText;return r.a.createElement(n.Fragment,null,r.a.createElement(Jt.a,{component:Yt.a,id:t,name:t,type:"number",label:a,value:c,inputProps:{step:"1"},onChange:function(e){return o(t,e.target.value)}}),s&&r.a.createElement($t.a,{id:"".concat(t,"-helper-text")},s),l[t]&&i[t]?r.a.createElement("div",null,r.a.createElement(Ze.a,{color:"error",variant:"caption"},l[t])):null)},oa=function(e){var t=e.name,a=e.label,c=e.value,o=e.setFieldValue,l=e.errors,i=e.touched,s=e.helperText;return r.a.createElement(n.Fragment,null,r.a.createElement(Jt.a,{component:Yt.a,id:t,name:t,type:"number",label:a,value:c,onChange:function(e){return o(t,e.target.value)},inputProps:{step:"0.001"},InputProps:{endAdornment:r.a.createElement(ea.a,{position:"end"},"\u33a1")}}),s&&r.a.createElement($t.a,{id:"".concat(t,"-helper-text")},s),l[t]&&i[t]?r.a.createElement("div",null,r.a.createElement(Ze.a,{color:"error",variant:"caption"},l[t])):null)},la=function(e){var t=e.name,a=e.label,c=e.value,o=e.setFieldValue,l=e.errors,i=e.touched,s=e.helperText,u=e.optional;return r.a.createElement(n.Fragment,null,r.a.createElement(Jt.a,{component:Yt.a,id:t,name:t,type:"number",label:a,value:c,onChange:function(e){return o(t,e.target.value)},inputProps:{min:0,max:100,step:"1"},InputProps:{endAdornment:r.a.createElement(ea.a,{position:"end"},"%")}}),r.a.createElement($t.a,{id:"".concat(t,"-helper-text")},"".concat(s||""," ").concat(u?"Opcional":"")),l[t]&&i[t]?r.a.createElement("div",null,r.a.createElement(Ze.a,{color:"error",variant:"caption"},l[t])):null)},ia=function(e){var t=e.name,a=e.label,c=e.value,o=e.setFieldValue,l=(e.errors,e.touched,e.helperText);return r.a.createElement(n.Fragment,null,r.a.createElement(ta.a,{styles:{label:{color:"#0000008a"}},control:r.a.createElement(Jt.a,{component:Kt.c,type:"checkbox",id:t,name:t,value:c,onChange:function(e){return o(t,e.target.value)}}),label:a}),l&&r.a.createElement($t.a,{id:"".concat(t,"-helper-text")},l))},sa=function(e){var t=e.lengthLabel,a=e.widthLabel,n=e.heightLabel;return r.a.createElement(aa,{lengthLabel:t,widthLabel:a,heightLabel:n})},ua={Add:Object(n.forwardRef)((function(e,t){return r.a.createElement(y.a,{variant:"text",color:"secondary",size:"small",startIcon:r.a.createElement(Je.a,Object.assign({},e,{ref:t}))},"Agregar Precio")})),Check:Object(n.forwardRef)((function(e,t){return r.a.createElement(et.a,Object.assign({},e,{ref:t}))})),Clear:Object(n.forwardRef)((function(e,t){return r.a.createElement(at.a,Object.assign({},e,{ref:t}))})),Delete:Object(n.forwardRef)((function(e,t){return r.a.createElement(rt.a,Object.assign({},e,{ref:t}))})),DetailPanel:Object(n.forwardRef)((function(e,t){return r.a.createElement(L.a,Object.assign({},e,{ref:t}))})),Edit:Object(n.forwardRef)((function(e,t){return r.a.createElement(ot.a,Object.assign({},e,{ref:t}))})),Export:Object(n.forwardRef)((function(e,t){return r.a.createElement(bt.a,Object.assign({},e,{ref:t}))})),Filter:Object(n.forwardRef)((function(e,t){return r.a.createElement(Be.a,Object.assign({},e,{ref:t}))})),FirstPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(it.a,Object.assign({},e,{ref:t}))})),LastPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(ut.a,Object.assign({},e,{ref:t}))})),NextPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(L.a,Object.assign({},e,{ref:t}))})),PreviousPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(k.a,Object.assign({},e,{ref:t}))})),ResetSearch:Object(n.forwardRef)((function(e,t){return r.a.createElement(at.a,Object.assign({},e,{ref:t}))})),Search:Object(n.forwardRef)((function(e,t){return r.a.createElement(gt.a,Object.assign({},e,{ref:t}))})),SortArrow:Object(n.forwardRef)((function(e,t){return r.a.createElement(Ye.a,Object.assign({},e,{ref:t}))})),ThirdStateCheck:Object(n.forwardRef)((function(e,t){return r.a.createElement(mt.a,Object.assign({},e,{ref:t}))})),ViewColumn:Object(n.forwardRef)((function(e,t){return r.a.createElement(ht.a,Object.assign({},e,{ref:t}))}))};function da(e){var t=e.prices,a=e.setPrices,c=(e.title,e.label),o=Object(n.createRef)(),l=Object(n.useState)({}),i=Object(b.a)(l,2),s=i[0],d=i[1],m=Object(n.useState)(!1),f=Object(b.a)(m,2),g=(f[0],f[1]),E=Object(n.useState)([]),h=Object(b.a)(E,2),O=(h[0],h[1]),j=[{title:"Id",field:"id",hidden:!0},{title:"Especial",field:"special",type:"boolean",width:"10%"},{title:"Precio",field:"price",type:"currency",currencySetting:{locale:"es-GT",currencyCode:"gtq",minimumFractionDigits:2,maximumFractionDigits:2},validate:function(e){return"undefined"!=typeof e.price&&(!(e.price.length<=0)||{isValid:!1,helperText:"Precio es requerido"})},width:"30%"},{title:"Proveedor",field:"supplier.id",lookup:s,width:"60%"}];Object(n.useEffect)((function(){oe.get("suppliers/catal").then((function(e){d(e.data)})).catch((function(e){O(["Cannot load user data"]),g(!0)}))}),[]);return r.a.createElement(se.a,{tableRef:o,icons:ua,title:"",columns:j,data:t,editable:{isEditable:function(e){return!e.restricted},isDeletable:function(e){return!e.restricted},onRowAdd:function(e){return new Promise((function(n){!function(e,n){var r=Object(re.a)(t);r.push(e),a(r),n()}(e,n)}))},onRowUpdate:function(e,n){return new Promise((function(r){!function(e,n,r){var c=Object(re.a)(t);c[n.tableData.id]=e,a(Object(re.a)(c))}(e,n)}))},onRowDelete:function(e){return new Promise((function(n){!function(e,n){var r=Object(re.a)(t),c=e.tableData.id;r.splice(c,1),a(Object(re.a)(r)),n()}(e,n)}))}},options:{actionsColumnIndex:-1,addRowPosition:"first",search:!1,paging:!1,pageSize:5,pageSizeOptions:[5],padding:"dense",headerStyle:{paddingTop:0,paddingBottom:0,fontSize:"0.75rem",color:u.a[800],borderTopLeftRadius:2,borderTopRightRadius:2},cellStyle:{paddingTop:8,paddingBottom:8}},components:{Container:function(e){return r.a.createElement("div",e,e.children)}},localization:Object(p.a)(Object(p.a)({},le(c)),{},{body:Object(p.a)(Object(p.a)({},le(c).body),{},{emptyDataSourceMessage:""})})})}var ma=a(39),fa=ma.e().required("Requerido"),ba=ma.c().positive("Deber ser positivo").required("Requerido"),pa=ma.c().positive("Deber ser positivo").integer("Deber ser un n\xfamero entero ").required("Requerido"),ga=ma.c().positive("Debe ser positivo").required("Requerido"),Ea=ma.b().required("Requerido"),ha=ma.c().min(0,"Debe ser un numero entre 0 - 100").max(100,"Debe ser un numero entre 0 - 100").nullable(),Oa={name:fa,profitPct:ha,amount:pa,unitAmount:ga,unit:Ea,length:ba,width:ba,height:ba,area:ba,wallArea:ba,ceilArea:ba,knotsPerPound:ba,sqrMtsPerBag:ba,sqrMtsPerGal:ba,recubrimiento:ba,separacion:ba,junta:ba,longHook:ba,longPata:ba,cantLongsElems:pa,cantLongsAuxElems:pa,cantTransElems:pa,propTension:ha,estribosDouble:ma.a().default(!1),mixProp:Ea,cement:Ea,sand:Ea,gravel:Ea,iron:Ea,longIron:Ea,longIronAux:Ea,transIron:Ea,tieWire:Ea,block:Ea,preMix:Ea,wallPaint:Ea,ceilPaint:Ea,electromalla:Ea,cementPrice:Ea,sandPrice:Ea,gravelPrice:Ea,ironPrice:Ea,longIronPrice:Ea,longIronAuxPrice:Ea,transIronPrice:Ea,tieWirePrice:Ea,blockPrice:Ea,preMixPrice:Ea,wallPaintPrice:Ea,ceilPaintPrice:Ea,electromallaPrice:Ea,cementWastePct:ha,sandWastePct:ha,gravelWastePct:ha,ironWastePct:ha,longIronWastePct:ha,longIronAuxWastePct:ha,transIronWastePct:ha,tieWireWastePct:ha,blockWastePct:ha,preMixWastePct:ha,wallPaintWastePct:ha,ceilPaintWastePct:ha,electromallaWastePct:ha},ja=Oa.name,va=Oa.profitPct,wa=Oa.amount,Pa=Oa.unitAmount,xa=Oa.unit,Fa=Oa.length,Ca=Oa.width,Ra=Oa.height,Sa=Oa.area,ya=Oa.wallArea,Da=Oa.ceilArea,Ia=Oa.knotsPerPound,Va=Oa.sqrMtsPerBag,Ta=Oa.sqrMtsPerGal,Aa=Oa.recubrimiento,ka=Oa.separacion,Ma=Oa.junta,La=Oa.longHook,Na=Oa.longPata,za=Oa.cantLongsElems,Wa=Oa.cantLongsAuxElems,_a=Oa.cantTransElems,qa=Oa.propTension,Ba=Oa.estribosDouble,Ua=Oa.mixProp,Ga=Oa.cement,Ha=Oa.sand,Xa=Oa.gravel,Za=Oa.iron,Qa=Oa.longIron,Ja=Oa.longIronAux,Ka=Oa.transIron,Ya=Oa.tieWire,$a=Oa.block,en=Oa.preMix,tn=Oa.wallPaint,an=Oa.ceilPaint,nn=Oa.electromalla,rn=Oa.cementPrice,cn=Oa.sandPrice,on=Oa.gravelPrice,ln=Oa.ironPrice,sn=Oa.longIronPrice,un=Oa.longIronAuxPrice,dn=Oa.transIronPrice,mn=Oa.tieWirePrice,fn=Oa.blockPrice,bn=Oa.preMixPrice,pn=Oa.wallPaintPrice,gn=Oa.ceilPaintPrice,En=Oa.electromallaPrice,hn=Oa.cementWastePct,On=Oa.sandWastePct,jn=Oa.gravelWastePct,vn=Oa.ironWastePct,wn=Oa.longIronWastePct,Pn=Oa.transIronWastePct,xn=Oa.tieWireWastePct,Fn=Oa.blockWastePct,Cn=Oa.preMixWastePct,Rn=Oa.wallPaintWastePct,Sn=Oa.ceilPaintWastePct,yn=Oa.electromallaWastePct,Dn=a(292),In=a.n(Dn),Vn=function(){return r.a.createElement(In.a,{fontSize:"large",color:"primary"})},Tn=function(e){var t=e.schema,a=e.apiId,c=e.title,o=(e.label,e.initialValues),l=e.openModal,i=e.closeModal,s=e.setData,u=e.FormFields,d=e.maxWidth,m=e.image,f=e.imgSpacing,g=Object(n.useState)([]),E=Object(b.a)(g,2),h=E[0],O=E[1],j=Object(n.useState)(),v=Object(b.a)(j,2),w=v[0],P=v[1],x=function(e,t){P({ok:e,msg:t})};return r.a.createElement(Dt.a,{maxWidth:d||"md",fullWidth:!0,open:l,onClose:function(){return i},"aria-labelledby":"form-dialog-title"},r.a.createElement(Lt,{onClose:i,id:"confirmation-dialog-title"},r.a.createElement(Ht.a,{alternativeLabel:!0},r.a.createElement(Xt.a,{key:"".concat(c)},r.a.createElement(Zt.a,{StepIconComponent:Vn}," ","Agregar ".concat(c||"Material"))))),r.a.createElement(It.a,{dividers:!0},r.a.createElement(Jt.c,{initialValues:Object(p.a)({},o),validationSchema:ma.d().shape(Object(p.a)({name:ja},t)),onSubmit:function(e,t){var n=t.setSubmitting,r=t.resetForm;console.log("values",e),oe.post("".concat(a),Object(p.a)(Object(p.a)({},e),{},{prices:h})).then((function(e){oe.get("".concat(a,"/").concat(e.data.id)).then((function(e){console.log(e.data);var t=e.data;s((function(e){return[t].concat(Object(re.a)(e))}))})),n(!1),r(),x(!0,""),i()})).catch((function(e){n(!1),x(!1,e.response.data.error)}))}},(function(e){var t=e.submitForm,a=e.isSubmitting,n=e.setFieldValue,c=e.values,o=e.errors,l=e.touched;return r.a.createElement(Jt.b,null,r.a.createElement(Ne.a,{container:!0,spacing:4,alignItems:"center"},m&&r.a.createElement(Ne.a,{item:!0,xs:12,sm:f||4},r.a.createElement(Bt,{image:m})),r.a.createElement(Ne.a,{item:!0,xs:12,sm:12-(f||0)},u&&r.a.createElement(u,{values:c,setFieldValue:n,errors:o,touched:l})),r.a.createElement(Ne.a,{item:!0,xs:12},r.a.createElement(da,{title:"Precios",label:"precio",prices:h,setPrices:O}))),a&&r.a.createElement(Ut.a,null),r.a.createElement("br",null),r.a.createElement(Vt.a,null,r.a.createElement(y.a,{color:"inherit",onClick:i},"Cancelar"),r.a.createElement(y.a,{startIcon:a?r.a.createElement(Gt.a,{size:"1rem"}):null,disabled:a,variant:"contained",color:"primary",onClick:t},a?"Enviando":"Enviar")),w&&r.a.createElement("p",{className:w.ok?"":"errorMsg"},w.msg))}))))},An=function(e){var t=e.values,a=e.setFieldValue,n=e.errors,c=e.touched;return r.a.createElement(Ne.a,{container:!0,spacing:3},r.a.createElement(Ne.a,{item:!0,xs:12},r.a.createElement(na,{value:t.name,setFieldValue:a,errors:n,touched:c})))},kn=function(e){var t=e.values,a=e.setFieldValue,n=e.errors,c=e.touched,o=e.Field,l=e.name,i=e.label,s=e.helperText;return r.a.createElement(Ne.a,{container:!0,spacing:3},r.a.createElement(Ne.a,{item:!0,xs:12,sm:8},r.a.createElement(na,{value:t.name,setFieldValue:a,errors:n,touched:c})),r.a.createElement(Ne.a,{item:!0,xs:12,sm:4},r.a.createElement(o,{name:l,label:i,helperText:s,value:t[l],setFieldValue:a,errors:n,touched:c})))},Mn=function(e){var t=e.openModal,a=e.closeModal,n=e.setData;return r.a.createElement(Tn,{apiId:"cements",title:"Cemento",label:"cemento",openModal:t,closeModal:a,setData:n,FormFields:An,initialValues:{name:"Cemento "}})},Ln=function(e){var t=e.openModal,a=e.closeModal,n=e.setData;return r.a.createElement(Tn,{apiId:"sands",title:"Arena",label:"arena",openModal:t,closeModal:a,setData:n,FormFields:An,initialValues:{name:"Arena "}})},Nn=function(e){var t=e.openModal,a=e.closeModal,n=e.setData;return r.a.createElement(Tn,{apiId:"gravels",title:"Piedrin",label:"piedrin",openModal:t,closeModal:a,setData:n,FormFields:An,initialValues:{name:"Piedrin "}})},zn=function(e){var t=e.openModal,a=e.closeModal,n=e.setData;return r.a.createElement(Tn,{apiId:"irons",title:"Hierro",label:"hierro",FormFields:function(e){var t=e.values,a=e.setFieldValue,n=e.errors,c=e.touched;return r.a.createElement(kn,{values:t,setFieldValue:a,errors:n,touched:c,Field:ra,name:"length",label:"Largo \xdatil"})},openModal:t,closeModal:a,setData:n,schema:{length:Fa},initialValues:{name:"Hierro "}})},Wn=function(e){var t=e.openModal,a=e.closeModal,n=e.setData;return r.a.createElement(Tn,{apiId:"tiewires",title:"Alambre de Amarre",label:"alambre",FormFields:function(e){var t=e.values,a=e.setFieldValue,n=e.errors,c=e.touched;return r.a.createElement(kn,{values:t,setFieldValue:a,errors:n,touched:c,Field:ca,name:"knotsPerPound",label:"Nudos / Lb",helperText:"Cantidad de nudos por libra de alambre"})},openModal:t,closeModal:a,setData:n,schema:{knotsPerPound:Ia},initialValues:{name:"Alambre de amarre "}})},_n=function(e){var t=e.openModal,a=e.closeModal,n=e.setData;return r.a.createElement(Tn,{apiId:"blocks",title:"Block",label:"block",FormFields:function(e){var t=e.values,a=e.setFieldValue,n=e.errors,c=e.touched;return r.a.createElement(Ne.a,{container:!0,spacing:3},r.a.createElement(Ne.a,{item:!0,xs:12},r.a.createElement(na,{value:t.name,setFieldValue:a,errors:n,touched:c})),r.a.createElement(Ne.a,{item:!0,xs:12},r.a.createElement(sa,{values:t,setFieldValue:a,errors:n,touched:c})))},openModal:t,closeModal:a,setData:n,schema:{length:Fa,width:Ca,height:Ra},maxWidth:"md",image:_t.a,imgSpacing:4,initialValues:{name:"Block "}})},qn=function(e){var t=e.openModal,a=e.closeModal,n=e.setData;return r.a.createElement(Tn,{apiId:"premixes",title:"Recubrimiento Premezclado",label:"recubrimiento premezclado",FormFields:function(e){var t=e.values,a=e.setFieldValue,n=e.errors,c=e.touched;return r.a.createElement(kn,{values:t,setFieldValue:a,errors:n,touched:c,Field:oa,name:"sqrMtsPerBag",label:"\u33a1 / bolsa",helperText:"Rendimiento: Cantidad de \u33a1 por bolsa"})},openModal:t,closeModal:a,setData:n,schema:{sqrMtsPerBag:Va},initialValues:{name:""}})},Bn=function(e){var t=e.openModal,a=e.closeModal,n=e.setData;return r.a.createElement(Tn,{apiId:"paints",title:"Pintura",label:"pintura",FormFields:function(e){var t=e.values,a=e.setFieldValue,n=e.errors,c=e.touched;return r.a.createElement(kn,{values:t,setFieldValue:a,errors:n,touched:c,Field:oa,name:"sqrMtsPerGal",label:"\u33a1 / \u33ff",helperText:"Rendimiento: Cantidad de metros cuadrados por gal\xf3n de pintura"})},openModal:t,closeModal:a,setData:n,schema:{sqrMtsPerGal:Ta},initialValues:{name:"Pintura "}})},Un=function(e){var t=e.openModal,a=e.closeModal,n=e.setData;return r.a.createElement(Tn,{apiId:"electromallas",title:"Electromalla",label:"electromalla",FormFields:function(e){var t=e.values,a=e.setFieldValue,n=e.errors,c=e.touched;return r.a.createElement(kn,{values:t,setFieldValue:a,errors:n,touched:c,Field:oa,name:"area",label:"Area",helperText:"Superficie de la plancha de electromalla"})},openModal:t,closeModal:a,setData:n,schema:{area:Sa},initialValues:{name:"Electromalla "}})},Gn=function(e){var t=e.openModal,a=e.closeModal,c=e.setData,o=Object(n.useState)([]),l=Object(b.a)(o,2),i=l[0],s=l[1];Object(n.useEffect)((function(){oe.get("units").then((function(e){s(e.data)})).catch((function(e){}))}),[]);var u=Object(w.a)({denseItem:{paddingTop:0,paddingBottom:0}})();return r.a.createElement(Tn,{apiId:"materials",label:"material",FormFields:function(e){var t=e.values,a=e.setFieldValue,n=e.errors,c=e.touched;return r.a.createElement(Ne.a,{container:!0,spacing:3},r.a.createElement(Ne.a,{item:!0,xs:12,sm:8},r.a.createElement(na,{value:t.name,setFieldValue:a,errors:n,touched:c})),r.a.createElement(Ne.a,{item:!0,xs:12,sm:4},r.a.createElement(ze.a,null,r.a.createElement(Qt.a,{htmlFor:"unit"},"Unidad de Medida"),r.a.createElement(Jt.a,{component:We.a,disabled:0===i.length,name:"unit",onChange:function(e,t){return a("unit",e.target.value)},defaultValue:t.unit?t.unit:null,displayEmpty:!0,renderValue:function(e){return e?r.a.createElement(_e.a,{dense:!0,className:u.denseItem,value:e},"".concat(e.name)):""},inputProps:{id:"mix-prop"}},i.map((function(e){return r.a.createElement(_e.a,{dense:!0,value:e},e.name)}))),n.unit&&c.unit?r.a.createElement("div",null,r.a.createElement(Ze.a,{color:"error",variant:"caption"},n.unit)):null)))},openModal:t,closeModal:a,setData:c,schema:{name:ja,unit:ma.b().required("Unidad es requerido")}})},Hn=function(){return r.a.createElement(In.a,{fontSize:"large",color:"primary"})},Xn=function(e){var t=e.apiId,a=e.id,c=e.rowData,o=e.materialsData,l=e.setMaterialsData,i=e.validationSchema,s=e.FormMaterial,u=e.maxWidth,d=e.open,m=e.closeModal,f=e.title,g=e.image,E=e.imgSpacing,h=Object(n.useState)(),O=Object(b.a)(h,2),j=(O[0],O[1]),v=function(e,t){j({ok:e,msg:t})};return r.a.createElement(Dt.a,{maxWidth:u||"md",fullWidth:!0,open:d,onClose:function(){return m},"aria-labelledby":"form-dialog-title"},r.a.createElement(Lt,{onClose:m},r.a.createElement(Ht.a,{alternativeLabel:!0},r.a.createElement(Xt.a,{key:"".concat(f)},r.a.createElement(Zt.a,{StepIconComponent:Hn}," ","Editar ".concat(f||"Material"))))),r.a.createElement(It.a,{dividers:!0},r.a.createElement(Jt.c,{enableReinitialize:!0,initialValues:Object(p.a)({},c),validationSchema:ma.d().shape(Object(p.a)({},i)),onSubmit:function(e,n){var r=n.setSubmitting;n.resetForm;oe.put("".concat(t,"/").concat(a),Object(p.a)({},e)).then((function(n){r(!1),oe.get("".concat(t,"/").concat(a)).then((function(e){var t=Object(re.a)(o),a=c.tableData.id,n=Object(p.a)(Object(p.a)({},e.data),{},{tableData:c.tableData});t[a]=n,l(Object(re.a)(t))})).catch((function(e){return console.log(e)})),console.log("values",e),v(!0,""),m()})).catch((function(e){r(!1),v(!1,e.response.data.error)}))}},(function(e){var t=e.values,n=e.setFieldValue,c=e.errors,o=e.touched,l=e.submitForm,i=e.isSubmitting;return r.a.createElement(Jt.b,null,r.a.createElement(Ne.a,{container:!0,spacing:4,alignItems:"center"},g&&r.a.createElement(Ne.a,{item:!0,xs:12,sm:E||4},r.a.createElement(Bt,{image:g})),r.a.createElement(Ne.a,{item:!0,xs:12,sm:12-(E||0)},r.a.createElement(s,{values:t,setFieldValue:n,errors:c,touched:o})),r.a.createElement(Ne.a,{item:!0,xs:12},r.a.createElement(jt,{url:"/materials/".concat(a,"/prices"),parentId:a,title:"Precios",label:"precio"}))),i&&r.a.createElement(Ut.a,null),r.a.createElement("br",null),r.a.createElement(Vt.a,null,r.a.createElement(y.a,{color:"inherit",onClick:m},"Cancelar"),r.a.createElement(y.a,{startIcon:i?r.a.createElement(Gt.a,{size:"1rem"}):null,disabled:i,variant:"contained",color:"primary",type:"submit",onClick:l},i?"Enviando":"Actualizar")))}))))},Zn=function(e){var t=e.open,a=e.closeModal,n=e.rowData,c=e.rowsData,o=e.setRowsData,l=n.id;return r.a.createElement(Xn,{apiId:"materials",id:l,FormMaterial:function(e){var t=e.values,a=e.setFieldValue,n=e.errors,c=e.touched;return r.a.createElement(Ne.a,{container:!0,spacing:3},r.a.createElement(Ne.a,{item:!0,xs:12},r.a.createElement(na,{value:t.name,setFieldValue:a,errors:n,touched:c})))},rowData:n,materialsData:c,setMaterialsData:o,open:t,closeModal:a,validationSchema:{name:ja}})},Qn={0:function(e){var t=e.open,a=e.closeModal,c=e.rowData,o=e.rowsData,l=e.setRowsData,i=c.id,s=Object(n.useState)([]),u=Object(b.a)(s,2),d=u[0],m=u[1];Object(n.useEffect)((function(){oe.get("units").then((function(e){m(e.data)})).catch((function(e){}))}),[]);var f=Object(w.a)({denseItem:{paddingTop:0,paddingBottom:0}})();return r.a.createElement(Xn,{apiId:"materials",id:i,FormMaterial:function(e){var t=e.values,a=e.setFieldValue,n=e.errors,c=e.touched;return r.a.createElement(Ne.a,{container:!0,spacing:3},r.a.createElement(Ne.a,{item:!0,xs:12,sm:8},r.a.createElement(na,{value:t.name,setFieldValue:a,errors:n,touched:c})),r.a.createElement(Ne.a,{item:!0,xs:12,sm:4},r.a.createElement(ze.a,null,r.a.createElement(Qt.a,{htmlFor:"unit"},"Unidad de Medida"),r.a.createElement(Jt.a,{component:We.a,disabled:0===d.length,name:"unit",onChange:function(e,t){return a("unit",e.target.value)},defaultValue:t.unit?t.unit:null,displayEmpty:!0,renderValue:function(e){return e?r.a.createElement(_e.a,{dense:!0,className:f.denseItem,value:e},"".concat(e.name)):""},inputProps:{id:"mix-prop"}},d.map((function(e){return r.a.createElement(_e.a,{dense:!0,value:e},e.name)}))),n.unit&&c.unit?r.a.createElement("div",null,r.a.createElement(Ze.a,{color:"error",variant:"caption"},n.unit)):null)))},rowData:c,materialsData:o,setMaterialsData:l,open:t,closeModal:a,validationSchema:{name:ja,unit:ma.b().required("Unidad es requerido")}})},1:Zn,2:Zn,3:Zn,4:function(e){var t=e.open,a=e.closeModal,n=e.rowData,c=e.rowsData,o=e.setRowsData,l=n.id;return r.a.createElement(Xn,{apiId:"irons",id:l,FormMaterial:function(e){var t=e.values,a=e.setFieldValue,n=e.errors,c=e.touched;return r.a.createElement(Ne.a,{container:!0,spacing:3},r.a.createElement(Ne.a,{item:!0,xs:12,sm:8},r.a.createElement(na,{value:t.name,setFieldValue:a,errors:n,touched:c})),r.a.createElement(Ne.a,{item:!0,xs:12,sm:4},r.a.createElement(Jt.a,{component:Kt.d,name:"length",type:"number",label:"Largo \xdatil",InputProps:{endAdornment:r.a.createElement(ea.a,{position:"end"},"m")}})))},rowData:n,materialsData:c,setMaterialsData:o,open:t,closeModal:a,validationSchema:{name:ja,length:Fa}})},5:function(e){var t=e.open,a=e.closeModal,n=e.rowData,c=e.rowsData,o=e.setRowsData,l=n.id;return r.a.createElement(Xn,{apiId:"tiewires",id:l,FormMaterial:function(e){var t=e.values,a=e.setFieldValue,n=e.errors,c=e.touched;return r.a.createElement(Ne.a,{container:!0,spacing:3},r.a.createElement(Ne.a,{item:!0,xs:12,sm:8},r.a.createElement(na,{value:t.name,setFieldValue:a,errors:n,touched:c})),r.a.createElement(Ne.a,{item:!0,xs:12,sm:4},r.a.createElement(Jt.a,{id:"knotsPerPound",component:Kt.d,name:"knotsPerPound",type:"number",label:"Nudos / Libra"}),r.a.createElement($t.a,{id:"knotsPerPound-text"},"Cantidad de nudos por libra de alambre")))},rowData:n,materialsData:c,setMaterialsData:o,open:t,closeModal:a,validationSchema:{name:ja,knotsPerPound:Ia}})},6:function(e){var t=e.open,a=e.closeModal,n=e.rowData,c=e.rowsData,o=e.setRowsData,l=n.id;return r.a.createElement(Xn,{apiId:"blocks",id:l,FormMaterial:function(e){var t=e.values,a=e.setFieldValue,n=e.errors,c=e.touched;return r.a.createElement(Ne.a,{container:!0,spacing:3},r.a.createElement(Ne.a,{item:!0,xs:12},r.a.createElement(na,{value:t.name,setFieldValue:a,errors:n,touched:c})),r.a.createElement(Ne.a,{item:!0,xs:12},r.a.createElement(sa,null)))},rowData:n,materialsData:c,setMaterialsData:o,open:t,closeModal:a,validationSchema:{name:ja,length:Fa,width:Ca,height:Ra},image:_t.a,imgSpacing:4})},7:function(e){var t=e.open,a=e.closeModal,n=e.rowData,c=e.rowsData,o=e.setRowsData,l=n.id;return r.a.createElement(Xn,{apiId:"premixes",id:l,FormMaterial:function(e){var t=e.values,a=e.setFieldValue,n=e.errors,c=e.touched;return r.a.createElement(Ne.a,{container:!0,spacing:3},r.a.createElement(Ne.a,{item:!0,xs:12,sm:8},r.a.createElement(na,{value:t.name,setFieldValue:a,errors:n,touched:c})),r.a.createElement(Ne.a,{item:!0,xs:12,sm:4},r.a.createElement(Jt.a,{id:"sqrMtsPerBag",component:Kt.d,name:"sqrMtsPerBag",type:"number",label:"\u33a1 / bolsa"}),r.a.createElement($t.a,{id:"sqrMtsPerBag-text"},"Rendimiento: Cantidad de \u33a1 por bolsa")))},rowData:n,materialsData:c,setMaterialsData:o,open:t,closeModal:a,validationSchema:{name:ja,sqrMtsPerBag:Va}})},8:function(e){var t=e.open,a=e.closeModal,n=e.rowData,c=e.rowsData,o=e.setRowsData,l=n.id;return r.a.createElement(Xn,{apiId:"paints",id:l,FormMaterial:function(e){var t=e.values,a=e.setFieldValue,n=e.errors,c=e.touched;return r.a.createElement(Ne.a,{container:!0,spacing:3},r.a.createElement(Ne.a,{item:!0,xs:12,sm:8},r.a.createElement(na,{value:t.name,setFieldValue:a,errors:n,touched:c})),r.a.createElement(Ne.a,{item:!0,xs:12,sm:4},r.a.createElement(ca,{name:"sqrMtsPerGal",label:"\u33a1 / \u33ff",value:t.sqrMtsPerGal,helperText:"Rendimiento: Cantidad de metros cuadrados por gal\xf3n de pintura",setFieldValue:a,errors:n,touched:c})))},rowData:n,materialsData:c,setMaterialsData:o,open:t,closeModal:a,validationSchema:{name:ja,sqrMtsPerGal:Ta}})},9:function(e){var t=e.open,a=e.closeModal,n=e.rowData,c=e.rowsData,o=e.setRowsData,l=n.id;return r.a.createElement(Xn,{apiId:"electromallas",id:l,FormMaterial:function(e){var t=e.values,a=e.setFieldValue,n=e.errors,c=e.touched;return r.a.createElement(Ne.a,{container:!0,spacing:3},r.a.createElement(Ne.a,{item:!0,xs:12,sm:8},r.a.createElement(na,{value:t.name,setFieldValue:a,errors:n,touched:c})),r.a.createElement(Ne.a,{item:!0,xs:12,sm:4},r.a.createElement(oa,{name:"area",label:"Area",value:t.area,helperText:"Superficie de la plancha de electromalla",setFieldValue:a,errors:n,touched:c})))},rowData:n,materialsData:c,setMaterialsData:o,open:t,closeModal:a,validationSchema:{name:ja,area:Sa}})}},Jn=function(e){return new Intl.NumberFormat("es-GT",{style:"currency",currency:"gtq"}).format(e)},Kn={Add:Object(n.forwardRef)((function(e,t){return r.a.createElement(ue.a,{color:"secondary",size:"medium"},r.a.createElement(me.a,Object.assign({},e,{ref:t}))," ")})),Check:Object(n.forwardRef)((function(e,t){return r.a.createElement(fe.a,Object.assign({},e,{ref:t}))})),Clear:Object(n.forwardRef)((function(e,t){return r.a.createElement(be.a,Object.assign({},e,{ref:t}))})),Delete:Object(n.forwardRef)((function(e,t){return r.a.createElement(pe.a,Object.assign({},e,{ref:t}))})),DetailPanel:Object(n.forwardRef)((function(e,t){return r.a.createElement(ge.a,Object.assign({},e,{ref:t}))})),Edit:Object(n.forwardRef)((function(e,t){return r.a.createElement(Ee.a,Object.assign({},e,{ref:t}))})),Export:Object(n.forwardRef)((function(e,t){return r.a.createElement(he.a,Object.assign({},e,{ref:t}))})),Filter:Object(n.forwardRef)((function(e,t){return r.a.createElement(Be.a,Object.assign({},e,{ref:t}))})),FirstPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(je.a,Object.assign({},e,{ref:t}))})),LastPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(ve.a,Object.assign({},e,{ref:t}))})),NextPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(ge.a,Object.assign({},e,{ref:t}))})),PreviousPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(we.a,Object.assign({},e,{ref:t}))})),ResetSearch:Object(n.forwardRef)((function(e,t){return r.a.createElement(be.a,Object.assign({},e,{ref:t}))})),Search:Object(n.forwardRef)((function(e,t){return r.a.createElement(Pe.a,Object.assign({},e,{ref:t}))})),SortArrow:Object(n.forwardRef)((function(e,t){return r.a.createElement(xe.a,Object.assign({},e,{ref:t}))})),ThirdStateCheck:Object(n.forwardRef)((function(e,t){return r.a.createElement(Fe.a,Object.assign({},e,{ref:t}))})),ViewColumn:Object(n.forwardRef)((function(e,t){return r.a.createElement(Ce.a,Object.assign({},e,{ref:t}))})),Refresh:Object(n.forwardRef)((function(e,t){return r.a.createElement(Ge.a,Object.assign({color:"primary"},e,{ref:t}))})),AddLibrary:Object(n.forwardRef)((function(e,t){return r.a.createElement(St,Object.assign({},e,{ref:t}))})),Price:Object(n.forwardRef)((function(e,t){return r.a.createElement(Xe.a,Object.assign({},e,{ref:t}))}))},Yn=Object(w.a)((function(e){return{actionsContainer:{minWidth:"max-content",marginLeft:e.spacing(2)},searchField:{maxWidth:"max-content"},panel:{paddingLeft:e.spacing(12.5),marginTop:e.spacing(1),marginBottom:e.spacing(4)}}})),$n=function(e,t){return r.a.createElement(W.a,null,r.a.createElement(Le.a,null,r.a.createElement(R.a,null,t+1)),r.a.createElement(q.a,{primary:e.name,secondary:r.a.createElement(Ne.a,{container:!0,direction:"row",justify:"flex-start",spacing:1,alignItems:"center"},r.a.createElement(Ne.a,{item:!0},"".concat(e.type?"".concat(e.type.name,", "):""," ").concat(e.unit.name)))}),r.a.createElement(N.a,null))};function er(e){var t=Yn(),a=Object(n.createRef)(),c=Object(n.useState)(!0),o=Object(b.a)(c,2),l=o[0],i=o[1],s=Object(n.useState)(!1),d=Object(b.a)(s,2),m=d[0],f=d[1],p=Object(n.useState)([]),g=Object(b.a)(p,2),E=g[0],h=g[1],O=Object(n.useState)({}),j=Object(b.a)(O,2),v=j[0],w=j[1],P=Object(n.useState)({}),x=Object(b.a)(P,2),F=x[0],C=x[1],R=Object(n.useState)(!1),S=Object(b.a)(R,2),y=(S[0],S[1]),D=Object(n.useState)([]),I=Object(b.a)(D,2),V=(I[0],I[1]),T=Object(n.useState)(!1),A=Object(b.a)(T,2),k=A[0],M=A[1],L=Object(n.useState)(!1),N=Object(b.a)(L,2),z=N[0],W=N[1],_=r.a.useState({active:n.Fragment}),q=Object(b.a)(_,2),B=q[0],U=q[1],G=function(e,t){U({active:e,data:t}),W(!0)},H=Object(n.useState)(!1),X=Object(b.a)(H,2),Z=X[0],Q=X[1],J=Object(n.useState)([]),K=Object(b.a)(J,2),Y=K[0],$=K[1],ee=function(){var t=Object(Me.a)(ke.a.mark((function t(a){var n;return ke.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(a.map(function(){var t=Object(Me.a)(ke.a.mark((function t(a){return ke.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log("borrada",a.id),t.next=4,oe.delete("".concat(e.url,"/").concat(a.id));case 4:return t.abrupt("return",t.sent);case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()));case 2:n=Object(re.a)(E),a.forEach((function(e){n=n.filter((function(t){return t.tableData.id!==e.tableData.id}))})),h(n);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),te=[{title:"Id",field:"id",hidden:!0},{title:"Nombre",field:"name",filtering:!1,render:function(e){return e.fullName},validate:function(e){return"undefined"!=typeof e.name&&(""!==e.name.trim()||{isValid:!1,helperText:"Nombre es requerido"})}},{title:"Tipo",field:"type.id",editable:"never",lookup:F},{title:"Unidad de Medida",field:"unit.id",lookup:v,validate:function(e){return"undefined"!=typeof e.unit},editComponent:function(e){return r.a.createElement(ze.a,null,r.a.createElement(We.a,{value:e.value,displayEmpty:!0,disabled:null!=e.rowData.type,onChange:function(t){return e.onChange(t.target.value)}},Object.entries(v).map((function(e){var t=Object(b.a)(e,2),a=t[0],n=t[1];return r.a.createElement(_e.a,{value:a},n)}))))}}],ae=[{name:"Cemento",form:Mn},{name:"Arena",form:Ln},{name:"Piedrin",form:Nn},{name:"Hierro",form:zn},{name:"Alambre de Amarre",form:Wn},{name:"Block",form:_n},{name:"Recubrimiento Premezclado",form:qn},{name:"Pintura",form:Bn},{name:"Electromalla",form:Un}];Object(n.useEffect)((function(){oe.get("units/catal").then((function(e){w(e.data)})).catch((function(e){V(["Cannot load user data"]),y(!0)}))}),[m]),Object(n.useEffect)((function(){oe.get("materialtypes/catal").then((function(e){C(e.data)})).catch((function(e){V(["Cannot load user data"]),y(!0)}))}),[m]),Object(n.useEffect)((function(){i(!0),oe.get(e.url).then((function(e){console.log("consola aqui"+e.data),h(e.data),i(!1)})).catch((function(e){V(["Cannot load user data"]),y(!0)}))}),[m]);return r.a.createElement(n.Fragment,null,r.a.createElement(se.a,{tableRef:a,icons:Kn,title:e.title,columns:te,data:E,isLoading:l,editable:{isEditHidden:function(e){return!0},isEditable:function(e){return!e.restricted},isDeletable:function(e){return!e.restricted},onRowUpdate:function(t,a){return new Promise((function(n){!function(t,a,n){var r=[];r.length<1?oe.put("".concat(e.url,"/").concat(t.id),t).then((function(e){var t=Object(re.a)(E);t[a.tableData.id]=e.data,h(Object(re.a)(t)),n(),y(!1),V([])})).catch((function(e){V(["update failed! Server error"]),y(!0),n()})):(V(r),y(!0),n())}(t,a,n)}))},onRowDelete:function(t){return new Promise((function(a){!function(t,a){oe.delete("".concat(e.url,"/").concat(t.id)).then((function(e){var n=Object(re.a)(E),r=t.tableData.id;n.splice(r,1),h(Object(re.a)(n)),a()})).catch((function(e){V(["Delete failed! Server error"]),y(!0),a()}))}(t,a)}))}},options:{actionsColumnIndex:-1,filtering:!0,searchFieldAlignment:"right",addRowPosition:"first",selection:!0,sorting:!0,pageSize:10,pageSizeOptions:[10],paginationType:"normal",padding:"dense",headerStyle:{paddingTop:8,paddingBottom:8,fontSize:"0.75rem",color:u.a[900],backgroundColor:u.a[100],borderTopLeftRadius:2,borderTopRightRadius:2},rowStyle:{},cellStyle:{paddingTop:10,paddingBottom:10},searchFieldStyle:{maxWidth:"max-content"}},actions:[{icon:Kn.Edit,tooltip:"Editar",onClick:function(e,t){t.type?G(Qn[t.type.id],t):G(Qn[0],t)},position:"row"},{icon:Kn.Refresh,tooltip:"Actualizar",isFreeAction:!0,onClick:function(){f((function(e){return!e}))}},{tooltip:"Eliminar materiales",icon:Kn.Delete,onClick:function(e,t){$(t),Q(!0)}},{icon:function(){return r.a.createElement(Kn.AddLibrary,{setData:h,actions:ae})},isFreeAction:!0},{icon:function(){return r.a.createElement(ue.a,{color:"secondary",size:"medium"},r.a.createElement(me.a,null)," ")},tooltip:"Nuevo Material",isFreeAction:!0,onClick:function(){return M(!0)}}],components:{Toolbar:function(e){return r.a.createElement("div",{style:{backgroundColor:"#e4e5eb"}},r.a.createElement(ie.MTableToolbar,Object.assign({classes:{actions:t.actionsContainer,searchField:t.searchField}},e)))},Container:function(e){return r.a.createElement(de.a,Object.assign({elevation:0},e),e.children)}},localization:le(e.label)}),r.a.createElement(zt,{classes:{paper:t.paper},id:"rows-to-delete",keepMounted:!0,showTitle:function(e){return"\xbfEsta seguro de eliminar ".concat(e.length>1?"estos ".concat(e.length," materiales?"):"este material ?")},showRow:$n,open:Z,onClose:function(){Q(!1)},data:Y,onConfirm:ee}),r.a.createElement(B.active,{closeModal:function(){W(!1)},open:z,rowData:B.data,rowsData:E,setRowsData:h}),r.a.createElement(Gn,{closeModal:function(){return M(!1)},openModal:k,setData:h}))}var tr,ar=a(625),nr=a(262),rr=a.n(nr),cr=a(342),or=a(295),lr=a.n(or),ir=a(296),sr=a.n(ir),ur=a(598),dr=a(638),mr=a(11),fr=a.n(mr),br=a(354),pr={font:{name:"Arial",sz:14,bold:!0,color:{rgb:"FFFFFFFF"}},alignment:{horizontal:"center",vertical:"center"},fill:{bgColor:{rgb:"FF424242"},fgColor:{rgb:"FF424242"}}},gr={font:{name:"Arial",sz:12,bold:!0,color:{rgb:"FFFFFFFF"}},alignment:{horizontal:"center",vertical:"center"},fill:{bgColor:{rgb:"FF1D4D87"},fgColor:{rgb:"FF1D4D87"}}},Er={font:{name:"Arial",sz:10,bold:!0,color:{rgb:"FFFFFFFF"}},alignment:{horizontal:"center",vertical:"center"},fill:{bgColor:{rgb:"FF1D4D87"},fgColor:{rgb:"FF1D4D87"}}},hr={font:{name:"Arial",sz:10,bold:!0,color:{rgb:"ff0a6266"}},alignment:{horizontal:"center",vertical:"center"},fill:{bgColor:{rgb:"ffe3f0f0"},fgColor:{rgb:"ffe3f0f0"}}},Or={font:{name:"Arial",sz:10,bold:!0},alignment:{horizontal:"left",vertical:"center"},fill:{bgColor:{rgb:"FFF5F5F5"},fgColor:{rgb:"FFF5F5F5"}}},jr={font:{name:"Arial",sz:10,bold:!0},alignment:{horizontal:"center",vertical:"center"},fill:{bgColor:{rgb:"E3F0F0"},fgColor:{rgb:"E3F0F0"}}},vr={font:{name:"Arial",sz:10,bold:!0},alignment:{horizontal:"center",vertical:"center"}},wr={font:{name:"Arial",sz:10},alignment:{vertical:"center"}},Pr=function(e){return e||""},xr=function(e,t){return[[t+1,e.fullName||"",e.unitAmount||"",e.unit.symbol||"",e.unitCost||0,e.totalCost||0]]},Fr=function(e){return e.map((function(e){return{"No.":"",DESCRIPCION:e.name,CANTIDAD:e.totalAmount,UNIDAD:e.unit.symbol,"COSTO UNIT.":e.price,"COSTO TOTAL":e.totalPrice}}))},Cr=function(e){return e.map((function(e,t){return{"No.":t+1,DESCRIPCION:e.name,CANTIDAD:e.amount,UNIDAD:e.unit,PRECIO:e.price,TOTAL:e.total,PROVEEDOR:e.supplier}}))},Rr=function(e){return e.reduce((function(e,t){return e+t.totalCost}),0)},Sr=function(e,t){var a,n=fr.a.utils.aoa_to_sheet([[]]),r=e.project,c=e.client,o=e.architect,l=e.name;n["!merges"]=[{s:{r:0,c:0},e:{r:0,c:4}},{s:{r:0,c:5},e:{r:6,c:5}},{s:{r:7,c:0},e:{r:7,c:5}}],n["!cols"]||(n["!cols"]=[]),n["!cols"][0]={wch:3},n["!cols"][1]={wch:50},n["!cols"][2]={wch:12},n["!cols"][3]={wch:12},n["!cols"][4]={wch:15},n["!cols"][5]={wch:18},n["!cols"][6]={wch:50},fr.a.utils.sheet_add_aoa(n,function(e){return[["PRESUPUESTO ".concat(e.toUpperCase())]]}(r.name),{origin:"A1"}),fr.a.utils.sheet_add_aoa(n,[["".concat(t)]],{origin:"A8"}),fr.a.utils.sheet_add_aoa(n,[[""]],{origin:"G8"}),fr.a.utils.sheet_add_aoa(n,function(e,t,a){return[["UBICACI\xd3N"],["".concat(Pr(e).toUpperCase())],["CLIENTE"],[t?"".concat(t.name.toUpperCase()):""],["ARQUITECTO"],["".concat(Pr(a).toUpperCase())]]}(r.address,c,o),{origin:"B2"}),fr.a.utils.sheet_add_aoa(n,(a=l,[["FECHA","".concat((new Date).toLocaleDateString("en-GB"))],["PRESUPUESTO","".concat(Pr(a).toUpperCase())]]),{origin:"D2"}),n.A1.s=pr,n.A8.s=gr;for(var i=2;i<8;i++)n["B".concat(i)].s=i%2==0?wr:Object(p.a)(Object(p.a)({},wr),{},{font:{name:"Arial",sz:12,bold:!0}});return n.D2.s=wr,n.D3.s=wr,n.E2.s=Object(p.a)(Object(p.a)({},wr),{},{font:{name:"Arial",sz:12,bold:!0}}),n.E3.s=Object(p.a)(Object(p.a)({},wr),{},{font:{name:"Arial",sz:12,bold:!0}}),n},yr=function(e){for(var t=fr.a.utils.decode_range(e["!ref"]),a=t.s.r;a<=t.e.r;a++)e["!rows"]||(e["!rows"]=[]),e["!rows"][a]={hpt:18},0===a&&(e["!rows"][a]={hpt:22});return e},Dr=function(e){for(var t=fr.a.utils.decode_range(e["!ref"]),a=fr.a.utils.decode_col("A"),n=fr.a.utils.decode_col("C"),r=fr.a.utils.decode_col("E"),c=fr.a.utils.decode_col("F"),o='"Q"#,##0.00',l=t.s.r+9;l<=t.e.r;l++){var i=fr.a.utils.encode_cell({r:l,c:a}),s=fr.a.utils.encode_cell({r:l,c:n}),u=fr.a.utils.encode_cell({r:l,c:r}),d=fr.a.utils.encode_cell({r:l,c:c});if(e[i]){if("n"!=e[i].t)continue;e[i].z="#"}if(e[s]){if("n"!=e[s].t)continue;e[s].z="0.00"}if(e[u]){if("n"!=e[u].t)continue;e[u].z=o}if(e[d]){if("n"!=e[d].t)continue;e[d].z=o}}return e},Ir=function(e){var t=Sr(e[0].budget,"RESUMEN DE PRESUPUESTO"),a=e.length,n="A".concat(a+10),r="F".concat(a+10);t["!merges"]=[].concat(Object(re.a)(t["!merges"]),[{s:{r:a+9,c:0},e:{r:a+9,c:4}}]),fr.a.utils.sheet_add_json(t,function(e){return e.map((function(e,t){return{"No.":t+1,DESCRIPCION:e.fullName,CANTIDAD:e.unitAmount,UNIDAD:e.unit.symbol,"COSTO UNIT.":e.unitCost||0,"COSTO TOTAL":e.totalCost||0}}))}(e),{origin:"A9"}),fr.a.utils.sheet_add_aoa(t,[["COSTO TOTAL"]],{origin:n}),fr.a.utils.sheet_add_aoa(t,[[Rr(e)]],{origin:r}),t.A9.s=Er,t["B".concat("9")].s=Object(p.a)(Object(p.a)({},Er),{},{alignment:{horizontal:"left",vertical:"center"}}),t["C".concat("9")].s=Er,t["D".concat("9")].s=Er,t["E".concat("9")].s=Er,t["F".concat("9")].s=Er;for(var c=fr.a.utils.decode_range(t["!ref"]),o=c.s.r+9;o<=a+9;++o)for(var l=c.s.c;l<=5;++l)if(l<2){if(!t[fr.a.utils.encode_cell({r:o,c:l})])continue;t[fr.a.utils.encode_cell({r:o,c:l})].s=Object(p.a)(Object(p.a)({},wr),{},{alignment:{horizontal:"left",vertical:"center"}})}else if(l<4&&l>=2){if(!t[fr.a.utils.encode_cell({r:o,c:l})])continue;t[fr.a.utils.encode_cell({r:o,c:l})].s=Object(p.a)(Object(p.a)({},wr),{},{alignment:{horizontal:"center",vertical:"center"}})}else{if(!t[fr.a.utils.encode_cell({r:o,c:l})])continue;t[fr.a.utils.encode_cell({r:o,c:l})].s=wr}return t[n].s=gr,t[r].s=Object(p.a)(Object(p.a)({},gr),{},{alignment:{horizontal:"right",vertical:"center"}}),(t=Dr(t))[r].z='"Q"#,##0.00',t[r].f="SUM(".concat(fr.a.utils.encode_cell({r:9,c:5}),":").concat(fr.a.utils.encode_cell({r:a+8,c:5}),")"),t[r].F="".concat(r,":").concat(r),yr(t)},Vr=function(){var e=Object(Me.a)(ke.a.mark((function e(t){var a,n,r,c,o,l,i,s,u,d,m,f,b,g,E,h;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=function(){return(u=Object(Me.a)(ke.a.mark((function e(t){var a,n;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l(t);case 2:return a=e.sent,e.next=5,Object.values(br.a.groupBy(br.a.flatten(a),(function(e){return e.materialPrice.id})));case 5:return n=e.sent,e.next=8,n.map((function(e){return e.reduce((function(e,t){return console.log("Costo en materiales export",t),e.name=t.name,e.amount=e.amount+t.totalAmount,e.unit=t.unit.symbol,e.price=t.price,e.total=e.total+t.totalPrice,e.supplier=t.materialPrice.supplier?"".concat(t.materialPrice.supplier.name||""):"",e}),{name:"",amount:0,unit:"",price:"",total:0,supplier:""})}));case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)},s=function(e){return u.apply(this,arguments)},i=function(){return(i=Object(Me.a)(ke.a.mark((function e(t){var a;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Promise.all(t.map(function(){var e=Object(Me.a)(ke.a.mark((function e(t){var a;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,oe.get("rows/".concat(t,"/mtlcosts"));case 3:return a=e.sent,e.abrupt("return",a.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}())),e.abrupt("return",a);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)},l=function(e){return i.apply(this,arguments)},a=Sr(t[0].budget,"LISTADO DE MATERIALES"),n=t.map((function(e){return e.id})),e.t0=s,e.next=9,n;case 9:return e.t1=e.sent,e.next=12,(0,e.t0)(e.t1);case 12:return r=e.sent,e.next=15,r.length;case 15:return c=e.sent,o=t[0].budget,o.project,o.client,o.architect,o.name,d="A9",m="9",f="A".concat(c+10),b="F".concat(c+10),a["!merges"]=[{s:{r:0,c:0},e:{r:0,c:4}},{s:{r:0,c:5},e:{r:6,c:5}},{s:{r:7,c:0},e:{r:7,c:5}},{s:{r:c+9,c:0},e:{r:c+9,c:4}}],e.t2=fr.a.utils,e.t3=a,e.t4=Cr,e.next=27,r;case 27:for(e.t5=e.sent,e.t6=(0,e.t4)(e.t5),e.t7={origin:d},e.t2.sheet_add_json.call(e.t2,e.t3,e.t6,e.t7),fr.a.utils.sheet_add_aoa(a,[[""]],{origin:b}),g=fr.a.utils.decode_range(a["!ref"]),E=2;E<8;E++)a["B".concat(E)].s=E%2==0?wr:Object(p.a)(Object(p.a)({},wr),{},{font:{name:"Arial",sz:12,bold:!0}});return e.next=36,r.length;case 36:if(e.t8=e.sent,!(e.t8>0)){e.next=46;break}a[d].s=Er,a["B".concat(m)].s=Object(p.a)(Object(p.a)({},Er),{},{alignment:{horizontal:"left",vertical:"center"}}),a["C".concat(m)].s=Er,a["D".concat(m)].s=Er,a["E".concat(m)].s=Er,a["F".concat(m)].s=Er,a["G".concat(m-1)].s=hr,a["G".concat(m)].s=hr;case 46:E=g.s.r+9;case 47:if(!(E<=c+9)){e.next=71;break}h=g.s.c;case 49:if(!(h<=6)){e.next=68;break}if(!(h<2)){e.next=56;break}if(a[fr.a.utils.encode_cell({r:E,c:h})]){e.next=53;break}return e.abrupt("continue",65);case 53:a[fr.a.utils.encode_cell({r:E,c:h})].s=Object(p.a)(Object(p.a)({},wr),{},{alignment:{horizontal:"left",vertical:"center"}}),e.next=65;break;case 56:if(!(h<4&&h>=2)){e.next=62;break}if(a[fr.a.utils.encode_cell({r:E,c:h})]){e.next=59;break}return e.abrupt("continue",65);case 59:a[fr.a.utils.encode_cell({r:E,c:h})].s=Object(p.a)(Object(p.a)({},wr),{},{alignment:{horizontal:"center",vertical:"center"}}),e.next=65;break;case 62:if(a[fr.a.utils.encode_cell({r:E,c:h})]){e.next=64;break}return e.abrupt("continue",65);case 64:a[fr.a.utils.encode_cell({r:E,c:h})].s=wr;case 65:++h,e.next=49;break;case 68:++E,e.next=47;break;case 71:return e.next=73,r.length;case 73:if(e.t9=e.sent,!(e.t9>0)){e.next=81;break}fr.a.utils.sheet_add_aoa(a,[["COSTO TOTAL"]],{origin:f}),a[f].s=gr,a[b].z='"Q"#,##0.00',a[b].F="".concat(b,":").concat(b),a[b].f="SUM(".concat(fr.a.utils.encode_cell({r:9,c:5}),":").concat(fr.a.utils.encode_cell({r:c+8,c:5}),")"),a[b].s=Object(p.a)(Object(p.a)({},gr),{},{alignment:{horizontal:"right",vertical:"center"}});case 81:return a=Dr(a),e.t10=console,e.next=85,r;case 85:return e.t11=e.sent,e.t10.log.call(e.t10,"costos",e.t11),e.abrupt("return",yr(a));case 88:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Tr=function(){var e=Object(Me.a)(ke.a.mark((function e(t){var a,n,r,c,o,l,i,s,u,d;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d=function(){return(d=Object(Me.a)(ke.a.mark((function e(t){return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)},u=function(e){return d.apply(this,arguments)},s=function(){return(s=Object(Me.a)(ke.a.mark((function e(t){var a;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Promise.all(t.map(function(){var e=Object(Me.a)(ke.a.mark((function e(t){var a,n,r;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,oe.get("rows/".concat(t.id,"/mtlcosts"));case 3:return a=e.sent,e.next=6,oe.get("rows/".concat(t.id,"/wfcosts"));case 6:return n=e.sent,e.next=9,oe.get("rows/".concat(t.id,"/indcosts"));case 9:return r=e.sent,e.abrupt("return",Object(p.a)(Object(p.a)({},t),{},{materialCosts:a.data,workForceCosts:n.data,indirectCosts:r.data}));case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}())),e.abrupt("return",a);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)},i=function(e){return s.apply(this,arguments)},a=Sr(t[0].budget,"PRESUPUESTO DESGLOSADO"),e.t0=u,e.next=8,t;case 8:return e.t1=e.sent,e.next=11,(0,e.t0)(e.t1);case 11:return n=e.sent,e.next=14,n.length;case 14:return e.sent,r=9,c=t[0].budget,c.project,c.client,c.architect,c.name,o='"Q"#,##0.00',"#",l="0.00",a["!rows"]||(a["!rows"]=[]),n.forEach(function(){var e=Object(Me.a)(ke.a.mark((function e(t,n){var c,i;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r++,fr.a.utils.sheet_add_json(a,xr(t,n),{origin:"A".concat(r++),skipHeader:!0}),a["A".concat(r-1)].s=Er,a["A".concat(r-1)].z="#",a["B".concat(r-1)].s=Object(p.a)(Object(p.a)({},Er),{},{alignment:{horizontal:"left",vertical:"center"}}),a["C".concat(r-1)].s=Er,a["C".concat(r-1)].z=l,a["D".concat(r-1)].s=Er,a["E".concat(r-1)].s=Object(p.a)(Object(p.a)({},Er),{},{alignment:{horizontal:"right",vertical:"center"}}),a["E".concat(r-1)].z=o,a["F".concat(r-1)].s=Object(p.a)(Object(p.a)({},Er),{},{alignment:{horizontal:"right",vertical:"center"}}),a["F".concat(r-1)].z=o,fr.a.utils.sheet_add_aoa(a,[["","DESCRIPCION","CANTIDAD","UNIDAD","COSTO UNIT.","COSTO TOTAL"]],{origin:"A".concat(r++)}),a["A".concat(r-1)].s=Er,a["B".concat(r-1)].s=Object(p.a)(Object(p.a)({},Er),{},{alignment:{horizontal:"left",vertical:"center"}}),a["C".concat(r-1)].s=Er,a["D".concat(r-1)].s=Er,a["E".concat(r-1)].s=Er,a["F".concat(r-1)].s=Er,!(t.materialCosts.length>0)){e.next=68;break}fr.a.utils.sheet_add_aoa(a,[["","MATERIALES","","","",""]],{origin:"A".concat(r++)}),a["A".concat(r-1)].s=Or,a["B".concat(r-1)].s=Or,a["C".concat(r-1)].s=Or,a["D".concat(r-1)].s=Or,a["E".concat(r-1)].s=Or,a["F".concat(r-1)].s=Or,fr.a.utils.sheet_add_json(a,Fr(t.materialCosts),{origin:"A".concat(r),skipHeader:!0}),c=r-1;case 29:if(!(c<r+t.materialCosts.length+9)){e.next=53;break}i=0;case 31:if(!(i<=5)){e.next=50;break}if(!(i<2)){e.next=38;break}if(a[fr.a.utils.encode_cell({r:c,c:i})]){e.next=35;break}return e.abrupt("continue",47);case 35:a[fr.a.utils.encode_cell({r:c,c:i})].s=Object(p.a)(Object(p.a)({},wr),{},{alignment:{horizontal:"left",vertical:"center"}}),e.next=47;break;case 38:if(!(i<4&&i>=2)){e.next=44;break}if(a[fr.a.utils.encode_cell({r:c,c:i})]){e.next=41;break}return e.abrupt("continue",47);case 41:a[fr.a.utils.encode_cell({r:c,c:i})].s=Object(p.a)(Object(p.a)({},wr),{},{alignment:{horizontal:"center",vertical:"center"}}),e.next=47;break;case 44:if(a[fr.a.utils.encode_cell({r:c,c:i})]){e.next=46;break}return e.abrupt("continue",47);case 46:a[fr.a.utils.encode_cell({r:c,c:i})].s=wr;case 47:++i,e.next=31;break;case 50:c++,e.next=29;break;case 53:c=r-1;case 54:if(!(c<r+t.materialCosts.length+9)){e.next=61;break}if(a[fr.a.utils.encode_cell({r:c,c:2})]){e.next=57;break}return e.abrupt("continue",58);case 57:a[fr.a.utils.encode_cell({r:c,c:2})].z=l;case 58:c++,e.next=54;break;case 61:r+=t.materialCosts.length,a["!merges"]=[].concat(Object(re.a)(a["!merges"]),[{s:{r:r-1,c:1},e:{r:r-1,c:4}}]),fr.a.utils.sheet_add_aoa(a,[["","Subtotal de materiales","","","","".concat(t.materialCost)]],{origin:"A".concat(r++)}),a["B".concat(r-1)].s=vr,a["F".concat(r-1)].s=Object(p.a)(Object(p.a)({},vr),{},{alignment:{horizontal:"right",vertical:"center"}}),a["F".concat(r-1)].t="n",a["F".concat(r-1)].z=o;case 68:if(!(t.workForceCosts.length>0)){e.next=117;break}fr.a.utils.sheet_add_aoa(a,[["","MANO DE OBRA","","","",""]],{origin:"A".concat(r++)}),a["A".concat(r-1)].s=Or,a["B".concat(r-1)].s=Or,a["C".concat(r-1)].s=Or,a["D".concat(r-1)].s=Or,a["E".concat(r-1)].s=Or,a["F".concat(r-1)].s=Or,fr.a.utils.sheet_add_json(a,Fr(t.workForceCosts),{origin:"A".concat(r),skipHeader:!0}),c=r-1;case 78:if(!(c<r+t.workForceCosts.length+9)){e.next=102;break}i=0;case 80:if(!(i<=5)){e.next=99;break}if(!(i<2)){e.next=87;break}if(a[fr.a.utils.encode_cell({r:c,c:i})]){e.next=84;break}return e.abrupt("continue",96);case 84:a[fr.a.utils.encode_cell({r:c,c:i})].s=Object(p.a)(Object(p.a)({},wr),{},{alignment:{horizontal:"left",vertical:"center"}}),e.next=96;break;case 87:if(!(i<4&&i>=2)){e.next=93;break}if(a[fr.a.utils.encode_cell({r:c,c:i})]){e.next=90;break}return e.abrupt("continue",96);case 90:a[fr.a.utils.encode_cell({r:c,c:i})].s=Object(p.a)(Object(p.a)({},wr),{},{alignment:{horizontal:"center",vertical:"center"}}),e.next=96;break;case 93:if(a[fr.a.utils.encode_cell({r:c,c:i})]){e.next=95;break}return e.abrupt("continue",96);case 95:a[fr.a.utils.encode_cell({r:c,c:i})].s=wr;case 96:++i,e.next=80;break;case 99:c++,e.next=78;break;case 102:c=r-1;case 103:if(!(c<r+t.workForceCosts.length+9)){e.next=110;break}if(a[fr.a.utils.encode_cell({r:c,c:2})]){e.next=106;break}return e.abrupt("continue",107);case 106:a[fr.a.utils.encode_cell({r:c,c:2})].z=l;case 107:c++,e.next=103;break;case 110:r+=t.workForceCosts.length,a["!merges"]=[].concat(Object(re.a)(a["!merges"]),[{s:{r:r-1,c:1},e:{r:r-1,c:4}}]),fr.a.utils.sheet_add_aoa(a,[["","Subtotal de mano de obra","","","","".concat(t.workForceCost)]],{origin:"A".concat(r++)}),a["B".concat(r-1)].s=vr,a["F".concat(r-1)].s=Object(p.a)(Object(p.a)({},vr),{},{alignment:{horizontal:"right",vertical:"center"}}),a["F".concat(r-1)].t="n",a["F".concat(r-1)].z=o;case 117:if(t.directCost&&(a["!merges"]=[].concat(Object(re.a)(a["!merges"]),[{s:{r:r-1,c:1},e:{r:r-1,c:4}}]),fr.a.utils.sheet_add_aoa(a,[["","TOTAL COSTOS DIRECTOS","","","","".concat(t.directCost)]],{origin:"A".concat(r++)}),a["A".concat(r-1)].s=jr,a["B".concat(r-1)].s=jr,a["F".concat(r-1)].s=Object(p.a)(Object(p.a)({},jr),{},{alignment:{horizontal:"right",vertical:"center"}}),a["F".concat(r-1)].t="n",a["F".concat(r-1)].z=o),!(t.indirectCosts.length>0)){e.next=161;break}fr.a.utils.sheet_add_aoa(a,[["","COSTOS INDIRECTOS","","","",""]],{origin:"A".concat(r++)}),a["A".concat(r-1)].s=Or,a["B".concat(r-1)].s=Or,a["C".concat(r-1)].s=Or,a["D".concat(r-1)].s=Or,a["E".concat(r-1)].s=Or,a["F".concat(r-1)].s=Or,fr.a.utils.sheet_add_json(a,Fr(t.indirectCosts),{origin:"A".concat(r),skipHeader:!0}),c=r-1;case 128:if(!(c<r+t.indirectCosts.length+9)){e.next=152;break}i=0;case 130:if(!(i<=5)){e.next=149;break}if(!(i<2)){e.next=137;break}if(a[fr.a.utils.encode_cell({r:c,c:i})]){e.next=134;break}return e.abrupt("continue",146);case 134:a[fr.a.utils.encode_cell({r:c,c:i})].s=Object(p.a)(Object(p.a)({},wr),{},{alignment:{horizontal:"left",vertical:"center"}}),e.next=146;break;case 137:if(!(i<4&&i>=2)){e.next=143;break}if(a[fr.a.utils.encode_cell({r:c,c:i})]){e.next=140;break}return e.abrupt("continue",146);case 140:a[fr.a.utils.encode_cell({r:c,c:i})].s=Object(p.a)(Object(p.a)({},wr),{},{alignment:{horizontal:"center",vertical:"center"}}),e.next=146;break;case 143:if(a[fr.a.utils.encode_cell({r:c,c:i})]){e.next=145;break}return e.abrupt("continue",146);case 145:a[fr.a.utils.encode_cell({r:c,c:i})].s=wr;case 146:++i,e.next=130;break;case 149:c++,e.next=128;break;case 152:c=r-1;case 153:if(!(c<r+t.indirectCosts.length+9)){e.next=160;break}if(a[fr.a.utils.encode_cell({r:c,c:2})]){e.next=156;break}return e.abrupt("continue",157);case 156:a[fr.a.utils.encode_cell({r:c,c:2})].z=l;case 157:c++,e.next=153;break;case 160:r+=t.indirectCosts.length;case 161:a["!merges"]=[].concat(Object(re.a)(a["!merges"]),[{s:{r:r-1,c:1},e:{r:r-1,c:4}}]),t.indirectCost&&(a["!merges"]=[].concat(Object(re.a)(a["!merges"]),[{s:{r:r-1,c:1},e:{r:r-1,c:4}}]),fr.a.utils.sheet_add_aoa(a,[["","TOTAL COSTOS INDIRECTOS","","","","".concat(t.indirectCost)]],{origin:"A".concat(r++)}),a["A".concat(r-1)].s=jr,a["B".concat(r-1)].s=jr,a["F".concat(r-1)].s=Object(p.a)(Object(p.a)({},jr),{},{alignment:{horizontal:"right",vertical:"center"}}),a["F".concat(r-1)].t="n",a["F".concat(r-1)].z=o),0===t.materialCosts.length&&0===t.workForceCosts.length&&0===t.indirectCosts.length||(a["!merges"]=[].concat(Object(re.a)(a["!merges"]),[{s:{r:r-1,c:1},e:{r:r-1,c:4}}]),fr.a.utils.sheet_add_aoa(a,[["","COSTO TOTAL RENGLON","","","","".concat(t.totalCost||0)]],{origin:"A".concat(r++)}),a["A".concat(r-1)].s=Er,a["B".concat(r-1)].s=Er,a["F".concat(r-1)].t="n",a["F".concat(r-1)].z=o,a["F".concat(r-1)].s=Object(p.a)(Object(p.a)({},Er),{},{alignment:{horizontal:"right",vertical:"center"}}));case 164:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),e.t2=console,e.next=25,n;case 25:return e.t3=e.sent,e.t2.log.call(e.t2,"presupuesto desglosado",e.t3),e.abrupt("return",yr(a));case 28:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ar=a(195),kr=a.n(Ar),Mr=a(454),Lr=a.n(Mr),Nr=function(e){var t=e.url,a=e.propName,c=e.value,o=e.renderValue,l=e.errors,i=e.touched,s=Object(n.useState)([]),u=Object(b.a)(s,2),d=u[0],m=u[1];return Object(n.useEffect)((function(){oe.get(t).then((function(e){m(e.data)})).catch((function(e){}))}),[]),r.a.createElement(Ne.a,{container:!0,spacing:3},r.a.createElement(Ne.a,{item:!0,xs:12,md:12},r.a.createElement(ze.a,null,r.a.createElement(Qt.a,{htmlFor:"mix-prop"},"Proporci\xf3n volum\xe9trica (".concat(a,")")),r.a.createElement(Jt.a,{component:Kt.b,disabled:0===d.length,name:"mixProp",defaultValue:c||null,displayEmpty:!0,renderValue:function(e){return e?r.a.createElement(_e.a,{value:e},o(e)):""},inputProps:{id:"mix-prop"}},d.map((function(e){return r.a.createElement(_e.a,{value:e},o(e))}))),l.mixProp&&i.mixProp?r.a.createElement("div",null,r.a.createElement(Ze.a,{color:"error",variant:"caption"},l.mixProp)):null)))},zr=function(e){var t=e.value,a=e.errors,n=e.touched;return r.a.createElement(Nr,{url:"morteros",propName:"Mortero",value:t,renderValue:function(e){return"".concat(e.propCement," cemento  -  ").concat(e.propSand," arena")},errors:a,touched:n})},Wr=function(e){var t=e.value,a=e.errors,n=e.touched;return r.a.createElement(Nr,{url:"concretos",propName:"Concreto",value:t,renderValue:function(e){return"".concat(e.propCement," cemento  -  ").concat(e.propSand," arena - ").concat(e.propGravel," piedr\xedn (").concat(e.kgPerSqrCm," \u338f/\u33a0)")},errors:a,touched:n})},_r=a(658),qr=a(159),Br=a.n(qr),Ur=Object(w.a)({denseItem:{paddingTop:0,paddingBottom:0}}),Gr=function(e){var t=e.url,a=e.materialName,c=e.materialLabel,o=e.priceName,l=e.priceLabel,i=e.pctName,s=e.pctLabel,u=e.values,d=e.setFieldValue,m=e.errors,f=e.touched,g=Ur(),E=Object(n.useState)([]),h=Object(b.a)(E,2),O=h[0],j=h[1],v=Object(n.useState)(""),w=Object(b.a)(v,2),P=w[0],x=w[1],F=0===O.length;return Object(n.useEffect)((function(){console.log("price en effect",u[o]),u[o]&&x(u[o]),console.log("valor de precio",P)}),[u[o]]),Object(n.useEffect)((function(){F&&oe.get("".concat(t)).then((function(e){j(e.data)})).catch((function(e){}))}),[]),r.a.createElement(Ne.a,{container:!0,spacing:3},r.a.createElement(Ne.a,{item:!0,xs:12,sm:12,md:6},r.a.createElement(_r.a,{id:"material".concat(c),name:a,options:O,value:u[a],loading:F,openOnFocus:!0,onChange:function(e,t){d(a,t),d(o,t?Object(p.a)({},t.prices.reduce((function(e,t){return t.price>e.price?t:e}),{id:"",material:{},special:!1,price:0,supplier:{}})):null),t||x(null)},getOptionLabel:function(e){return e.name},getOptionDisabled:function(e){return e.prices.length<=0},renderInput:function(e){return r.a.createElement(Yt.a,Object.assign({},e,{name:a,label:c,fullWidth:!0}))}}),m[a]&&f[a]?r.a.createElement("div",null,r.a.createElement(Ze.a,{color:"error",variant:"caption"},m[a])):null),r.a.createElement(Ne.a,{item:!0,xs:12,sm:6,md:3},r.a.createElement(ze.a,{className:g.formControl},r.a.createElement(Qt.a,{id:"".concat(o,"-label")},l),r.a.createElement(We.a,{labelId:"".concat(o,"-label"),disabled:!u[a]||!u[a].prices||0===u[a].prices.length,id:"demo-simple-select",value:P,onChange:function(e,t){return x(e.target.value)},defaultValue:u[o]?u[o]:null,renderValue:function(e){return e&&e.price?r.a.createElement(_e.a,{dense:!0,className:g.denseItem,value:e},e.special&&r.a.createElement(Br.a,{color:"secondary",fontSize:"small"}),e.price&&new Intl.NumberFormat("es-GT",{style:"currency",currency:"gtq"}).format(e.price)):null},displayEmpty:!0},u[a]&&u[a].prices.map((function(e){return r.a.createElement(_e.a,{key:e.id,value:e},e.special&&r.a.createElement(Br.a,{color:"secondary",fontSize:"small"}),e.price?new Intl.NumberFormat("es-GT",{style:"currency",currency:"gtq"}).format(e.price):"")}))),m[o]&&f[o]?r.a.createElement("div",null,r.a.createElement(Ze.a,{color:"error",variant:"caption"},m[o])):null)),r.a.createElement(Ne.a,{item:!0,xs:12,sm:6,md:3},r.a.createElement(Jt.a,{component:Yt.a,name:i,type:"number",label:s,value:u[i],onChange:function(e){return d(i,e.target.value)},inputProps:{min:0,max:100},InputProps:{endAdornment:r.a.createElement(ea.a,{position:"end"},"%")}}),r.a.createElement($t.a,{id:"".concat(i,"-helper-text")},"Opcional"),m[i]&&f[i]?r.a.createElement("div",null,r.a.createElement(Ze.a,{color:"error",variant:"caption"},m[i])):null))},Hr=function(e){var t=e.values,a=e.setFieldValue,n=e.errors,c=e.touched;return r.a.createElement(Gr,{url:"cements",materialName:"cement",materialLabel:"Cemento",priceName:"cementPrice",priceLabel:"Precio de Cemento",pctName:"cementWastePct",pctLabel:"Pct. de Desperdicio",values:t,setFieldValue:a,errors:n,touched:c})},Xr=function(e){var t=e.values,a=e.setFieldValue,n=e.errors,c=e.touched;return r.a.createElement(Gr,{url:"sands",materialName:"sand",materialLabel:"Arena",priceName:"sandPrice",priceLabel:"Precio de Arena",pctName:"sandWastePct",pctLabel:"Pct. de Desperdicio",values:t,setFieldValue:a,errors:n,touched:c})},Zr=function(e){var t=e.values,a=e.setFieldValue,n=e.errors,c=e.touched;return r.a.createElement(Gr,{url:"gravels",materialName:"gravel",materialLabel:"Piedr\xedn",priceName:"gravelPrice",priceLabel:"Precio de Piedr\xedn",pctName:"gravelWastePct",pctLabel:"Pct. de Desperdicio",values:t,setFieldValue:a,errors:n,touched:c})},Qr=function(e){var t=e.values,a=e.setFieldValue,n=e.errors,c=e.touched;return r.a.createElement(Gr,{url:"irons",materialName:"iron",materialLabel:"Hierro",priceName:"ironPrice",priceLabel:"Precio de Hierro",pctName:"ironWastePct",pctLabel:"Pct. de Desperdicio",values:t,setFieldValue:a,errors:n,touched:c})},Jr=function(e){var t=e.label,a=e.values,n=e.setFieldValue,c=e.errors,o=e.touched;return r.a.createElement(Gr,{url:"irons",materialName:"longIron",materialLabel:t||"Hierro Longitudinal",priceName:"longIronPrice",priceLabel:"Precio de Hierro",pctName:"longIronWastePct",pctLabel:"Pct. de Desperdicio",values:a,setFieldValue:n,errors:c,touched:o})},Kr=function(e){var t=e.values,a=e.setFieldValue,n=e.errors,c=e.touched;return r.a.createElement(Gr,{url:"irons",materialName:"longIronAux",materialLabel:"Hierro Longitudinal Auxiliar",priceName:"longIronAuxPrice",priceLabel:"Precio de Hierro",pctName:"longIronAuxWastePct",pctLabel:"Pct. de Desperdicio",values:t,setFieldValue:a,errors:n,touched:c})},Yr=function(e){var t=e.values,a=e.setFieldValue,n=e.errors,c=e.touched;return r.a.createElement(Gr,{url:"irons",materialName:"transIron",materialLabel:"Hierro Transversal",priceName:"transIronPrice",priceLabel:"Precio de Hierro",pctName:"transIronWastePct",pctLabel:"Pct. de Desperdicio",values:t,setFieldValue:a,errors:n,touched:c})},$r=function(e){var t=e.values,a=e.setFieldValue,n=e.errors,c=e.touched;return r.a.createElement(Gr,{url:"tiewires",materialName:"tieWire",materialLabel:"Alambre de Amarre",priceName:"tieWirePrice",priceLabel:"Precio de Alambre",pctName:"tieWireWastePct",pctLabel:"Pct. de Desperdicio",values:t,setFieldValue:a,errors:n,touched:c})},ec=function(e){var t=e.values,a=e.setFieldValue,n=e.errors,c=e.touched;return r.a.createElement(Gr,{url:"blocks",materialName:"block",materialLabel:"Block",priceName:"blockPrice",priceLabel:"Precio de Block",pctName:"blockWastePct",pctLabel:"Pct. de Desperdicio",values:t,setFieldValue:a,errors:n,touched:c})},tc=function(e){var t=e.values,a=e.setFieldValue,n=e.errors,c=e.touched;return r.a.createElement(Gr,{url:"premixes",materialName:"preMix",materialLabel:"Recubrimiento Premezclado",priceName:"preMixPrice",priceLabel:"Precio de Recubrimiento",pctName:"preMixnWastePct",pctLabel:"Pct. de Desperdicio",values:t,setFieldValue:a,errors:n,touched:c})},ac=function(e){var t=e.values,a=e.setFieldValue,n=e.errors,c=e.touched;return r.a.createElement(Gr,{url:"paints",materialName:"wallPaint",materialLabel:"Pintura para Paredes",priceName:"wallPaintPrice",priceLabel:"Precio de Pintura",pctName:"wallPaintWastePct",pctLabel:"Pct. de Desperdicio",values:t,setFieldValue:a,errors:n,touched:c})},nc=function(e){var t=e.values,a=e.setFieldValue,n=e.errors,c=e.touched;return r.a.createElement(Gr,{url:"paints",materialName:"ceilPaint",materialLabel:"Pintura para Cielos",priceName:"ceilPaintPrice",priceLabel:"Precio de Pintura",pctName:"ceilPaintWastePct",pctLabel:"Pct. de Desperdicio",values:t,setFieldValue:a,errors:n,touched:c})},rc=function(e){var t=e.values,a=e.setFieldValue,n=e.errors,c=e.touched;return r.a.createElement(Gr,{url:"electromallas",materialName:"electromalla",materialLabel:"Electromalla",priceName:"electromallaPrice",priceLabel:"Precio de electromalla",pctName:"electromallaWastePct",pctLabel:"Pct. de Desperdicio",values:t,setFieldValue:a,errors:n,touched:c})},cc=[{mixProp:Ua,cement:Ga,cementPrice:rn,cementWastePct:hn,sand:Ha,sandPrice:cn,sandWastePct:On,gravel:Xa,gravelPrice:on,gravelWastePct:jn},function(e){var t=e.values,a=e.setFieldValue,c=e.errors,o=e.touched;return r.a.createElement(n.Fragment,null,r.a.createElement(Wr,{errors:c,touched:o,values:t}),r.a.createElement(Hr,{values:t,setFieldValue:a,errors:c,touched:o}),r.a.createElement(Xr,{values:t,setFieldValue:a,errors:c,touched:o}),r.a.createElement(Zr,{values:t,setFieldValue:a,errors:c,touched:o}))}],oc=[{mixProp:Ua,cement:Ga,cementPrice:rn,cementWastePct:hn,sand:Ha,sandPrice:cn},function(e){var t=e.values,a=e.setFieldValue,c=e.errors,o=e.touched;return r.a.createElement(n.Fragment,null,r.a.createElement(zr,{errors:c,touched:o,value:t.mixProp}),r.a.createElement(Hr,{values:t,setFieldValue:a,errors:c,touched:o}),r.a.createElement(Xr,{values:t,setFieldValue:a,errors:c,touched:o}))}],lc=[{iron:Za,ironPrice:ln,ironWastePct:vn,tieWire:Ya,tieWirePrice:mn,tieWireWastePct:xn},function(e){var t=e.values,a=e.setFieldValue,c=e.errors,o=e.touched;return r.a.createElement(n.Fragment,null,r.a.createElement(Qr,{values:t,setFieldValue:a,errors:c,touched:o}),r.a.createElement($r,{values:t,setFieldValue:a,errors:c,touched:o}))}],ic=[{longIron:Qa,longIronPrice:sn,longIronWastePct:wn,transIron:Ka,transIronPrice:dn,transIronWastePct:Pn,tieWire:Ya,tieWirePrice:mn,tieWireWastePct:xn},function(e){var t=e.values,a=e.setFieldValue,c=e.errors,o=e.touched;return r.a.createElement(n.Fragment,null,r.a.createElement(Jr,{values:t,setFieldValue:a,errors:c,touched:o}),r.a.createElement(Yr,{values:t,setFieldValue:a,errors:c,touched:o}),r.a.createElement($r,{values:t,setFieldValue:a,errors:c,touched:o}))}],sc=[(tr={longIron:Qa,longIronPrice:sn,longIronWastePct:wn,longIronAux:Ja,longIronAuxPrice:un},Object(g.a)(tr,"longIronWastePct",wn),Object(g.a)(tr,"transIron",Ka),Object(g.a)(tr,"transIronPrice",dn),Object(g.a)(tr,"transIronWastePct",Pn),Object(g.a)(tr,"tieWire",Ya),Object(g.a)(tr,"tieWirePrice",mn),Object(g.a)(tr,"tieWireWastePct",xn),tr),function(e){var t=e.values,a=e.setFieldValue,c=e.errors,o=e.touched;return r.a.createElement(n.Fragment,null,r.a.createElement(Jr,{label:"Hierro Longitudinal Esquinas",values:t,setFieldValue:a,errors:c,touched:o}),r.a.createElement(Kr,{values:t,setFieldValue:a,errors:c,touched:o}),r.a.createElement(Yr,{values:t,setFieldValue:a,errors:c,touched:o}),r.a.createElement($r,{values:t,setFieldValue:a,errors:c,touched:o}))}],uc=[{name:ja,profitPct:va,height:Ra,area:Sa},function(e){var t=e.values,a=e.setFieldValue,n=e.errors,c=e.touched;return r.a.createElement(Ne.a,{container:!0,spacing:3},r.a.createElement(Ne.a,{item:!0,xs:12,sm:9},r.a.createElement(na,{value:t.name,setFieldValue:a,errors:n,touched:c})),r.a.createElement(Ne.a,{item:!0,xs:12,sm:3},r.a.createElement(la,{name:"profitPct",label:"Pct. de Utilidad",value:t.profitPct,setFieldValue:a,errors:n,touched:c,optional:!0})),r.a.createElement(Ne.a,{item:!0,xs:12,sm:6},r.a.createElement(oa,{name:"area",label:"Area",value:t.area,setFieldValue:a,errors:n,touched:c})),r.a.createElement(Ne.a,{item:!0,xs:12,sm:6},r.a.createElement(ra,{name:"height",label:"Espesor",value:t.height,setFieldValue:a,errors:n,touched:c})))}],dc=[{name:ja,profitPct:va,length:Fa,width:Ca,height:Ra,recubrimiento:Aa,cantLongsElems:za,separacion:ka,longHook:La},function(e){var t=e.values,a=e.setFieldValue,n=e.errors,c=e.touched;return r.a.createElement(Ne.a,{container:!0,spacing:3},r.a.createElement(Ne.a,{item:!0,xs:12,sm:8},r.a.createElement(na,{value:t.name,setFieldValue:a,errors:n,touched:c})),r.a.createElement(Ne.a,{item:!0,xs:12,sm:4},r.a.createElement(la,{name:"profitPct",label:"Pct. de Utilidad",value:t.profitPct,setFieldValue:a,errors:n,touched:c,optional:!0})),r.a.createElement(Ne.a,{item:!0,xs:12},r.a.createElement(sa,{heightLabel:"Peralte"})),r.a.createElement(Ne.a,{item:!0,xs:12,sm:6},r.a.createElement(ra,{name:"recubrimiento",label:"Recubrimiento",value:t.recubrimiento,setFieldValue:a,errors:n,touched:c})),r.a.createElement(Ne.a,{item:!0,xs:12,sm:6},r.a.createElement(ca,{name:"cantLongsElems",label:"Cantidad elementos longitudinales",value:t.cantLongsElems,setFieldValue:a,errors:n,touched:c})),r.a.createElement(Ne.a,{item:!0,xs:12,sm:6},r.a.createElement(ra,{name:"separacion",label:"Separacion Estribos",value:t.separacion,setFieldValue:a,errors:n,touched:c})),r.a.createElement(Ne.a,{item:!0,xs:12,sm:6},r.a.createElement(ra,{name:"longHook",label:"Largo Gancho",value:t.longHook,setFieldValue:a,errors:n,touched:c})))}],mc=[{name:ja,profitPct:va,amount:wa,length:Fa,width:Ca,height:Ra,recubrimiento:Aa,cantLongsElems:za,separacion:ka,longHook:La,longPata:Na},function(e){var t=e.values,a=e.setFieldValue,n=e.errors,c=e.touched;return r.a.createElement(Ne.a,{container:!0,spacing:3},r.a.createElement(Ne.a,{item:!0,xs:12,sm:8},r.a.createElement(na,{value:t.name,setFieldValue:a,errors:n,touched:c})),r.a.createElement(Ne.a,{item:!0,xs:12,sm:2},r.a.createElement(ca,{name:"amount",label:"Cantidad",value:t.amount,setFieldValue:a,errors:n,touched:c})),r.a.createElement(Ne.a,{item:!0,xs:12,sm:2},r.a.createElement(la,{name:"profitPct",label:"Pct. Utilidad",value:t.profitPct,setFieldValue:a,errors:n,touched:c,optional:!0})),r.a.createElement(Ne.a,{item:!0,xs:12},r.a.createElement(sa,{lengthLabel:"Altura",heightLabel:"Largo"})),r.a.createElement(Ne.a,{item:!0,xs:12,sm:12,md:4},r.a.createElement(ca,{name:"cantLongsElems",label:"Cantidad elementos longitudinales",value:t.cantLongsElems,setFieldValue:a,errors:n,touched:c})),r.a.createElement(Ne.a,{item:!0,xs:12,sm:6,md:4},r.a.createElement(ra,{name:"longPata",label:"Largo Patas",value:t.longPata,setFieldValue:a,errors:n,touched:c})),r.a.createElement(Ne.a,{item:!0,xs:12,sm:6,md:4},r.a.createElement(ra,{name:"longHook",label:"Largo Gancho",value:t.longHook,setFieldValue:a,errors:n,touched:c})),r.a.createElement(Ne.a,{item:!0,xs:12,sm:6},r.a.createElement(ra,{name:"separacion",label:"Separacion Estribos",value:t.separacion,setFieldValue:a,errors:n,touched:c})),r.a.createElement(Ne.a,{item:!0,xs:12,sm:6},r.a.createElement(ra,{name:"recubrimiento",label:"Recubrimiento",value:t.recubrimiento,setFieldValue:a,errors:n,touched:c})))}],fc=[{name:ja,profitPct:va,amount:wa,length:Fa,width:Ca,height:Ra,recubrimiento:Aa,cantLongsElems:za,cantTransElems:_a},function(e){var t=e.values,a=e.setFieldValue,n=e.errors,c=e.touched;return r.a.createElement(Ne.a,{container:!0,spacing:3},r.a.createElement(Ne.a,{item:!0,xs:12,sm:8},r.a.createElement(na,{value:t.name,setFieldValue:a,errors:n,touched:c})),r.a.createElement(Ne.a,{item:!0,xs:12,sm:2},r.a.createElement(ca,{name:"amount",label:"Cantidad",value:t.amount,setFieldValue:a,errors:n,touched:c})),r.a.createElement(Ne.a,{item:!0,xs:12,sm:2},r.a.createElement(la,{name:"profitPct",label:"Pct. Utilidad",value:t.profitPct,setFieldValue:a,errors:n,touched:c,optional:!0})),r.a.createElement(Ne.a,{item:!0,xs:12},r.a.createElement(sa,{errors:n,touched:c,heightLabel:"Peralte"})),r.a.createElement(Ne.a,{item:!0,xs:12,sm:4},r.a.createElement(ra,{name:"recubrimiento",label:"Recubrimiento",value:t.recubrimiento,setFieldValue:a,errors:n,touched:c})),r.a.createElement(Ne.a,{item:!0,xs:12,sm:4},r.a.createElement(ca,{name:"cantLongsElems",label:"Cantidad elementos longitudinales",value:t.cantLongsElems,setFieldValue:a,errors:n,touched:c})),r.a.createElement(Ne.a,{item:!0,xs:12,sm:4},r.a.createElement(ca,{name:"cantTransElems",label:"Cantidad elementos transversales",value:t.cantTransElems,setFieldValue:a,errors:n,touched:c})))}],bc=[{name:ja,profitPct:va,area:Sa,height:Ra,separacion:ka,propTension:qa},function(e){var t=e.values,a=e.setFieldValue,n=e.errors,c=e.touched;return r.a.createElement(Ne.a,{container:!0,spacing:3},r.a.createElement(Ne.a,{item:!0,xs:12,sm:9},r.a.createElement(na,{value:t.name,setFieldValue:a,errors:n,touched:c})),r.a.createElement(Ne.a,{item:!0,xs:12,sm:3},r.a.createElement(la,{name:"profitPct",label:"Pct. de Utilidad",value:t.profitPct,setFieldValue:a,errors:n,touched:c,optional:!0})),r.a.createElement(Ne.a,{item:!0,xs:12,sm:6},r.a.createElement(oa,{name:"area",label:"Area",value:t.area,setFieldValue:a,errors:n,touched:c})),r.a.createElement(Ne.a,{item:!0,xs:12,sm:6},r.a.createElement(ra,{name:"height",label:"Peralte",value:t.height,setFieldValue:a,errors:n,touched:c})),r.a.createElement(Ne.a,{item:!0,xs:12,sm:6},r.a.createElement(ra,{name:"separacion",label:"Separacion",value:t.separacion,setFieldValue:a,errors:n,touched:c})),r.a.createElement(Ne.a,{item:!0,xs:12,sm:6},r.a.createElement(la,{name:"propTension",label:"Longitud extra en Tensi\xf3n",value:t.propTension,setFieldValue:a,errors:n,touched:c})))}],pc=[{name:ja,profitPct:va,area:Sa,height:Ra,separacion:ka},function(e){var t=e.values,a=e.setFieldValue,n=e.errors,c=e.touched;return r.a.createElement(Ne.a,{container:!0,spacing:3},r.a.createElement(Ne.a,{item:!0,xs:12,sm:8},r.a.createElement(na,{value:t.name,setFieldValue:a,errors:n,touched:c})),r.a.createElement(Ne.a,{item:!0,xs:12,sm:4},r.a.createElement(la,{name:"profitPct",label:"Pct. de Utilidad",value:t.profitPct,setFieldValue:a,errors:n,touched:c,optional:!0})),r.a.createElement(Ne.a,{item:!0,xs:12,sm:4},r.a.createElement(oa,{name:"area",label:"Area",value:t.area,setFieldValue:a,errors:n,touched:c})),r.a.createElement(Ne.a,{item:!0,xs:12,sm:4},r.a.createElement(ra,{name:"height",label:"Peralte",value:t.height,setFieldValue:a,errors:n,touched:c})),r.a.createElement(Ne.a,{item:!0,xs:12,sm:4},r.a.createElement(ra,{name:"separacion",label:"Separacion",value:t.separacion,setFieldValue:a,errors:n,touched:c})))}],gc=[{name:ja,profitPct:va,area:Sa,junta:Ma,block:$a,blockPrice:fn,blockWastePct:Fn},function(e){var t=e.values,a=e.setFieldValue,n=e.errors,c=e.touched;return r.a.createElement(Ne.a,{container:!0,spacing:3},r.a.createElement(Ne.a,{item:!0,xs:12,sm:9},r.a.createElement(na,{value:t.name,setFieldValue:a,errors:n,touched:c})),r.a.createElement(Ne.a,{item:!0,xs:12,sm:3},r.a.createElement(la,{name:"profitPct",label:"Pct. de Utilidad",value:t.profitPct,setFieldValue:a,errors:n,touched:c,optional:!0})),r.a.createElement(Ne.a,{item:!0,xs:12,sm:6},r.a.createElement(oa,{name:"area",label:"Area",value:t.area,setFieldValue:a,errors:n,touched:c})),r.a.createElement(Ne.a,{item:!0,xs:12,sm:6},r.a.createElement(ra,{name:"junta",label:"Junta",value:t.junta,setFieldValue:a,errors:n,touched:c})),r.a.createElement(Ne.a,{item:!0,xs:12},r.a.createElement(ec,{values:t,setFieldValue:a,errors:n,touched:c})))}],Ec=[{name:ja,profitPct:va,amount:wa,length:Fa,width:Ca,height:Ra,estribosDouble:Ba,recubrimiento:Aa,cantLongsElems:za,cantLongsAuxElems:Wa,separacion:ka,longHook:La,longPata:Na},function(e){var t=e.values,a=e.setFieldValue,n=e.errors,c=e.touched;return r.a.createElement(Ne.a,{container:!0,spacing:3},r.a.createElement(Ne.a,{item:!0,xs:12,sm:8},r.a.createElement(na,{value:t.name,setFieldValue:a,errors:n,touched:c})),r.a.createElement(Ne.a,{item:!0,xs:12,sm:2},r.a.createElement(ca,{name:"amount",label:"Cantidad",value:t.amount,setFieldValue:a,errors:n,touched:c})),r.a.createElement(Ne.a,{item:!0,xs:12,sm:2},r.a.createElement(la,{name:"profitPct",label:"Pct. Utilidad",value:t.profitPct,setFieldValue:a,errors:n,touched:c,optional:!0})),r.a.createElement(Ne.a,{item:!0,xs:12},r.a.createElement(sa,{lengthLabel:"Altura",heightLabel:"Largo"})),r.a.createElement(Ne.a,{item:!0,xs:12,sm:6},r.a.createElement(ca,{name:"cantLongsElems",label:"Cantidad Elementos Esquinas",value:t.cantLongsElems,setFieldValue:a,errors:n,touched:c})),r.a.createElement(Ne.a,{item:!0,xs:12,sm:6},r.a.createElement(ca,{name:"cantLongsAuxElems",label:"Cantidad Elementos Auxiliares",value:t.cantLongsAuxElems,setFieldValue:a,errors:n,touched:c})),r.a.createElement(Ne.a,{item:!0,xs:12,sm:6},r.a.createElement(ra,{name:"longPata",label:"Largo Patas",value:t.longPata,setFieldValue:a,errors:n,touched:c})),r.a.createElement(Ne.a,{item:!0,xs:12,sm:6},r.a.createElement(ra,{name:"longHook",label:"Largo Gancho",value:t.longHook,setFieldValue:a,errors:n,touched:c})),r.a.createElement(Ne.a,{item:!0,xs:12,sm:6},r.a.createElement(ra,{name:"separacion",label:"Separacion Estribos",value:t.separacion,setFieldValue:a,errors:n,touched:c})),r.a.createElement(Ne.a,{item:!0,xs:12,sm:6},r.a.createElement(ra,{name:"recubrimiento",label:"Recubrimiento",value:t.recubrimiento,setFieldValue:a,errors:n,touched:c})),r.a.createElement(Ne.a,{container:!0,spacing:3},r.a.createElement(Ne.a,{item:!0,xs:12,md:3},r.a.createElement(ia,{name:"estribosDouble",label:"Estribos dobles"}))))}],hc=Object(b.a)(mc,2),Oc=hc[0],jc=hc[1],vc=Object(b.a)(fc,2),wc=vc[0],Pc=vc[1],xc=Object(b.a)(bc,2),Fc=xc[0],Cc=xc[1],Rc=Object(b.a)(pc,2),Sc=Rc[0],yc=Rc[1],Dc=Object(b.a)(dc,2),Ic=Dc[0],Vc=Dc[1],Tc=Object(b.a)(uc,2),Ac=Tc[0],kc=Tc[1],Mc=Object(b.a)(Ec,2),Lc=Mc[0],Nc=Mc[1],zc=function(){return r.a.createElement(Lr.a,{fontSize:"large",color:"primary"})},Wc=r.a.memo((function(e){var t=e.apiId,a=e.budgetId,c=e.FormRow,o=e.title,l=e.formData,i=e.validationSchema,s=e.open,u=e.closeModal,d=e.rowData,m=e.refreshRow,f=e.maxWidth,g="budgets/".concat(a,"/").concat(t),E=Object(n.useState)(),h=Object(b.a)(E,2),O=h[0],j=h[1],v=function(e,t){j({ok:e,msg:t})};return r.a.createElement(Dt.a,{maxWidth:f||"md",fullWidth:!0,open:s,onClose:function(){return u},"aria-labelledby":"form-dialog-title"},r.a.createElement(Lt,{onClose:u},r.a.createElement(Ht.a,{alternativeLabel:!0},r.a.createElement(Xt.a,{key:"".concat(o)},r.a.createElement(Zt.a,{StepIconComponent:zc}," ","Actualizar especificaciones de ".concat(o))))),r.a.createElement(Jt.c,{enableReinitialize:!0,initialValues:Object(p.a)({},l),validationSchema:ma.d().shape(Object(p.a)({},i)),onSubmit:function(e,t){var a=t.setSubmitting;t.resetForm;oe.put("".concat(g,"/").concat(l.id),Object(p.a)({},e)).then((function(e){a(!1),m("".concat(g,"/").concat(l.id),d),v(!0,""),u()})).catch((function(e){a(!1),v(!1,"Ocurrio un error")}))}},(function(e){var t=e.submitForm,a=e.isSubmitting,n=e.setFieldValue,o=e.values,l=e.errors,i=e.touched;return r.a.createElement(Jt.b,{autoComplete:"off"},r.a.createElement(It.a,{dividers:!0},r.a.createElement(c,{values:o,setFieldValue:n,errors:l,touched:i}),a&&r.a.createElement(Ut.a,null),r.a.createElement("br",null)),r.a.createElement(Vt.a,null,r.a.createElement(y.a,{color:"inherit",onClick:u},"Cancelar"),r.a.createElement(y.a,{startIcon:a?r.a.createElement(Gt.a,{size:"1rem"}):null,disabled:a,variant:"contained",color:"primary",type:"submit",onClick:t},a?"Enviando":"Actualizar")),O&&r.a.createElement("p",{className:O.ok?"":"errorMsg"},O.msg))})))})),_c=function(e){var t=e.open,a=e.closeModal,c=e.rowData,o=e.refreshRow,l=Object(n.useState)({}),i=Object(b.a)(l,2),s=i[0],u=i[1],d=c.budget.id,m=c.id;Object(n.useEffect)((function(){oe.get("budgets/".concat(d,"/").concat("extmezclones","/").concat(m)).then((function(e){return u(e.data)})).catch((function(e){}))}),[t]);return r.a.createElement(Wc,{apiId:"extmezclones",title:"Concreteado de Garage y Banquetas",FormRow:function(e){var t=e.values,a=e.setFieldValue,c=e.errors,o=e.touched;return r.a.createElement(n.Fragment,null,r.a.createElement(kc,{values:t,setFieldValue:a,errors:c,touched:o}),r.a.createElement(Ne.a,{container:!0,spacing:3},r.a.createElement(Ne.a,{item:!0,xs:12},r.a.createElement(Wr,{errors:c,touched:o,value:s.mixProp}))))},formData:s,validationSchema:Ac,budgetId:d,open:t,closeModal:a,rowData:c,refreshRow:o})},qc={0:function(e){var t=e.open,a=e.closeModal,c=e.rowData,o=e.refreshRow,l=Object(n.useState)({}),i=Object(b.a)(l,2),s=i[0],u=i[1],d=c.budget.id,m=c.id;Object(n.useEffect)((function(){oe.get("budgets/".concat(d,"/").concat("rows","/").concat(m)).then((function(e){u(e.data)})).catch((function(e){}))}),[t]);return r.a.createElement(Wc,{apiId:"rows",title:"Editar Rengl\xf3n",FormRow:function(e){var t=e.values,a=e.setFieldValue,c=e.errors,o=e.touched,l=Object(n.useState)([]),i=Object(b.a)(l,2),u=i[0],d=i[1];Object(n.useEffect)((function(){oe.get("units").then((function(e){d(e.data)})).catch((function(e){}))}),[]);var m=Object(w.a)({denseItem:{paddingTop:0,paddingBottom:0}})();return r.a.createElement(Ne.a,{container:!0,spacing:3},r.a.createElement(Ne.a,{item:!0,xs:12},r.a.createElement(na,{value:t.name,setFieldValue:a,errors:c,touched:o})),r.a.createElement(Ne.a,{item:!0,xs:12,sm:4},r.a.createElement(ca,{name:"unitAmount",label:"Cantidad",value:t.unitAmount,setFieldValue:a,errors:c,touched:o})),r.a.createElement(Ne.a,{item:!0,xs:12,sm:5},r.a.createElement(ze.a,null,r.a.createElement(Qt.a,{htmlFor:"unit"},"Unidad de Medida"),r.a.createElement(Jt.a,{component:We.a,disabled:0===u.length,name:"unit",onChange:function(e,t){return a("unit",e.target.value)},defaultValue:s.unit||null,displayEmpty:!0,renderValue:function(e){return e?r.a.createElement(_e.a,{dense:!0,className:m.denseItem,value:e},"".concat(e.name)):""},inputProps:{id:"mix-prop"}},u.map((function(e){return r.a.createElement(_e.a,{dense:!0,value:e},e.name)}))),c.unit&&o.unit?r.a.createElement("div",null,r.a.createElement(Ze.a,{color:"error",variant:"caption"},c.unit)):null)),r.a.createElement(Ne.a,{item:!0,xs:12,sm:3},r.a.createElement(la,{name:"profitPct",label:"Pct. de Utilidad",value:t.profitPct,setFieldValue:a,errors:c,touched:o,optional:!0})))},formData:s,validationSchema:{name:ja,unitAmount:Pa,unit:xa,profitPct:va},budgetId:d,open:t,closeModal:a,rowData:c,refreshRow:o})},1:function(e){var t=e.open,a=e.closeModal,c=e.rowData,o=e.refreshRow,l=Object(n.useState)({}),i=Object(b.a)(l,2),s=i[0],u=i[1],d=c.budget.id,m=c.id;Object(n.useEffect)((function(){oe.get("budgets/".concat(d,"/").concat("zapatas","/").concat(m)).then((function(e){return u(e.data)})).catch((function(e){}))}),[t]);return r.a.createElement(Wc,{apiId:"zapatas",title:"Zapata",FormRow:function(e){var t=e.values,a=e.setFieldValue,c=e.errors,o=e.touched;return r.a.createElement(n.Fragment,null,r.a.createElement(Pc,{values:t,setFieldValue:a,errors:c,touched:o}),r.a.createElement(Ne.a,{container:!0,spacing:3},r.a.createElement(Ne.a,{item:!0,xs:12},r.a.createElement(Wr,{errors:c,touched:o,value:s.mixProp}))))},formData:s,validationSchema:wc,budgetId:d,open:t,closeModal:a,rowData:c,refreshRow:o})},2:function(e){var t=e.open,a=e.closeModal,c=e.rowData,o=e.refreshRow,l=Object(n.useState)({}),i=Object(b.a)(l,2),s=i[0],u=i[1],d=c.budget.id,m=c.id;Object(n.useEffect)((function(){oe.get("budgets/".concat(d,"/").concat("losasplanas","/").concat(m)).then((function(e){return u(e.data)})).catch((function(e){}))}),[t]);return r.a.createElement(Wc,{apiId:"losasplanas",title:"Zapata",FormRow:function(e){var t=e.values,a=e.setFieldValue,c=e.errors,o=e.touched;return r.a.createElement(n.Fragment,null,r.a.createElement(Cc,{values:t,setFieldValue:a,errors:c,touched:o}),r.a.createElement(Ne.a,{container:!0,spacing:3},r.a.createElement(Ne.a,{item:!0,xs:12},r.a.createElement(Wr,{errors:c,touched:o,value:s.mixProp}))))},formData:s,validationSchema:Fc,budgetId:d,open:t,closeModal:a,rowData:c,refreshRow:o})},3:function(e){var t=e.open,a=e.closeModal,c=e.rowData,o=e.refreshRow,l=Object(n.useState)({}),i=Object(b.a)(l,2),s=i[0],u=i[1],d=c.budget.id,m=c.id;Object(n.useEffect)((function(){oe.get("budgets/".concat(d,"/").concat("losas","/").concat(m)).then((function(e){return u(e.data)})).catch((function(e){}))}),[t]);return r.a.createElement(Wc,{apiId:"losas",title:"Zapata",FormRow:function(e){var t=e.values,a=e.setFieldValue,c=e.errors,o=e.touched;return r.a.createElement(n.Fragment,null,r.a.createElement(yc,{values:t,setFieldValue:a,errors:c,touched:o}),r.a.createElement(Ne.a,{container:!0,spacing:3},r.a.createElement(Ne.a,{item:!0,xs:12},r.a.createElement(Wr,{errors:c,touched:o,value:s.mixProp}))))},formData:s,validationSchema:Sc,budgetId:d,open:t,closeModal:a,rowData:c,refreshRow:o})},4:function(e){var t=e.open,a=e.closeModal,c=e.rowData,o=e.refreshRow,l=Object(n.useState)({}),i=Object(b.a)(l,2),s=i[0],u=i[1],d=c.budget.id,m=c.id;Object(n.useEffect)((function(){oe.get("budgets/".concat(d,"/").concat("cimcorridos","/").concat(m)).then((function(e){return u(e.data)})).catch((function(e){}))}),[t]);return r.a.createElement(Wc,{apiId:"cimcorridos",title:"Cimiento Corrido",FormRow:function(e){var t=e.values,a=e.setFieldValue,c=e.errors,o=e.touched;return r.a.createElement(n.Fragment,null,r.a.createElement(Vc,{values:t,setFieldValue:a,errors:c,touched:o}),r.a.createElement(Ne.a,{container:!0,spacing:3},r.a.createElement(Ne.a,{item:!0,xs:12},r.a.createElement(Wr,{errors:c,touched:o,value:s.mixProp}))))},formData:s,validationSchema:Ic,budgetId:d,open:t,closeModal:a,rowData:c,refreshRow:o})},5:function(e){var t=e.open,a=e.closeModal,c=e.rowData,o=e.refreshRow,l=Object(n.useState)({}),i=Object(b.a)(l,2),s=i[0],u=i[1],d=c.budget.id,m=c.id;Object(n.useEffect)((function(){oe.get("budgets/".concat(d,"/").concat("soleras","/").concat(m)).then((function(e){return u(e.data)})).catch((function(e){}))}),[t]);return r.a.createElement(Wc,{apiId:"soleras",title:"Solera",FormRow:function(e){var t=e.values,a=e.setFieldValue,c=e.errors,o=e.touched;return r.a.createElement(n.Fragment,null,r.a.createElement(Vc,{values:t,setFieldValue:a,errors:c,touched:o}),r.a.createElement(Ne.a,{container:!0,spacing:3},r.a.createElement(Ne.a,{item:!0,xs:12},r.a.createElement(Wr,{errors:c,touched:o,value:s.mixProp}))))},formData:s,validationSchema:Ic,budgetId:d,open:t,closeModal:a,rowData:c,refreshRow:o})},6:function(e){var t=e.open,a=e.closeModal,c=e.rowData,o=e.refreshRow,l=Object(n.useState)({}),i=Object(b.a)(l,2),s=i[0],u=i[1],d=c.budget.id,m=c.id;Object(n.useEffect)((function(){oe.get("budgets/".concat(d,"/columnas/").concat(m)).then((function(e){return u(e.data)})).catch((function(e){}))}),[t]);return r.a.createElement(Wc,{apiId:"columnas",title:"Columna",FormRow:function(e){var t=e.values,a=e.setFieldValue,n=e.errors,c=e.touched;return r.a.createElement(Ne.a,{container:!0,alignItems:"center"},r.a.createElement(Ne.a,{item:!0,xs:3},r.a.createElement(Bt,{image:kr.a})),r.a.createElement(Ne.a,{item:!0,xs:9},r.a.createElement(jc,{values:t,setFieldValue:a,errors:n,touched:c}),r.a.createElement(Ne.a,{container:!0,spacing:3},r.a.createElement(Ne.a,{item:!0,xs:12},r.a.createElement(Wr,{errors:n,touched:c,value:s.mixProp})))))},formData:s,validationSchema:Oc,budgetId:d,open:t,closeModal:a,maxWidth:"lg",rowData:c,refreshRow:o})},7:function(e){var t=e.open,a=e.closeModal,c=e.rowData,o=e.refreshRow,l=Object(n.useState)({}),i=Object(b.a)(l,2),s=i[0],u=i[1],d=c.budget.id,m=c.id;Object(n.useEffect)((function(){oe.get("budgets/".concat(d,"/").concat("muros","/").concat(m)).then((function(e){return u(e.data)})).catch((function(e){}))}),[t]);var f={name:ja,profitPct:va,area:Sa,junta:Ma};return r.a.createElement(Wc,{apiId:"muros",title:"Muro",FormRow:function(e){var t=e.values,a=e.setFieldValue,c=e.errors,o=e.touched;return r.a.createElement(n.Fragment,null,r.a.createElement(Ne.a,{container:!0,spacing:3},r.a.createElement(Ne.a,{item:!0,xs:12,sm:9},r.a.createElement(na,{value:t.name,setFieldValue:a,errors:c,touched:o})),r.a.createElement(Ne.a,{item:!0,xs:12,sm:3},r.a.createElement(la,{name:"profitPct",label:"Pct. de Utilidad",value:t.profitPct,setFieldValue:a,errors:c,touched:o,optional:!0}))),r.a.createElement(Ne.a,{container:!0,spacing:3},r.a.createElement(Ne.a,{item:!0,xs:6},r.a.createElement(oa,{name:"area",label:"Area",value:t.area,setFieldValue:a,errors:c,touched:o})),r.a.createElement(Ne.a,{item:!0,xs:6},r.a.createElement(ra,{name:"junta",label:"Junta",value:t.junta,setFieldValue:a,errors:c,touched:o}))),r.a.createElement(Ne.a,{container:!0,spacing:3},r.a.createElement(Ne.a,{item:!0,xs:12},r.a.createElement(zr,{errors:c,touched:o,value:s.mixProp}))))},formData:s,validationSchema:f,budgetId:d,open:t,closeModal:a,rowData:c,refreshRow:o})},8:function(e){var t=e.open,a=e.closeModal,c=e.rowData,o=e.refreshRow,l=Object(n.useState)({}),i=Object(b.a)(l,2),s=i[0],u=i[1],d=c.budget.id,m=c.id;Object(n.useEffect)((function(){oe.get("budgets/".concat(d,"/").concat("concmezclones","/").concat(m)).then((function(e){return u(e.data)})).catch((function(e){}))}),[t]);return r.a.createElement(Wc,{apiId:"concmezclones",title:"Mezcl\xf3n de Concreto",FormRow:function(e){var t=e.values,a=e.setFieldValue,c=e.errors,o=e.touched;return r.a.createElement(n.Fragment,null,r.a.createElement(kc,{values:t,setFieldValue:a,errors:c,touched:o}),r.a.createElement(Ne.a,{container:!0,spacing:3},r.a.createElement(Ne.a,{item:!0,xs:12},r.a.createElement(Wr,{errors:c,touched:o,value:s.mixProp}))))},formData:s,validationSchema:Ac,budgetId:d,open:t,closeModal:a,rowData:c,refreshRow:o})},9:function(e){var t=e.open,a=e.closeModal,c=e.rowData,o=e.refreshRow,l=Object(n.useState)({}),i=Object(b.a)(l,2),s=i[0],u=i[1],d=c.budget.id,m=c.id;Object(n.useEffect)((function(){oe.get("budgets/".concat(d,"/").concat("mezclones","/").concat(m)).then((function(e){return u(e.data)})).catch((function(e){}))}),[t]);return r.a.createElement(Wc,{apiId:"mezclones",title:"Mezcl\xf3n de Mortero",FormRow:function(e){var t=e.values,a=e.setFieldValue,c=e.errors,o=e.touched;return r.a.createElement(n.Fragment,null,r.a.createElement(kc,{values:t,setFieldValue:a,errors:c,touched:o}),r.a.createElement(Ne.a,{container:!0,spacing:3},r.a.createElement(Ne.a,{item:!0,xs:12},r.a.createElement(zr,{errors:c,touched:o,value:s.mixProp}))))},formData:s,validationSchema:Ac,budgetId:d,open:t,closeModal:a,rowData:c,refreshRow:o})},10:function(e){var t=e.open,a=e.closeModal,c=e.rowData,o=e.refreshRow,l=Object(n.useState)({}),i=Object(b.a)(l,2),s=i[0],u=i[1],d=c.budget.id,m=c.id;Object(n.useEffect)((function(){oe.get("budgets/".concat(d,"/").concat("repellos","/").concat(m)).then((function(e){return u(e.data)})).catch((function(e){}))}),[t]);return r.a.createElement(Wc,{apiId:"repellos",title:"Repello y Cernido",FormRow:function(e){var t=e.values,a=e.setFieldValue,c=e.errors,o=e.touched;return r.a.createElement(n.Fragment,null,r.a.createElement(kc,{values:t,setFieldValue:a,errors:c,touched:o}),r.a.createElement(Ne.a,{container:!0,spacing:3},r.a.createElement(Ne.a,{item:!0,xs:12},r.a.createElement(zr,{errors:c,touched:o,value:s.mixProp}))))},formData:s,validationSchema:Ac,budgetId:d,open:t,closeModal:a,rowData:c,refreshRow:o})},11:_c,12:function(e){var t=e.open,a=e.closeModal,c=e.rowData,o=e.refreshRow,l=Object(n.useState)({}),i=Object(b.a)(l,2),s=i[0],u=i[1],d="columnasespeciales",m=c.budget.id,f=c.id;Object(n.useEffect)((function(){oe.get("budgets/".concat(m,"/").concat(d,"/").concat(f)).then((function(e){return u(e.data)})).catch((function(e){}))}),[t]);return r.a.createElement(Wc,{apiId:d,title:"Columna Especial",FormRow:function(e){var t=e.values,a=e.setFieldValue,n=e.errors,c=e.touched;return r.a.createElement(Ne.a,{container:!0,alignItems:"center"},r.a.createElement(Ne.a,{constainer:!0,spacing:3,xs:12,sm:3},r.a.createElement(Bt,{image:kr.a})),r.a.createElement(Ne.a,{container:!0,spacing:3,xs:12,sm:9},r.a.createElement(Nc,{values:t,setFieldValue:a,errors:n,touched:c}),r.a.createElement(Ne.a,{item:!0,xs:12,md:12},r.a.createElement(Wr,{errors:n,touched:c,value:s.mixProp}))))},formData:s,validationSchema:Lc,budgetId:m,open:t,closeModal:a,maxWidth:"lg",rowData:c,refreshRow:o})},13:function(e){var t=e.open,a=e.closeModal,c=e.rowData,o=e.refreshRow,l=Object(n.useState)({}),i=Object(b.a)(l,2),s=i[0],u=i[1],d=c.budget.id,m=c.id;Object(n.useEffect)((function(){oe.get("budgets/".concat(d,"/").concat("pinturas","/").concat(m)).then((function(e){return u(e.data)})).catch((function(e){}))}),[t]);return r.a.createElement(Wc,{apiId:"pinturas",title:"Pintura Interior/Exterior",FormRow:function(e){var t=e.values,a=e.setFieldValue,c=e.errors,o=e.touched;return r.a.createElement(n.Fragment,null,r.a.createElement(Ne.a,{container:!0,spacing:4},r.a.createElement(Ne.a,{item:!0,xs:12,sm:9},r.a.createElement(na,{value:t.name,setFieldValue:a,errors:c,touched:o})),r.a.createElement(Ne.a,{item:!0,xs:12,sm:3},r.a.createElement(la,{name:"profitPct",label:"Pct. de Utilidad",value:t.profitPct,setFieldValue:a,errors:c,touched:o,optional:!0}))),r.a.createElement(Ne.a,{container:!0,spacing:4},r.a.createElement(Ne.a,{item:!0,xs:6},r.a.createElement(oa,{name:"wallArea",label:"Area de Pared",value:t.wallArea,helperText:"Area de paredes interiores/exteriores",setFieldValue:a,errors:c,touched:o})),r.a.createElement(Ne.a,{item:!0,xs:6},r.a.createElement(oa,{name:"ceilArea",label:"Area de Cielo",value:t.ceilArea,helperText:"Area de superficies de cielo (Opcional)",setFieldValue:a,errors:c,touched:o}))))},formData:s,validationSchema:{name:ja,profitPct:va,wallArea:ya,ceilArea:Da},budgetId:d,open:t,closeModal:a,rowData:c,refreshRow:o})},14:_c},Bc=a(430),Uc=a(419),Gc=a(420),Hc=a(414);Object(w.a)((function(e){return{tableTotal:{maxWidth:400,marginLeft:"auto"},totalCell:{paddingRight:95}}}));var Xc=a(168),Zc=a.n(Xc);a(655),a(659),a(656),Object(w.a)((function(e){return{speedDial:{marginRight:e.spacing(1)}}}));Object(w.a)((function(e){return{}})),Object(n.forwardRef)((function(e,t){return r.a.createElement(n.Fragment,null)})),Object(n.forwardRef)((function(e,t){return r.a.createElement(et.a,Object.assign({},e,{ref:t}))})),Object(n.forwardRef)((function(e,t){return r.a.createElement(at.a,Object.assign({},e,{ref:t}))})),Object(n.forwardRef)((function(e,t){return r.a.createElement(rt.a,Object.assign({},e,{ref:t}))})),Object(n.forwardRef)((function(e,t){return r.a.createElement(L.a,Object.assign({},e,{ref:t}))})),Object(n.forwardRef)((function(e,t){return r.a.createElement(ot.a,Object.assign({},e,{ref:t}))})),Object(n.forwardRef)((function(e,t){return r.a.createElement(bt.a,Object.assign({},e,{ref:t}))})),Object(n.forwardRef)((function(e,t){return r.a.createElement(Be.a,Object.assign({},e,{ref:t}))})),Object(n.forwardRef)((function(e,t){return r.a.createElement(it.a,Object.assign({},e,{ref:t}))})),Object(n.forwardRef)((function(e,t){return r.a.createElement(ut.a,Object.assign({},e,{ref:t}))})),Object(n.forwardRef)((function(e,t){return r.a.createElement(L.a,Object.assign({},e,{ref:t}))})),Object(n.forwardRef)((function(e,t){return r.a.createElement(k.a,Object.assign({},e,{ref:t}))})),Object(n.forwardRef)((function(e,t){return r.a.createElement(at.a,Object.assign({},e,{ref:t}))})),Object(n.forwardRef)((function(e,t){return r.a.createElement(gt.a,Object.assign({},e,{ref:t}))})),Object(n.forwardRef)((function(e,t){return r.a.createElement(Ye.a,Object.assign({},e,{ref:t}))})),Object(n.forwardRef)((function(e,t){return r.a.createElement(mt.a,Object.assign({},e,{ref:t}))})),Object(n.forwardRef)((function(e,t){return r.a.createElement(ht.a,Object.assign({},e,{ref:t}))}));var Qc=a(455),Jc=a.n(Qc),Kc=a(456),Yc=a.n(Kc),$c=Object(Tt.a)((function(e){return{tooltip:{backgroundColor:e.palette.common.black,boxShadow:e.shadows[1],fontSize:11},arrow:{color:e.palette.common.black}}}))(cr.a),eo=(Object(w.a)((function(e){return{tableTotal:{maxWidth:400,marginLeft:"auto"},totalCell:{paddingRight:95}}})),r.a.memo((function(e){var t=e.title,a=e.label,c=e.color,o=e.url,l=e.getColumns,i=e.refreshRow,s=(Object(n.useRef)(1),{Add:Object(n.forwardRef)((function(e,a){return r.a.createElement(y.a,{color:"primary",size:"small",startIcon:r.a.createElement(Je.a,Object.assign({},e,{ref:a}))},t)})),Check:Object(n.forwardRef)((function(e,t){return r.a.createElement(et.a,Object.assign({},e,{ref:t}))})),Clear:Object(n.forwardRef)((function(e,t){return r.a.createElement(at.a,Object.assign({},e,{ref:t}))})),Delete:Object(n.forwardRef)((function(e,t){return r.a.createElement(rt.a,Object.assign({},e,{ref:t}))})),DetailPanel:Object(n.forwardRef)((function(e,t){return r.a.createElement(L.a,Object.assign({},e,{ref:t}))})),Edit:Object(n.forwardRef)((function(e,t){return r.a.createElement(ot.a,Object.assign({},e,{ref:t}))})),Export:Object(n.forwardRef)((function(e,t){return r.a.createElement(bt.a,Object.assign({},e,{ref:t}))})),Filter:Object(n.forwardRef)((function(e,t){return r.a.createElement(Be.a,Object.assign({},e,{ref:t}))})),FirstPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(it.a,Object.assign({},e,{ref:t}))})),LastPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(ut.a,Object.assign({},e,{ref:t}))})),NextPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(L.a,Object.assign({},e,{ref:t}))})),PreviousPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(k.a,Object.assign({},e,{ref:t}))})),ResetSearch:Object(n.forwardRef)((function(e,t){return r.a.createElement(at.a,Object.assign({},e,{ref:t}))})),Search:Object(n.forwardRef)((function(e,t){return r.a.createElement(gt.a,Object.assign({},e,{ref:t}))})),SortArrow:Object(n.forwardRef)((function(e,t){return r.a.createElement(Ye.a,Object.assign({},e,{ref:t}))})),ThirdStateCheck:Object(n.forwardRef)((function(e,t){return r.a.createElement(mt.a,Object.assign({},e,{ref:t}))})),ViewColumn:Object(n.forwardRef)((function(e,t){return r.a.createElement(ht.a,Object.assign({},e,{ref:t}))}))}),d=Object(n.useState)([]),m=Object(b.a)(d,2),f=m[0],g=m[1],E=Object(n.useState)(!0),h=Object(b.a)(E,2),O=h[0],j=h[1];Object(n.useEffect)((function(){j(!0),oe.get(o).then((function(e){g(e.data),j(!1)})).catch((function(e){j(!1)}))}),[]);return r.a.createElement(n.Fragment,null,r.a.createElement(se.a,{icons:s,title:"",columns:l(),data:f,isLoading:O,editable:{isDeletable:function(e){return!e.generated},isEditable:function(e){return 5!=e.type},onRowAdd:function(e){return new Promise((function(t){!function(e,t){[].length<1?oe.post(o,e).then((function(e){var a=Object(re.a)(f);a.push(e.data),g(a),i(),t()})).catch((function(e){t()})):t()}(e,t)}))},onRowUpdate:function(e,t){return new Promise((function(a){!function(e,t,a){[].length<1?(console.log(e),oe.put("".concat(o,"/").concat(e.id),e).then((function(e){var n=Object(re.a)(f);n[t.tableData.id]=Object(p.a)(Object(p.a)({},e.data),{},{tableData:Object(p.a)({},t.tableData)}),g(Object(re.a)(n)),i(),a()})).catch((function(e){a()}))):a()}(e,t,a)}))},onRowDelete:function(e){return new Promise((function(t){!function(e,t){oe.delete("".concat(o,"/").concat(e.id)).then((function(a){var n=Object(re.a)(f),r=e.tableData.id;n.splice(r,1),g(Object(re.a)(n)),i(),t()})).catch((function(e){t()}))}(e,t)}))}},options:{actionsColumnIndex:-1,search:!1,paging:!1,pageSize:5,pageSizeOptions:[5],padding:"dense",headerStyle:{paddingTop:0,paddingBottom:0,fontSize:"0.75rem",color:u.a[800],borderTopLeftRadius:2,borderTopRightRadius:2,borderBottom:"solid 2px ".concat(c)},cellStyle:{paddingTop:8,paddingBottom:8}},components:{Container:function(e){return r.a.createElement("div",e,e.children)}},localization:Object(p.a)(Object(p.a)({},le(a)),{},{body:{addTooltip:"Agregar ".concat(a),deleteTooltip:"Eliminar",editTooltip:"Editar",emptyDataSourceMessage:"No hay registros para mostrar",editRow:{deleteText:"Esta seguro de eliminar este dato?",cancelTooltip:"Cancelar",saveTooltip:"Guardar"}}})}))}))),to=Object(w.a)((function(e){return{tableTotal:{maxWidth:400,marginLeft:"auto"},totalCell:{paddingRight:95}}})),ao=r.a.memo((function(e){var t=e.total,a=e.refreshRow,c=e.url,o=to(),l=(Object(n.useRef)(1),Object(n.useState)({})),i=Object(b.a)(l,2),s=i[0],u=i[1],d=Object(n.useState)([]),m=Object(b.a)(d,2),f=m[0],g=m[1],E=Object(n.useState)([]),h=Object(b.a)(E,2),O=(h[0],h[1],0==f.length);Object(n.useEffect)((function(){O&&(oe.get("materials").then((function(e){g(e.data)})),oe.get("units/catal").then((function(e){u(e.data)})).catch((function(e){})))}),[]);var j=Object(n.useCallback)((function(){return[{title:"Id",field:"id",hidden:!0},{width:"1%",align:"left",sorting:!1,render:function(e){return"undefined"!=typeof e&&e.type&&1!=e.type.id&&r.a.createElement($c,{title:e.type.name,placement:"bottom"},r.a.createElement(I.a,{size:"small","aria-label":"upload picture",component:"span"},r.a.createElement(Zc.a,null)))}},{title:"Material",width:"35%",field:"material",render:function(e){return e?e.name:""},validate:function(e){return"undefined"!=typeof e.name&&(""!==e.name.trim()||{isValid:!1,helperText:"Nombre es requerido"})},editComponent:function(e){return r.a.createElement(_r.a,{id:"Agent Emails",fullWidth:!0,autoComplete:!0,autoSelect:!0,size:"small",value:e.value,options:f,getOptionLabel:function(e){return e.name},getOptionSelected:function(e,t){return e.name===t.name},loading:O,loadingText:"Cargando...",clearText:"Borrar",getOptionDisabled:e.rowData&&e.rowData.type&&4===e.rowData.type.id?function(t){return!t.type||t.prices.length<=0||t.type.id!=e.rowData.material.type.id}:function(e){return e.prices.length<=0},renderInput:function(t){return e.rowData&&console.log(e.rowData),r.a.createElement(Yt.a,Object.assign({placeholder:e.rowData&&e.rowData.name?"".concat(e.rowData.name):"Seleccionar Material"},t,{fullWidth:!0,InputProps:Object(p.a)(Object(p.a)({},t.InputProps),{},{endAdornment:r.a.createElement(r.a.Fragment,null,O?r.a.createElement(Gt.a,{color:"inherit",size:20}):null,t.InputProps.endAdornment)})}))},onChange:function(t,a){var n;null!=a?(e.onChange(a),console.log(a),(n=Object(p.a)({},e.rowData)).name=a.name?a.name:"",n.unit=a.unit?a.unit:null,n.material=a,n.prices=a.prices?a.prices:[],n.materialPrice={price:""},n.price="",e.onRowDataChange(n)):((n=Object(p.a)({},e.rowData)).prices=[],e.onRowDataChange(n))}})}},{title:"Cantidad",field:"amount",type:"numeric",render:function(e){return(e.amount*(e.wastePct/100+1)).toFixed(2)},width:"15%",align:"right",validate:function(e){return"undefined"!=typeof e.amount&&(!(e.amount.length<=0)||{isValid:!1,helperText:"Cantidad es requerido"})},editComponent:function(e){return r.a.createElement(Yt.a,{id:"standard-basic",value:e.value,type:"number",size:"small",disabled:e.rowData&&e.rowData.type&&4===e.rowData.type.id,onChange:function(t){return e.onChange(t.target.value)}})}},{title:"Pct.",field:"wastePct",type:"numeric",render:function(e){return"".concat(e.wastePct," %")},width:"5%",align:"right",initialEditValue:0,validate:function(e){return"undefined"!=typeof e.wastePct&&(!(e.wastePct.length<=0)||{isValid:!1,helperText:"Cantidad es requerido"})},editComponent:function(e){return r.a.createElement(Yt.a,{defaultValue:0,type:"number",inputProps:{min:0,max:100,fontSize:10},value:e.value,onChange:function(t){return e.onChange(t.target.value)}})}},{title:"Unidad",field:"unit.id",lookup:s,editable:"never",width:"15%",align:"right",validate:function(e){return"undefined"!=typeof e.unit}},{title:"Precio Unitario",field:"materialPrice",width:"15%",align:"right",render:function(e){return e?""===e.price?e.price:new Intl.NumberFormat("es-GT",{style:"currency",currency:"gtq"}).format(e.price):""},validate:function(e){return"undefined"!=typeof e.price&&(!(e.price.length<=0)||{isValid:!1,helperText:"Precio es requerido"})},editComponent:function(e){return r.a.createElement(ze.a,null,r.a.createElement(We.a,{value:e.value,placeholder:e.rowData&&e.rowData.price?"".concat(e.rowData.price):"----",onChange:function(t){e.onChange(t.target.value);var a=Object(p.a)({},e.rowData);a.price=t.target.value.price,a.materialPrice=t.target.value,e.onRowDataChange(a)},defaultValue:e.rowData.materialPrice?e.rowData.materialPrice:{price:""},renderValue:function(e){return r.a.createElement(_e.a,{dense:!0,className:o.denseItem,value:e},e.special&&r.a.createElement(Br.a,{color:"secondary",fontSize:"small"}),""===e.price?"":new Intl.NumberFormat("es-GT",{style:"currency",currency:"gtq"}).format(e.price))},disabled:!e.rowData.prices||0===e.rowData.prices.length},e.rowData&&e.rowData.prices&&e.rowData.prices.map((function(e){return r.a.createElement(_e.a,{value:e},e.special&&r.a.createElement(Br.a,{color:"secondary",fontSize:"small"}),""===e.price?"":new Intl.NumberFormat("es-GT",{style:"currency",currency:"gtq"}).format(e.price))}))))},currencySetting:{locale:"es-GT",currencyCode:"gtq",minimumFractionDigits:2,maximumFractionDigits:2}},{title:"Precio Total",field:"totalPrice",type:"currency",editable:"never",width:"15%",align:"right",render:function(e){return"undefined"!=typeof e&&new Intl.NumberFormat("es-GT",{style:"currency",currency:"gtq"}).format(e.amount*(e.wastePct/100+1)*e.price)},currencySetting:{locale:"es-GT",currencyCode:"gtq",minimumFractionDigits:2,maximumFractionDigits:2}}]}),[s,f]);return r.a.createElement(n.Fragment,null,r.a.createElement(eo,{title:"Material",label:"material",color:"#26a69a",getColumns:j,url:"".concat(c,"/mtlcosts"),refreshRow:a}),r.a.createElement(Bc.a,{"aria-label":"spanning table",className:o.tableTotal},r.a.createElement(Uc.a,null,r.a.createElement(no,null,r.a.createElement(ro,{rowSpan:1}),r.a.createElement(ro,{colSpan:2},"Subtotal"),r.a.createElement(ro,{className:o.totalCell,align:"right"},new Intl.NumberFormat("es-GT",{style:"currency",currency:"gtq"}).format(t||0))))))}),(function(e,t){return e.total==t.total})),no=Object(Tt.a)((function(e){return{root:{borderTop:"solid 2px #26a69a",borderBottom:"none"}}}))(Gc.a),ro=Object(Tt.a)((function(e){return{root:{borderBottom:"none"}}}))(Hc.a),co=Object(w.a)((function(e){return{tableTotal:{maxWidth:400,marginLeft:"auto"},totalCell:{paddingRight:95}}})),oo=r.a.memo((function(e){var t=e.total,a=e.refreshRow,c=e.url,o=e.rowAmount,l=co(),i=(Object(n.useRef)(1),Object(n.useState)({})),s=Object(b.a)(i,2),u=s[0],d=s[1];Object(n.useEffect)((function(){oe.get("units/catal").then((function(e){d(e.data)})).catch((function(e){}))}),[]);var m=Object(n.useCallback)((function(){return[{title:"Id",field:"id",hidden:!0},{title:"Relativo",field:"relative",type:"boolean",width:"5%",initialEditValue:!0},{title:"Mano de Obra",field:"name",width:"40%",validate:function(e){return"undefined"!=typeof e.name&&(""!==e.name.trim()||{isValid:!1,helperText:"Nombre es requerido"})}},{title:"Cantidad",field:"amount",type:"numeric",initialEditValue:o,validate:function(e){return"undefined"!=typeof e.amount&&(!(e.amount.length<=0)||{isValid:!1,helperText:"Cantidad es requerido"})},render:function(e){return e.amount.toFixed(2)},width:"15%",align:"right"},{title:"Unidad",field:"unit.id",lookup:u,validate:function(e){return"undefined"!=typeof e.unit},width:"15%",align:"right"},{title:"Precio Unitario",field:"price",type:"currency",validate:function(e){return"undefined"!=typeof e.price&&(!(e.price.length<=0)||{isValid:!1,helperText:"Precio es requerido"})},currencySetting:{locale:"es-GT",currencyCode:"gtq",minimumFractionDigits:2,maximumFractionDigits:2},width:"15%",align:"right"},{title:"Precio Total",field:"totalPrice",type:"currency",editable:"never",width:"15%",align:"right",render:function(e){return"undefined"!=typeof e&&new Intl.NumberFormat("es-GT",{style:"currency",currency:"gtq"}).format(e.amount*e.price)},currencySetting:{locale:"es-GT",currencyCode:"gtq",minimumFractionDigits:2,maximumFractionDigits:2}}]}),[u]);return r.a.createElement(n.Fragment,null,r.a.createElement(eo,{title:"Mano de Obra",label:"mano de obra",color:"#6c92a2",getColumns:m,url:"".concat(c,"/wfcosts"),refreshRow:a}),r.a.createElement(Bc.a,{"aria-label":"spanning table",className:l.tableTotal},r.a.createElement(Uc.a,null,r.a.createElement(lo,null,r.a.createElement(io,{rowSpan:1}),r.a.createElement(io,{colSpan:2},"Subtotal"),r.a.createElement(io,{className:l.totalCell,align:"right"},new Intl.NumberFormat("es-GT",{style:"currency",currency:"gtq"}).format(t||0))))))})),lo=Object(Tt.a)((function(e){return{root:{borderTop:"solid 2px #6c92a2"}}}))(Gc.a),io=Object(Tt.a)((function(e){return{root:{borderBottom:"none"}}}))(Hc.a),so=Object(w.a)((function(e){return{tableTotal:{maxWidth:400,marginLeft:"auto"},totalCell:{paddingRight:95}}})),uo=r.a.memo((function(e){var t=e.total,a=e.refreshRow,c=e.url,o=(Object(n.useRef)(1),Object(n.useState)({})),l=Object(b.a)(o,2),i=l[0],s=l[1];Object(n.useEffect)((function(){oe.get("units/catal").then((function(e){s(e.data)})).catch((function(e){}))}),[]);var u=Object(n.useCallback)((function(){return[{title:"Id",field:"id",hidden:!0},{title:"Costos Indirectos",field:"name",width:"40%",validate:function(e){return"undefined"!=typeof e.name&&(""!==e.name.trim()||{isValid:!1,helperText:"Nombre es requerido"})}},{title:"Cantidad",field:"amount",type:"numeric",render:function(e){return e.amount.toFixed(2)},width:"15%",align:"right",validate:function(e){return"undefined"!=typeof e.amount&&(!(e.amount.length<=0)||{isValid:!1,helperText:"Cantidad es requerido"})}},{title:"Unidad",field:"unit.id",lookup:i,width:"15%",align:"right",validate:function(e){return"undefined"!=typeof e.unit}},{title:"Precio Unitario",field:"price",type:"currency",currencySetting:{locale:"es-GT",currencyCode:"gtq",minimumFractionDigits:2,maximumFractionDigits:2},validate:function(e){return"undefined"!=typeof e.price&&(!(e.price.length<=0)||{isValid:!1,helperText:"Precio es requerido"})},width:"15%",align:"right"},{title:"Precio Total",field:"totalPrice",type:"currency",editable:"never",width:"15%",align:"right",render:function(e){return"undefined"!=typeof e&&new Intl.NumberFormat("es-GT",{style:"currency",currency:"gtq"}).format(e.amount*e.price)},currencySetting:{locale:"es-GT",currencyCode:"gtq",minimumFractionDigits:2,maximumFractionDigits:2}}]}),[i]);Object(n.useMemo)((function(){return"".concat(c,"/indcosts")}),[]);return r.a.createElement(n.Fragment,null,r.a.createElement(eo,{title:"Costo indirecto",label:"costo",color:"#6c92a2",getColumns:u,url:"".concat(c,"/indcosts"),refreshRow:a}),r.a.createElement(mo,{total:t}))})),mo=r.a.memo((function(e){var t=e.total,a=so();return r.a.createElement(Bc.a,{"aria-label":"spanning table",className:a.tableTotal},r.a.createElement(Uc.a,null,r.a.createElement(fo,null,r.a.createElement(bo,{rowSpan:1}),r.a.createElement(bo,{colSpan:2},"Subtotal"),r.a.createElement(bo,{className:a.totalCell,align:"right"},new Intl.NumberFormat("es-GT",{style:"currency",currency:"gtq"}).format(t||0)))))})),fo=Object(Tt.a)((function(e){return{root:{borderTop:"solid 2px #9ca9a8"}}}))(Gc.a),bo=Object(Tt.a)((function(e){return{root:{borderBottom:"none"}}}))(Hc.a),po=Object(w.a)((function(e){return{tableTotal:{maxWidth:600,marginLeft:"auto",marginTop:e.spacing(2)},denseItem:{paddingTop:0,paddingBottom:0}}})),go=r.a.memo((function(e){var t=e.rowData,a=e.refreshRow,c=po(),o=Object(n.useRef)(null),l=Object(n.useRef)(null),i=Object(n.useRef)(null),s=(Object(n.useRef)(1),t.totalCost,t.unitAmount),u=t.totalCost,d=t.directCost,m=t.indirectCost,f=t.materialCost,b=t.workForceCost,p=t.budget.id,g=t.id,E="rows/".concat(g),h="budgets/".concat(p,"/").concat(E),O=Object(n.useCallback)((function(){return a(h,t)}),[]);Y.a,Jc.a,Yc.a;return r.a.createElement(n.Fragment,null,r.a.createElement(ao,{total:f,refreshRow:O,url:E}),r.a.createElement(oo,{total:b,refreshRow:O,url:E,rowAmount:s}),r.a.createElement(uo,{total:m,refreshRow:O,url:E}),r.a.createElement(Bc.a,{"aria-label":"spanning table",className:c.tableTotal},r.a.createElement(Uc.a,null,r.a.createElement(Gc.a,null,r.a.createElement(ho,{rowSpan:3}),r.a.createElement(Hc.a,{colSpan:2},"Total Costos Directos"),r.a.createElement(Hc.a,{align:"right"},new Intl.NumberFormat("es-GT",{style:"currency",currency:"gtq"}).format(d||0))),r.a.createElement(Gc.a,null,r.a.createElement(Hc.a,{colSpan:2},"Total Costos Indirectos"),r.a.createElement(Hc.a,{align:"right"},new Intl.NumberFormat("es-GT",{style:"currency",currency:"gtq"}).format(m||0))),r.a.createElement(Eo,null,r.a.createElement(ho,{colSpan:2},"Total Costos del Renglon"),r.a.createElement(ho,{align:"right"},new Intl.NumberFormat("es-GT",{style:"currency",currency:"gtq"}).format(u||0))))))}),(function(e,t){return e.rowData.totalCost==t.rowData.totalCost})),Eo=Object(Tt.a)((function(e){return{root:{borderTop:"solid 2px ".concat(e.palette.primary.main)}}}))(Gc.a),ho=Object(Tt.a)((function(e){return{root:{borderBottom:"none"}}}))(Hc.a),Oo=a(294),jo=a.n(Oo),vo=a(566);function wo(e){var t=e.open,a=e.onClose,c=e.onConfirm,o=e.data,l=e.showTitle,i=Object(yt.a)(e,["open","onClose","onConfirm","data","showTitle"]),s=o[0]||{budget:{name:"",project:{name:""}}};console.log("DATA EN EXPORT",o);var u=s.budget.name.toUpperCase(),d=s.budget.project.name.toUpperCase();Object(n.useEffect)((function(){}),[o]);var m=function(){a()},f=Object(n.useState)(),p=Object(b.a)(f,2),g=p[0];p[1];return r.a.createElement(Dt.a,Object.assign({disableBackdropClick:!0,disableEscapeKeyDown:!0,fullWidth:!0,maxWidth:"md","aria-labelledby":"confirmation-dialog-title",open:t},i),r.a.createElement(Lt,{onClose:a,id:"confirmation-dialog-title"},l()),r.a.createElement(Jt.c,{enableReinitialize:!0,initialValues:{name:"PRESUPUESTO ".concat(u," ").concat(d," ").concat(jo()().format("LL"))},validationSchema:ma.d().shape({name:ma.e().required("Requerido")}),onSubmit:function(e,t){var n=t.setSubmitting,r=(t.resetForm,e.name);console.log(r),setTimeout((function(){c(o,r),n(!1),a()}),500)}},(function(e){var t=e.submitForm,a=e.isSubmitting,n=e.setFieldValue,c=e.values,o=e.errors,l=e.touched;return r.a.createElement(Jt.b,null,r.a.createElement(It.a,{dividers:!0},r.a.createElement(Ne.a,{container:!0,spacing:4},r.a.createElement(Ne.a,{item:!0,xs:12},r.a.createElement(na,{value:c.name,setFieldValue:n,errors:o,touched:l,helperText:"Nombre del archivo de excel",fieldProps:{autoFocus:!0,fullWidth:!0,multiline:!0,endAdornment:r.a.createElement(ea.a,{position:"end"},".xlsx")}}))),a&&r.a.createElement(Ut.a,null),r.a.createElement("br",null),g&&r.a.createElement("p",{className:g.ok?"":"errorMsg"},g.msg)),r.a.createElement(Vt.a,null,r.a.createElement(y.a,{autoFocus:!0,onClick:m,color:"primary"},"Cancelar"),r.a.createElement(y.a,{onClick:t,color:"primary",startIcon:a?r.a.createElement(Gt.a,{size:"1rem"}):r.a.createElement(he.a,null)},"EXPORTAR")))})))}jo.a.locale("es",vo);var Po=Object(b.a)(cc,2),xo=Po[0],Fo=Po[1],Co=Object(b.a)(oc,2),Ro=Co[0],So=Co[1],yo=Object(b.a)(lc,2),Do=yo[0],Io=yo[1],Vo=Object(b.a)(ic,2),To=Vo[0],Ao=Vo[1],ko=Object(b.a)(sc,2),Mo=ko[0],Lo=ko[1],No=Object(b.a)(dc,2),zo=No[0],Wo=No[1],_o=Object(b.a)(mc,2),qo=_o[0],Bo=_o[1],Uo=Object(b.a)(uc,2),Go=Uo[0],Ho=Uo[1],Xo=Object(b.a)(fc,2),Zo=Xo[0],Qo=Xo[1],Jo=Object(b.a)(bc,2),Ko=Jo[0],Yo=Jo[1],$o=Object(b.a)(pc,2),el=$o[0],tl=$o[1],al=Object(b.a)(gc,2),nl=al[0],rl=al[1],cl=Object(w.a)((function(e){return{soloInput:{textAlign:"right"}}})),ol="",ll="",il="",sl="",ul="",dl="",ml="",fl="",bl="",pl="",gl="",El="",hl="",Ol={cementWastePct:0,sandWastePct:0,gravelWastePct:0},jl={cementWastePct:0,sandWastePct:0},vl={longIronWastePct:0,transIronWastePct:0,tieWireWastePct:0},wl=Object(p.a)(Object(p.a)({},vl),{},{longIronAuxWastePct:0}),Pl={ironWastePct:0,tieWireWastePct:0},xl=function(e){return r.a.createElement(n.Fragment,null)},Fl=function(e){var t=e.getSteps,a=e.budgetId,c=e.apiId,o=e.initialValues,l=e.openModal,i=e.closeModal,s=e.setData,u=(e.errors,e.touched,e.values,e.setFieldValue,e.maxWidth),d="budgets/".concat(a,"/").concat(c),m=r.a.useState(0),f=Object(b.a)(m,2),g=f[0],E=f[1],h=Object(n.useState)({label:"",form:xl,schema:ma.d().shape({})}),O=Object(b.a)(h,2),j=O[0],v=O[1],w=t(),P=Object(n.useState)(),x=Object(b.a)(P,2),F=x[0],C=x[1];Object(n.useEffect)((function(){v(w[0])}),[]);var R=function(){return g===w.length-1},S=function(){v(w[g-1]),E((function(e){return e-1}))};return r.a.createElement(Dt.a,{maxWidth:u||"md",fullWidth:!0,open:l,onClose:function(){return i},"aria-labelledby":"form-dialog-title"},r.a.createElement(Lt,{onClose:i},r.a.createElement(Ht.a,{activeStep:g,alternativeLabel:!0},w.map((function(e){var t=e.label;return r.a.createElement(Xt.a,{key:t},r.a.createElement(Zt.a,null,t))})))),r.a.createElement(Jt.c,{enableReinitialize:!0,initialValues:Object(p.a)({},o),validationSchema:ma.d().shape(Object(p.a)({},j.schema)),onSubmit:function(e,t){var a=t.setSubmitting,n=t.resetForm;R()?(console.log("values",e),oe.post("".concat(d),e).then((function(e){oe.get("".concat(d,"/").concat(e.data.id)).then((function(e){var t=e.data;s((function(e){return[t].concat(Object(re.a)(e))}))})),a(!1),n(),C({ok:!0,msg:""}),i()})).catch((function(e){a(!1)}))):(a(!1),v(w[g+1]),E((function(e){return e+1})))}},(function(e){e.submitForm;var t=e.isSubmitting,a=e.setFieldValue,n=e.values,c=e.errors,o=e.touched;return r.a.createElement(Jt.b,{autoComplete:"off"},r.a.createElement(It.a,{dividers:!0},r.a.createElement(j.form,{values:n,setFieldValue:a,errors:c,touched:o}),t&&r.a.createElement(Ut.a,null),r.a.createElement("br",null)),r.a.createElement(Vt.a,null,r.a.createElement(y.a,{color:"inherit",onClick:i},"Cancelar"),g>0?r.a.createElement(y.a,{disabled:t,variant:"outlined",onClick:S},"Atr\xe1s"):null,r.a.createElement(y.a,{startIcon:t?r.a.createElement(Gt.a,{size:"1rem"}):null,disabled:t,variant:"contained",color:"primary",type:"submit"},t?"Enviando":R()?"Enviar":"Siguiente")),F&&r.a.createElement("p",{className:F.ok?"":"errorMsg"},F.msg))})))},Cl=function(e){var t=e.budgetId,a=e.openModal,c=e.closeModal,o=e.setData,l=function(e){var t=e.values,a=e.setFieldValue,c=e.errors,o=e.touched,l=(e.url,Object(n.useState)([])),i=Object(b.a)(l,2),s=i[0],u=i[1];Object(n.useEffect)((function(){oe.get("units").then((function(e){u(e.data)})).catch((function(e){}))}),[]);var d=Object(w.a)({denseItem:{paddingTop:0,paddingBottom:0}})();return r.a.createElement(Ne.a,{container:!0,spacing:3},r.a.createElement(Ne.a,{item:!0,xs:12},r.a.createElement(na,{value:t.name,setFieldValue:a,errors:c,touched:o})),r.a.createElement(Ne.a,{item:!0,xs:12,sm:4},r.a.createElement(ca,{name:"unitAmount",label:"Cantidad",value:t.unitAmount,setFieldValue:a,errors:c,touched:o})),r.a.createElement(Ne.a,{item:!0,xs:12,sm:5},r.a.createElement(ze.a,null,r.a.createElement(Qt.a,{htmlFor:"unit"},"Unidad de Medida"),r.a.createElement(Jt.a,{component:Kt.b,disabled:0===s.length,name:"unit",onChange:function(e,t){return a("unit",e.target.value)},defaultValue:t.unit?t.unit:null,displayEmpty:!0,renderValue:function(e){return e?r.a.createElement(_e.a,{dense:!0,className:d.denseItem,value:e},"".concat(e.name)):""},inputProps:{id:"mix-prop"}},s.map((function(e){return r.a.createElement(_e.a,{dense:!0,value:e},e.name)}))),c.unit&&o.unit?r.a.createElement("div",null,r.a.createElement(Ze.a,{color:"error",variant:"caption"},c.unit)):null)),r.a.createElement(Ne.a,{item:!0,xs:12,sm:3},r.a.createElement(la,{name:"profitPct",label:"Pct. de Utilidad",value:t.profitPct,setFieldValue:a,errors:c,touched:o,optional:!0})))};return r.a.createElement(Fl,{getSteps:function(){return[{label:"Crear Renglon",schema:{name:ja,unitAmount:Pa,unit:xa,profitPct:va},form:l}]},initialValues:{name:"",unit:"",unitAmount:"",profitPct:""},apiId:"rows",budgetId:t,openModal:a,closeModal:c,setData:o})},Rl={Add:Object(n.forwardRef)((function(e,t){return r.a.createElement(ue.a,{color:"secondary",size:"medium"},r.a.createElement(me.a,Object.assign({},e,{ref:t}))," ")})),Check:Object(n.forwardRef)((function(e,t){return r.a.createElement(fe.a,Object.assign({},e,{ref:t}))})),Clear:Object(n.forwardRef)((function(e,t){return r.a.createElement(be.a,Object.assign({},e,{ref:t}))})),Delete:Object(n.forwardRef)((function(e,t){return r.a.createElement(pe.a,Object.assign({},e,{ref:t}))})),DetailPanel:Object(n.forwardRef)((function(e,t){return r.a.createElement(ge.a,Object.assign({},e,{ref:t}))})),Edit:Object(n.forwardRef)((function(e,t){return r.a.createElement(Ee.a,Object.assign({},e,{ref:t}))})),Export:Object(n.forwardRef)((function(e,t){return r.a.createElement(he.a,Object.assign({},e,{ref:t}))})),Filter:Object(n.forwardRef)((function(e,t){return r.a.createElement(Oe.a,Object.assign({},e,{ref:t}))})),FirstPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(je.a,Object.assign({},e,{ref:t}))})),LastPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(ve.a,Object.assign({},e,{ref:t}))})),NextPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(ge.a,Object.assign({},e,{ref:t}))})),PreviousPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(we.a,Object.assign({},e,{ref:t}))})),ResetSearch:Object(n.forwardRef)((function(e,t){return r.a.createElement(be.a,Object.assign({},e,{ref:t}))})),Search:Object(n.forwardRef)((function(e,t){return r.a.createElement(Pe.a,Object.assign({},e,{ref:t}))})),SortArrow:Object(n.forwardRef)((function(e,t){return r.a.createElement(xe.a,Object.assign({},e,{ref:t}))})),ThirdStateCheck:Object(n.forwardRef)((function(e,t){return r.a.createElement(Fe.a,Object.assign({},e,{ref:t}))})),ViewColumn:Object(n.forwardRef)((function(e,t){return r.a.createElement(Ce.a,Object.assign({},e,{ref:t}))})),Refresh:Object(n.forwardRef)((function(e,t){return r.a.createElement(Re.a,Object.assign({color:"primary"},e,{ref:t}))})),AddLibrary:Object(n.forwardRef)((function(e,t){return r.a.createElement(St,Object.assign({},e,{ref:t}))}))},Sl=[{name:"Zapata",form:function(e){var t=e.budgetId,a=e.openModal,n=e.closeModal,c=e.setData,o=ll,l=il,i=sl,s=ul,u=ml,d=gl,m=El,f=Object(p.a)(Object(p.a)({name:"ZAPATA ",amount:o,length:l,width:i,height:s,recubrimiento:u,cantLongsElems:d,cantTransElems:m},Ol),Pl);return r.a.createElement(Fl,{getSteps:function(){return[{label:"Especificaciones de Zapata",schema:Zo,form:Qo},{label:"Agregar Costos de Concreto",schema:xo,form:Fo},{label:"Agregar Costos de Armaz\xf3n",schema:Do,form:Io}]},budgetId:t,apiId:"zapatas",initialValues:f,setData:c,openModal:a,closeModal:n})}},{name:"Cimiento Corrido",form:function(e){var t=e.budgetId,a=e.openModal,n=e.closeModal,c=e.setData,o=il,l=sl,i=ul,s=ml,u=gl,d=fl,m=bl,f=Object(p.a)(Object(p.a)({name:"CIMIENTO CORRIDO ",length:o,width:l,height:i,recubrimiento:s,cantLongsElems:u,separacion:d,longHook:m},Ol),vl);return r.a.createElement(Fl,{getSteps:function(){return[{label:"Especificaciones de Cimiento",schema:zo,form:Wo},{label:"Agregar Costos de Concreto",schema:xo,form:Fo},{label:"Agregar Costos de Armaz\xf3n",schema:To,form:Ao}]},budgetId:t,apiId:"cimcorridos",initialValues:f,setData:c,openModal:a,closeModal:n})}},{name:"Solera",form:function(e){var t=e.budgetId,a=e.openModal,n=e.closeModal,c=e.setData,o=il,l=sl,i=ul,s=ml,u=gl,d=fl,m=bl,f=Object(p.a)(Object(p.a)({name:"SOLERA ",length:o,width:l,height:i,recubrimiento:s,cantLongsElems:u,separacion:d,longHook:m},Ol),vl);return r.a.createElement(Fl,{getSteps:function(){return[{label:"Especificaciones de Solera",schema:zo,form:Wo},{label:"Agregar Costos de Concreto",schema:xo,form:Fo},{label:"Agregar Costos de Armaz\xf3n",schema:To,form:Ao}]},budgetId:t,apiId:"soleras",initialValues:f,setData:c,openModal:a,closeModal:n})}},{name:"Columna",form:function(e){var t=e.budgetId,a=e.openModal,n=e.closeModal,c=e.setData,o=(cl(),ll),l=il,i=sl,s=ul,u=ml,d=gl,m=fl,f=pl,b=bl,E=Object(p.a)(Object(p.a)({name:"COLUMNA ",amount:o,length:l,width:i,height:s,recubrimiento:u,cantLongsElems:d,separacion:m,longHook:b,longPata:f},Ol),vl);return r.a.createElement(Fl,{getSteps:function(){return[{label:"Especificaciones de Columna",schema:qo,form:function(e){var t=e.values,a=e.setFieldValue,n=e.errors,c=e.touched;return r.a.createElement(Ne.a,{container:!0,alignItems:"center"},r.a.createElement(Ne.a,Object(g.a)({item:!0,xs:12},"xs",3),r.a.createElement(Bt,{image:kr.a})),r.a.createElement(Ne.a,Object(g.a)({item:!0,xs:12},"xs",9),r.a.createElement(Bo,{values:t,setFieldValue:a,errors:n,touched:c})))}},{label:"Agregar Costos de Concreto",schema:xo,form:Fo},{label:"Agregar Costos de Armaz\xf3n",schema:To,form:Ao}]},budgetId:t,apiId:"columnas",initialValues:E,setData:c,openModal:a,closeModal:n,maxWidth:"lg"})}},{name:"Columna Especial",form:function(e){var t=e.budgetId,a=e.openModal,n=e.closeModal,c=e.setData,o=cl(),l={name:ja,profitPct:va,amount:wa,length:Fa,width:Ca,height:Ra,estribosDouble:Ba,recubrimiento:Aa,cantLongsElems:za,cantLongsAuxElems:Wa,separacion:ka,longHook:La,longPata:Na},i=function(e){var t=e.values,a=e.setFieldValue,n=e.errors,c=e.touched;return r.a.createElement(Ne.a,{container:!0,alignItems:"center"},r.a.createElement(Ne.a,{container:!0,xs:12,sm:3},r.a.createElement(Bt,{image:kr.a})),r.a.createElement(Ne.a,{container:!0,spacing:3,xs:12,sm:9},r.a.createElement(Ne.a,{item:!0,xs:12,sm:8},r.a.createElement(na,{value:t.name,setFieldValue:a,errors:n,touched:c})),r.a.createElement(Ne.a,{item:!0,xs:12,sm:2},r.a.createElement(ca,{name:"amount",label:"Cantidad",value:t.amount,setFieldValue:a,errors:n,touched:c})),r.a.createElement(Ne.a,{item:!0,xs:12,sm:2},r.a.createElement(la,{name:"profitPct",label:"Pct. Utilidad",value:t.profitPct,setFieldValue:a,errors:n,touched:c,optional:!0})),r.a.createElement(Ne.a,{item:!0,xs:12},r.a.createElement(sa,{lengthLabel:"Altura",heightLabel:"Largo"})),r.a.createElement(Ne.a,{item:!0,xs:12,sm:6},r.a.createElement(ca,{name:"cantLongsElems",label:"Cantidad Elementos Esquinas",value:t.cantLongsElems,setFieldValue:a,errors:n,touched:c})),r.a.createElement(Ne.a,{item:!0,xs:12,sm:6},r.a.createElement(ca,{name:"cantLongsAuxElems",label:"Cantidad Elementos Auxiliares",value:t.cantLongsAuxElems,setFieldValue:a,errors:n,touched:c})),r.a.createElement(Ne.a,{item:!0,xs:12,sm:6},r.a.createElement(ra,{name:"longPata",label:"Largo Patas",value:t.longPata,setFieldValue:a,errors:n,touched:c})),r.a.createElement(Ne.a,{item:!0,xs:12,sm:6},r.a.createElement(ra,{name:"longHook",label:"Largo Gancho",value:t.longHook,setFieldValue:a,errors:n,touched:c})),r.a.createElement(Ne.a,{item:!0,xs:12,sm:6},r.a.createElement(ra,{name:"separacion",label:"Separacion Estribos",value:t.separacion,setFieldValue:a,errors:n,touched:c})),r.a.createElement(Ne.a,{item:!0,xs:12,sm:6},r.a.createElement(ra,{name:"recubrimiento",label:"Recubrimiento",value:t.recubrimiento,setFieldValue:a,errors:n,touched:c})),r.a.createElement(Ne.a,{xs:12,container:!0,direction:"row-reverse",justify:"flex-start",alignItems:"center"},r.a.createElement(Ne.a,{item:!0,alignItems:"flex-end",className:o.soloInput,xs:6,sm:3},r.a.createElement(ia,{name:"estribosDouble",label:"Estribos dobles"})))))},s=Object(p.a)(Object(p.a)({name:"COLUMNA ",amount:"",length:"",width:"",height:"",recubrimiento:"",cantLongsElems:"",cantLongsAuxElems:"",estribosDouble:!1,separacion:"",longHook:"",longPata:""},Ol),wl);return r.a.createElement(Fl,{getSteps:function(){return[{label:"Especificaciones de Columna Especial",schema:l,form:i},{label:"Agregar Costos de Concreto",schema:xo,form:Fo},{label:"Agregar Costos de Armaz\xf3n",schema:Mo,form:Lo}]},initialValues:s,apiId:"columnasespeciales",budgetId:t,openModal:a,closeModal:n,setData:c,maxWidth:"lg"})}},{name:"Losa Plana",form:function(e){var t=e.budgetId,a=e.openModal,n=e.closeModal,c=e.setData,o=ol,l=dl,i=ul,s=fl,u=hl,d=Object(p.a)(Object(p.a)({nameInitial:o,area:l,height:i,separacion:s,propTension:u},Ol),Pl);return r.a.createElement(Fl,{getSteps:function(){return[{label:"Especificaciones de Losa Plana",schema:Ko,form:Yo},{label:"Agregar Costos de Concreto",schema:xo,form:Fo},{label:"Agregar Costos de Armaz\xf3n",schema:Do,form:Io}]},budgetId:t,apiId:"losasplanas",initialValues:d,setData:c,openModal:a,closeModal:n})}},{name:"Losa Inclinada",form:function(e){var t=e.budgetId,a=e.openModal,n=e.closeModal,c=e.setData,o=ol,l=dl,i=ul,s=fl,u=Object(p.a)(Object(p.a)({nameInitial:o,area:l,height:i,separacion:s},Ol),Pl);return r.a.createElement(Fl,{getSteps:function(){return[{label:"Especificaciones de Losa Inclinada",schema:el,form:tl},{label:"Agregar Costos de Concreto",schema:xo,form:Fo},{label:"Agregar Costos de Armaz\xf3n",schema:Do,form:Io}]},budgetId:t,apiId:"losas",initialValues:u,setData:c,openModal:a,closeModal:n})}},{name:"Muro",form:function(e){var t=e.budgetId,a=e.openModal,n=e.closeModal,c=e.setData,o=dl,l=Object(p.a)(Object(p.a)({name:"LEVANTAMIENTO DE MURO "},jl),{},{area:o,blockWastePct:0});return r.a.createElement(Fl,{getSteps:function(){return[{label:"Especificaciones de Muro",schema:nl,form:rl},{label:"Agregar costos de Mortero Pega",schema:Ro,form:So}]},initialValues:l,apiId:"muros",budgetId:t,openModal:a,closeModal:n,setData:c})}},{name:"Mezcl\xf3n Mortero",form:function(e){var t=e.budgetId,a=e.openModal,n=e.closeModal,c=e.setData,o=ol,l=dl,i=ul,s=Object(p.a)({nameInitial:o,area:l,height:i},jl);return r.a.createElement(Fl,{getSteps:function(){return[{label:"Especificaciones de Mezcl\xf3n de Mortero",schema:Go,form:Ho},{label:"Agregar costos de Mortero",schema:Ro,form:So}]},initialValues:s,apiId:"mezclones",budgetId:t,openModal:a,closeModal:n,setData:c})}},{name:"Mezcl\xf3n Concreto",form:function(e){var t=e.budgetId,a=e.openModal,n=e.closeModal,c=e.setData,o=ol,l=dl,i=ul,s=Object(p.a)({nameInitial:o,area:l,height:i},jl);return r.a.createElement(Fl,{getSteps:function(){return[{label:"Especificaciones de Mezcl\xf3n de Concreto",schema:Go,form:Ho},{label:"Agregar costos de Concreto",schema:xo,form:Fo}]},initialValues:s,apiId:"concmezclones",budgetId:t,openModal:a,closeModal:n,setData:c})}},{name:"Mezcl\xf3n Garage y Banquetas",form:function(e){var t=e.budgetId,a=e.openModal,c=e.closeModal,o=e.setData,l=ol,i=dl,s=ul,u=Object(p.a)({nameInitial:l,area:i,height:s},jl);return r.a.createElement(Fl,{getSteps:function(){return[{label:"Especificaciones de Mezcl\xf3n de Garage y Banquetas",schema:Go,form:Ho},{label:"Agregar costos de Materiales",schema:Object(p.a)(Object(p.a)({},xo),{},{electromalla:nn,electromallaPrice:En,electromallaWastePct:yn}),form:function(e){var t=e.values,a=e.setFieldValue,c=e.errors,o=e.touched;return r.a.createElement(n.Fragment,null,r.a.createElement(Fo,{values:t,setFieldValue:a,errors:c,touched:o}),r.a.createElement(rc,{values:t,setFieldValue:a,errors:c,touched:o}))}}]},initialValues:u,apiId:"extmezclones",budgetId:t,openModal:a,closeModal:c,setData:o})}},{name:"Repello y Cernido",form:function(e){var t=e.budgetId,a=e.openModal,c=e.closeModal,o=e.setData,l={mixProp:Ua,cement:Ga,cementPrice:rn,cementWastePct:hn,sand:Ha,sandPrice:cn,sandWastePct:On,preMix:en,preMixPrice:bn,preMixWastePct:Cn},i=function(e){var t=e.values,a=e.setFieldValue,c=e.errors,o=e.touched;return r.a.createElement(n.Fragment,null,r.a.createElement(So,{values:t,setFieldValue:a,errors:c,touched:o}),r.a.createElement(tc,{values:t,setFieldValue:a,errors:c,touched:o}))},s=dl,u=ul,d=Object(p.a)(Object(p.a)({name:"REPELLO Y CERNIDO ",area:s,height:u},Ol),{},{preMixWastePct:0});return r.a.createElement(Fl,{getSteps:function(){return[{label:"Especificaciones de Repellos y Cernido",schema:Go,form:Ho},{label:"Agregar Costos de Materiales",schema:l,form:i}]},budgetId:t,apiId:"repellos",initialValues:d,setData:o,openModal:a,closeModal:c})}},{name:"Pintura",form:function(e){var t=e.budgetId,a=e.openModal,n=e.closeModal,c=e.setData;return r.a.createElement(Fl,{getSteps:function(){return[{label:"Pintura Exterior y Exterior",schema:{name:ja,profitPct:va,wallArea:ya,ceilArea:Da,wallPaint:tn,wallPaintPrice:pn,wallPaintWastePct:Rn,ceilPaint:an,ceilPaintPrice:gn,ceilPaintWastePct:Sn},form:function(e){var t=e.values,a=e.setFieldValue,n=e.errors,c=e.touched;return r.a.createElement(Ne.a,{container:!0,spacing:3},r.a.createElement(Ne.a,{item:!0,xs:12,sm:9},r.a.createElement(na,{value:t.name,setFieldValue:a,errors:n,touched:c})),r.a.createElement(Ne.a,{item:!0,xs:12,sm:3},r.a.createElement(la,{name:"profitPct",label:"Pct. de Utilidad",value:t.profitPct,setFieldValue:a,errors:n,touched:c,optional:!0})),r.a.createElement(Ne.a,{item:!0,xs:12,sm:6},r.a.createElement(oa,{name:"wallArea",label:"Area de Pared",value:t.wallArea,helperText:"Area de paredes interiores/exteriores",setFieldValue:a,errors:n,touched:c})),r.a.createElement(Ne.a,{item:!0,xs:12,sm:6},r.a.createElement(oa,{name:"ceilArea",label:"Area de Cielo",value:t.ceilArea,helperText:"Area de superficies de cielo (Opcional)",setFieldValue:a,errors:n,touched:c})),r.a.createElement(Ne.a,{item:!0,xs:12},r.a.createElement(ac,{values:t,setFieldValue:a,errors:n,touched:c})),r.a.createElement(Ne.a,{item:!0,xs:12},r.a.createElement(nc,{values:t,setFieldValue:a,errors:n,touched:c})))}}]},initialValues:{name:"PINTURA INTERIOR/EXTERIOR",wallArea:"",ceilArea:""},apiId:"pinturas",budgetId:t,openModal:a,closeModal:n,setData:c})}}],yl=Object(w.a)((function(e){return{actionsContainer:{minWidth:"max-content",marginLeft:e.spacing(2)},searchField:{maxWidth:"max-content"},panel:{paddingLeft:e.spacing(11),marginTop:e.spacing(0),marginBottom:e.spacing(2)},tableTotal:{maxWidth:600,marginLeft:"auto"},denseItem:{paddingTop:0,paddingBottom:0}}})),Dl=function(e,t){var a=function(e){var t=e.showMsg,a=yl();return r.a.createElement(Ze.a,{component:"span",variant:"body2",className:a.inline,color:"textPrimary"},t())};return r.a.createElement(W.a,null,r.a.createElement(Le.a,null,r.a.createElement(R.a,null,t+1)),r.a.createElement(q.a,{primary:e.name,secondary:r.a.createElement(Ne.a,{container:!0,direction:"row",justify:"flex-start",spacing:1,alignItems:"center"},r.a.createElement(Ne.a,{item:!0}," Cantidad: ",r.a.createElement(a,{showMsg:function(){return e.unitAmount?e.unitAmount:0}})),r.a.createElement(N.a,{orientation:"vertical",light:!0,flexItem:!0,variant:"middle"}),r.a.createElement(Ne.a,{item:!0}," Precio Unitario: ",r.a.createElement(a,{showMsg:function(){return Jn(e.unitCost?e.unitCost:0)}})),r.a.createElement(N.a,{orientation:"vertical",light:!0,flexItem:!0,variant:"middle"}),r.a.createElement(Ne.a,{item:!0}," Precio Total: ",r.a.createElement(a,{showMsg:function(){return Jn(e.totalCost?e.totalCost:0)}})))}),r.a.createElement(N.a,null))},Il=(r.a.memo((function(e){var t=e.rowData,a=Object(n.useRef)(1);return r.a.createElement(n.Fragment,null,"Prueba ".concat(a.current++),r.a.createElement(y.a,null,t.totalCost))}),(function(e,t){return e.rowData.totalCost==t.rowData.totalCost})),r.a.memo((function(e){var t=e.refreshTotal,a=e.budgetId,c=yl(),o=Object(n.createRef)(),l=Object(n.useState)(!0),i=Object(b.a)(l,2),s=i[0],d=i[1],m=Object(n.useState)({}),f=Object(b.a)(m,2),g=f[0],E=f[1],h=(Object(n.useRef)(1),"budgets/".concat(a,"/rows")),O=[{title:"Id",field:"id",hidden:!0},{width:"1%",align:"left",sorting:!1,render:function(e){return"undefined"!=typeof e&&e.type&&r.a.createElement($c,{title:e.type.name,placement:"bottom"},r.a.createElement(I.a,{size:"small","aria-label":"upload picture",component:"span"},r.a.createElement(Zc.a,null)))}},{title:"Nombre",field:"name",width:"40%",render:function(e){return e.fullName}},{title:"Cantidad",field:"unitAmount",type:"numeric",width:"15%",align:"right"},{title:"Unidad",field:"unit.id",lookup:g,width:"15%",align:"right",validate:function(e){return"undefined"!=typeof e.unit},editComponent:function(e){return r.a.createElement(ze.a,null,r.a.createElement(We.a,{value:e.value,displayEmpty:!0,disabled:null!=e.rowData.type,onChange:function(t){return e.onChange(t.target.value)}},Object.entries(g).map((function(e){var t=Object(b.a)(e,2),a=t[0],n=t[1];return r.a.createElement(_e.a,{value:a},n)}))))}},{title:"Utilidad",field:"profitPct",type:"numeric",width:"1%",align:"right",render:function(e){return"undefined"!=typeof e&&e.profitPct>0&&"".concat(e.profitPct," %")}},{title:"Precio Unitario",field:"unitCost",type:"currency",editable:"never",width:"15%",align:"right",currencySetting:{locale:"es-GT",currencyCode:"gtq",minimumFractionDigits:2,maximumFractionDigits:2}},{title:"Precio Total",field:"totalCost",type:"currency",editable:"never",width:"15%",align:"right",currencySetting:{locale:"es-GT",currencyCode:"gtq",minimumFractionDigits:2,maximumFractionDigits:2}}],j=Object(n.useState)([]),v=Object(b.a)(j,2),w=v[0],P=v[1],x=Object(n.useCallback)((function(e,a){oe.get(e).then((function(e){var n=Object(re.a)(w),r=a.tableData.id,c=Object(p.a)(Object(p.a)({},e.data),{},{tableData:a.tableData});n[r]=c,P(Object(re.a)(n)),t()})).catch((function(e){}))}),[w]),F=Object(n.useState)(!1),C=Object(b.a)(F,2),R=C[0],S=C[1],y=Object(n.useState)(!1),D=Object(b.a)(y,2),V=D[0],T=D[1],A=r.a.useState({active:n.Fragment}),k=Object(b.a)(A,2),M=k[0],L=k[1],N=Object(n.useCallback)((function(e,t){L({active:e,data:t}),T(!0)}),[]),z=Object(n.useCallback)((function(){T(!1)}),[]),W=Object(n.useState)(!1),_=Object(b.a)(W,2),q=(_[0],_[1]),B=Object(n.useState)([]),U=Object(b.a)(B,2),G=(U[0],U[1]),H=Object(n.useState)(!1),X=Object(b.a)(H,2),Z=X[0],Q=X[1],J=Object(n.useState)(!1),K=Object(b.a)(J,2),Y=K[0],$=K[1],ee=Object(n.useState)([]),te=Object(b.a)(ee,2),ae=te[0],ne=te[1],ce=function(){var e=Object(Me.a)(ke.a.mark((function e(t){var a;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map(function(){var e=Object(Me.a)(ke.a.mark((function e(t){return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,oe.delete("".concat(h,"/").concat(t.id));case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()));case 2:a=Object(re.a)(t),t.forEach((function(e){a=a.filter((function(t){return t.tableData.id!==e.tableData.id}))})),P(a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),fe=Object(n.useState)(!1),be=Object(b.a)(fe,2),pe=be[0],ge=be[1],Ee=Object(n.useState)([]),he=Object(b.a)(Ee,2),Oe=he[0],je=he[1],ve=function(){var e=Object(Me.a)(ke.a.mark((function e(t,a){var n;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=fr.a.utils.book_new(),fr.a.utils.book_append_sheet(n,Ir(t),"RESUMEN DE PRESUPUESTO"),e.t0=fr.a.utils,e.t1=n,e.next=6,Vr(t);case 6:return e.t2=e.sent,e.t0.book_append_sheet.call(e.t0,e.t1,e.t2,"LISTADO DE MATERIALES"),e.t3=fr.a.utils,e.t4=n,e.next=12,Tr(t);case 12:e.t5=e.sent,e.t3.book_append_sheet.call(e.t3,e.t4,e.t5,"PRESUPUESTO DESGLOSADO"),fr.a.writeFile(n,"".concat(a,".xlsx"));case 15:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){oe.get("units/catal").then((function(e){E(e.data)})).catch((function(e){}))}),[Z]),Object(n.useEffect)((function(){d(!0),oe.get(h).then((function(e){P(e.data),d(!1)})).catch((function(e){G(["Cannot load user data"]),q(!0)}))}),[Z]);var we=function(e,a){oe.delete("".concat(h,"/").concat(e.id)).then((function(n){var r=Object(re.a)(w),c=e.tableData.id;r.splice(c,1),P(Object(re.a)(r)),t(),a("terminado")})).catch((function(e){G(["Delete failed! Server error"]),q(!0),a()}))};return r.a.createElement(n.Fragment,null,r.a.createElement(se.a,{tableRef:o,icons:Rl,title:"Renglones",columns:O,data:w,isLoading:s,editable:{isEditHidden:function(e){return!0},isEditable:function(e){return!e.restricted},isDeletable:function(e){return!e.restricted},onRowUpdate:function(e,t){return new Promise((function(a){!function(e,t,a){var n=[];n.length<1?oe.put("".concat(h,"/").concat(e.id),e).then((function(e){var n=Object(re.a)(w);n[t.tableData.id]=Object(p.a)(Object(p.a)({},e.data),{},{tableData:t.tableData}),P(Object(re.a)(n)),a(),q(!1),G([])})).catch((function(e){G(["update failed! Server error"]),q(!0),a()})):(G(n),q(!0),a())}(e,t,a)}))},onRowDelete:function(e){return new Promise((function(t){we(e,t)}))}},detailPanel:[function(e){return{render:function(e){return r.a.createElement("div",{className:c.panel},r.a.createElement(go,{rowData:e,refreshRow:x}))}}}],options:{actionsColumnIndex:-1,addRowPosition:"first",paging:!1,selection:!0,sorting:!0,pageSize:10,pageSizeOptions:[10],paginationType:"normal",padding:"dense",headerStyle:{paddingTop:0,paddingBottom:0,fontSize:"0.75rem",color:u.a[800],backgroundColor:u.a[100],borderTopLeftRadius:2,borderTopRightRadius:2},rowStyle:{},cellStyle:{paddingTop:12,paddingBottom:12}},actions:[{icon:Rl.Edit,tooltip:"Editar",onClick:function(e,t){t.type?N(qc[t.type.id],t):N(qc[0],t)},position:"row"},{tooltip:"Exportar a Excel",icon:Rl.Export,onClick:function(e,t){je(t),ge(!0)}},{tooltip:"Eliminar renglones seleccionados",icon:Rl.Delete,onClick:function(e,t){ne(t),$(!0)}},{icon:Rl.Refresh,tooltip:"Actualizar",isFreeAction:!0,onClick:function(){Q((function(e){return!e}))}},{icon:function(){return r.a.createElement(Rl.AddLibrary,{setData:P,actions:Sl,budgetId:a})},isFreeAction:!0},{icon:function(){return r.a.createElement(ue.a,{color:"secondary",size:"medium"},r.a.createElement(me.a,null)," ")},tooltip:"Nuevo rengl\xf3n",isFreeAction:!0,onClick:function(){return S(!0)}}],components:{Toolbar:function(e){return r.a.createElement("div",{style:{backgroundColor:"#e4e5eb"}},r.a.createElement(ie.MTableToolbar,Object.assign({classes:{actions:c.actionsContainer,searchField:c.searchField}},e)))},Container:function(e){return r.a.createElement(de.a,Object.assign({elevation:0},e),e.children)}},localization:le("renglon")}),r.a.createElement(zt,{classes:{paper:c.paper},id:"rows-to-delete",keepMounted:!0,showTitle:function(e){return"\xbfEsta seguro de eliminar ".concat(e.length>1?"estos ".concat(e.length," renglones?"):"este rengl\xf3n ?")},showRow:Dl,open:Y,onClose:function(){$(!1)},data:ae,onConfirm:ce}),r.a.createElement(wo,{classes:{paper:c.paper},id:"download-report",keepMounted:!0,showTitle:function(){return"EXPORTAR A EXCEL"},open:pe,onClose:function(){return ge(!1)},data:Oe,onConfirm:ve}),r.a.createElement(Cl,{closeModal:function(){return S(!1)},openModal:R,setData:P,budgetId:a}),r.a.createElement(M.active,{open:V,closeModal:z,rowData:M.data,refreshRow:x}))}))),Vl=Object(w.a)((function(e){return{appBar:{},title:{marginLeft:e.spacing(2),flex:1},listItem:{minHeight:72},panel:{paddingLeft:e.spacing(11),marginTop:e.spacing(0),marginBottom:e.spacing(2)},projectData:{backgroundColor:"#fff"},backTb:{backgroundColor:"#e4e5eb"},totalTitle:{borderBottom:"solid 2px #4a9b9f"},logo:{width:e.spacing(8),height:e.spacing(8),marginRight:e.spacing(2)}}})),Tl=r.a.forwardRef((function(e,t){return r.a.createElement(ur.a,Object.assign({direction:"up",ref:t},e))}));function Al(e){var t=e.children,a=e.window,n=Object(dr.a)({target:a?a():void 0});return r.a.createElement(ur.a,{appear:!1,direction:"down",in:!n},t)}function kl(e){var t=Vl(),a=Object(n.useState)(),c=Object(b.a)(a,2),o=c[0],l=c[1],i=Object(n.useState)(!1),s=Object(b.a)(i,2),u=s[0],d=s[1],m=Object(n.useState)({project:{client:{}}}),f=Object(b.a)(m,2),p=f[0],g=f[1],E=Object(n.useState)({}),h=Object(b.a)(E,2),j=(h[0],h[1],Object(n.useRef)(1),Object(n.useCallback)((function(){return d((function(e){return!e}))}),[]));Object(n.useEffect)((function(){oe.get("budgets/".concat(e.id)).then((function(e){g(e.data),l(e.data.totalCosts)})).catch((function(e){}))}),[e.open]),Object(n.useEffect)((function(){oe.get("budgets/".concat(e.id)).then((function(e){l(e.data.totalCosts)})).catch((function(e){}))}),[u]);var v=function(e){return void 0==typeof e||null==e?"               ":e};return r.a.createElement("div",{className:t.backTb},r.a.createElement(Dt.a,{fullScreen:!0,open:e.open,onClose:e.handleClose,TransitionComponent:Tl,className:t.backTb,PaperProps:{classes:{root:t.backTb}}},r.a.createElement(Al,e,r.a.createElement(F.a,{position:"fixed"},r.a.createElement(C.a,null,r.a.createElement(R.a,{alt:"Rolarq logo",src:O.a,className:t.logo,variant:"square"}),r.a.createElement(Ze.a,{variant:"h6",className:t.title},"Presupuesto  ".concat(p.name,":     ").concat(p.project.name)),r.a.createElement(S.a,{mr:2},r.a.createElement(Ze.a,{className:t.totalTitle,variant:"h6"},new Intl.NumberFormat("es-GT",{style:"currency",currency:"gtq"}).format(o||0)," ")),r.a.createElement(I.a,{edge:"end",color:"inherit",onClick:e.handleClose,"aria-label":"close"},r.a.createElement(Mt.a,null))))),r.a.createElement(S.a,{mb:8}),r.a.createElement(Ne.a,{container:!0,className:t.projectData},r.a.createElement(Ne.a,{item:!0,xs:12,sm:6},r.a.createElement(z.a,{dense:!0,disablePadding:!0},r.a.createElement(W.a,{className:t.listItem},r.a.createElement(q.a,{primaryTypographyProps:{variant:"subtitle2"},inset:!0,primary:v(p.project.address),secondary:"Ubicaci\xf3n"})),r.a.createElement(N.a,null),r.a.createElement(W.a,{className:t.listItem},r.a.createElement(q.a,{inset:!0,primaryTypographyProps:{variant:"subtitle2"},primary:null!=p.project.client&&v(p.project.client.fullName),secondary:"Cliente"})))),r.a.createElement(Ne.a,{item:!0,xs:12,sm:6},r.a.createElement(z.a,{dense:!0,disablePadding:!0},r.a.createElement(W.a,{className:t.listItem},r.a.createElement(q.a,{inset:!0,primaryTypographyProps:{variant:"subtitle2"},primary:new Date(v(p.createdAt)).toLocaleDateString("en-GB"),secondary:"Fecha"})),r.a.createElement(N.a,null),r.a.createElement(W.a,{className:t.listItem},r.a.createElement(q.a,{inset:!0,primaryTypographyProps:{variant:"subtitle2"},primary:v(p.architect),secondary:"Arquitecto"}))))),r.a.createElement("br",null),r.a.createElement(ne.a,{maxWidth:"xl",className:t.backTb},r.a.createElement(Il,{refreshTotal:j,budgetId:e.id}))))}var Ml={Add:Object(n.forwardRef)((function(e,t){return r.a.createElement(y.a,{variant:"contained",color:"primary",size:"small",startIcon:r.a.createElement(Je.a,Object.assign({},e,{ref:t}))},"Presupuesto")})),Check:Object(n.forwardRef)((function(e,t){return r.a.createElement(et.a,Object.assign({},e,{ref:t}))})),Clear:Object(n.forwardRef)((function(e,t){return r.a.createElement(at.a,Object.assign({},e,{ref:t}))})),Delete:Object(n.forwardRef)((function(e,t){return r.a.createElement(rt.a,Object.assign({},e,{ref:t}))})),DetailPanel:Object(n.forwardRef)((function(e,t){return r.a.createElement(L.a,Object.assign({},e,{ref:t}))})),Edit:Object(n.forwardRef)((function(e,t){return r.a.createElement(ot.a,Object.assign({},e,{ref:t}))})),Export:Object(n.forwardRef)((function(e,t){return r.a.createElement(bt.a,Object.assign({},e,{ref:t}))})),Filter:Object(n.forwardRef)((function(e,t){return r.a.createElement(Be.a,Object.assign({},e,{ref:t}))})),FirstPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(it.a,Object.assign({},e,{ref:t}))})),LastPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(ut.a,Object.assign({},e,{ref:t}))})),NextPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(L.a,Object.assign({},e,{ref:t}))})),PreviousPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(k.a,Object.assign({},e,{ref:t}))})),ResetSearch:Object(n.forwardRef)((function(e,t){return r.a.createElement(at.a,Object.assign({},e,{ref:t}))})),Search:Object(n.forwardRef)((function(e,t){return r.a.createElement(gt.a,Object.assign({},e,{ref:t}))})),SortArrow:Object(n.forwardRef)((function(e,t){return r.a.createElement(Ye.a,Object.assign({},e,{ref:t}))})),ThirdStateCheck:Object(n.forwardRef)((function(e,t){return r.a.createElement(mt.a,Object.assign({},e,{ref:t}))})),ViewColumn:Object(n.forwardRef)((function(e,t){return r.a.createElement(ht.a,Object.assign({},e,{ref:t}))}))};function Ll(e){var t=Object(n.createRef)(),a=Object(n.useState)([]),c=Object(b.a)(a,2),o=c[0],l=c[1],i=Object(n.useState)(!1),s=Object(b.a)(i,2),d=s[0],m=s[1],f=Object(n.useState)(null),g=Object(b.a)(f,2),E=g[0],h=g[1],O=Object(n.useState)({architect:"Fernando Roldan"}),j=Object(b.a)(O,2),v=j[0],w=j[1],P=Object(n.useState)(!1),x=Object(b.a)(P,2),F=(x[0],x[1]),C=Object(n.useState)([]),R=Object(b.a)(C,2),S=(R[0],R[1]),y=[{title:"Id",field:"id",hidden:!0},{title:"Nombre",field:"name",validate:function(e){return"undefined"!=typeof e.name&&(""!==e.name.trim()||{isValid:!1,helperText:"Nombre es requerido"})}},{title:"Arquitecto",field:"architect",initialEditValue:"Fernando Roldan"},{title:"Fecha de creaci\xf3n",field:"createdAt",type:"date",editable:"never",dateSetting:{locale:"en-GB"}},{title:"Costo Total",field:"totalCosts",type:"currency",editable:"never",currencySetting:{locale:"es-GT",currencyCode:"gtq",minimumFractionDigits:2,maximumFractionDigits:2}},{width:"5%",sorting:!1,render:function(e){return"undefined"!=typeof e&&r.a.createElement(n.Fragment,null,r.a.createElement(cr.a,{title:"Presupuesto desglosado",placement:"bottom"},r.a.createElement(I.a,{onClick:function(t){var a;a=e.id,h(a),m(!0)},size:"small",color:"primary","aria-label":"upload picture",component:"span"},r.a.createElement(lr.a,null))))}}];Object(n.useEffect)((function(){oe.get(e.url).then((function(e){l(e.data)})).catch((function(e){S(["Cannot load user data"]),F(!0)}))}),[]);var D;return r.a.createElement(n.Fragment,null,r.a.createElement(kl,{open:d,handleClose:function(){m(!1)},id:E}),r.a.createElement(se.a,{tableRef:t,icons:Ml,title:(D=e.title,r.a.createElement(Ze.a,{variant:"subtitle1"},D)),columns:y,data:o,initialFormData:v,editable:{isEditable:function(e){return!e.restricted},isDeletable:function(e){return!e.restricted},onRowAdd:function(t){return new Promise((function(a){!function(t,a){var n=[];n.length<1?oe.post(e.url,t).then((function(e){var n=Object(re.a)(o);n.push(t),l(n),a(),S([]),F(!1),w({architect:"Fernando Roldan"})})).catch((function(e){S(["Cannot add data. Server error!"]),F(!0),a()})):(S(n),F(!0),a())}(t,a)}))},onRowUpdate:function(t,a){return new Promise((function(n){!function(t,a,n){var r=[];r.length<1?oe.put("".concat(e.url,"/").concat(t.id),t).then((function(e){var r=Object(re.a)(o);r[a.tableData.id]=t,l(Object(re.a)(r)),n(),F(!1),S([])})).catch((function(e){S(["update failed! Server error"]),F(!0),n()})):(S(r),F(!0),n())}(t,a,n)}))},onRowDelete:function(t){return new Promise((function(a){!function(t,a){oe.delete("".concat(e.url,"/").concat(t.id)).then((function(e){var n=Object(re.a)(o),r=t.tableData.id;n.splice(r,1),l(Object(re.a)(n)),a()})).catch((function(e){S(["Delete failed! Server error"]),F(!0),a()}))}(t,a)}))}},options:{actionsColumnIndex:-1,addRowPosition:"first",search:!1,paging:!1,pageSize:5,pageSizeOptions:[5],padding:"dense",headerStyle:{paddingTop:0,paddingBottom:0,fontSize:"0.75rem",color:u.a[800],borderTopLeftRadius:2,borderTopRightRadius:2},cellStyle:{paddingTop:8,paddingBottom:8}},actions:[{icon:sr.a,tooltip:"Duplicar",onClick:function(e,a){w(Object(p.a)(Object(p.a)({},a),{},{name:"".concat(a.name," copia")})),t.current.dataManager.changeRowEditing(),t.current.setState(Object(p.a)(Object(p.a)({},t.current.dataManager.getRenderState()),{},{showAddRow:!0}))},position:"row"}],components:{Container:function(e){return r.a.createElement("div",e,e.children)}},localization:le(e.label)}))}var Nl=Object(w.a)((function(e){return{panel:{paddingLeft:e.spacing(12.5),marginTop:e.spacing(3),marginBottom:e.spacing(4)}}})),zl=Object(Tt.a)((function(e){return{badge:{top:5,right:-2,border:"2px solid ".concat(e.palette.background.paper),padding:"0 4px"}}}))(ar.a),Wl=function(e){var t=Nl(),a=Object(n.useState)({}),c=Object(b.a)(a,2),o=c[0],l=c[1],i=[{title:"Id",field:"id",hidden:!0},{width:"5%",sorting:!1,render:function(e){return"undefined"!=typeof e&&e.budgetsNumber>0&&r.a.createElement(zl,{color:"primary",children:r.a.createElement(U.a,{size:"small",color:"inherited",style:{color:"#000"}}),badgeContent:e.budgetsNumber,max:9})}},{title:"Nombre",field:"name",validate:function(e){return"undefined"!=typeof e.name&&(""!==e.name.trim()||{isValid:!1,helperText:"Nombre es requerido"})}},{title:"Ubicaci\xf3n",field:"address"},{title:"Cliente",field:"client.id",lookup:o},{title:"Descripci\xf3n",field:"description",cellStyle:{fontSize:10}}],s=[function(e){return{openIcon:rr.a,tooltip:"Presupuestos",render:function(e){return r.a.createElement("div",{className:t.panel},r.a.createElement(Ll,{url:"/projects/".concat(e.id,"/budgets"),parentId:e.id,title:"Presupuestos:",label:"presupuesto"}))}}}];return r.a.createElement("div",null,r.a.createElement(S.a,{m:5}),r.a.createElement(ne.a,{fixed:!0,maxWidth:"lg"},r.a.createElement(De,{columns:i,url:"projects",title:"Proyectos",label:"proyecto",lookupEffects:[function(){oe.get("clients/catal").then((function(e){l(e.data)})).catch((function(e){console.log(e)}))}],panels:s})))},_l={Add:function(){return r.a.createElement(ue.a,{color:"secondary",size:"medium"},r.a.createElement(me.a,null)," ")},Check:Object(n.forwardRef)((function(e,t){return r.a.createElement(fe.a,Object.assign({},e,{ref:t}))})),Clear:Object(n.forwardRef)((function(e,t){return r.a.createElement(be.a,Object.assign({},e,{ref:t}))})),Delete:Object(n.forwardRef)((function(e,t){return r.a.createElement(pe.a,Object.assign({},e,{ref:t}))})),DetailPanel:Object(n.forwardRef)((function(e,t){return r.a.createElement(ge.a,Object.assign({},e,{ref:t}))})),Edit:Object(n.forwardRef)((function(e,t){return r.a.createElement(Ee.a,Object.assign({},e,{ref:t}))})),Export:Object(n.forwardRef)((function(e,t){return r.a.createElement(he.a,Object.assign({},e,{ref:t}))})),Filter:Object(n.forwardRef)((function(e,t){return r.a.createElement(Oe.a,Object.assign({},e,{ref:t}))})),FirstPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(je.a,Object.assign({},e,{ref:t}))})),LastPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(ve.a,Object.assign({},e,{ref:t}))})),NextPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(ge.a,Object.assign({},e,{ref:t}))})),PreviousPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(we.a,Object.assign({},e,{ref:t}))})),ResetSearch:Object(n.forwardRef)((function(e,t){return r.a.createElement(be.a,Object.assign({},e,{ref:t}))})),Search:Object(n.forwardRef)((function(e,t){return r.a.createElement(Pe.a,Object.assign({},e,{ref:t}))})),SortArrow:Object(n.forwardRef)((function(e,t){return r.a.createElement(xe.a,Object.assign({},e,{ref:t}))})),ThirdStateCheck:Object(n.forwardRef)((function(e,t){return r.a.createElement(Fe.a,Object.assign({},e,{ref:t}))})),ViewColumn:Object(n.forwardRef)((function(e,t){return r.a.createElement(Ce.a,Object.assign({},e,{ref:t}))})),Refresh:Object(n.forwardRef)((function(e,t){return r.a.createElement(Re.a,Object.assign({color:"primary"},e,{ref:t}))}))},ql=Object(w.a)((function(e){return{actionsContainer:{minWidth:"max-content",marginLeft:e.spacing(2)},searchField:{maxWidth:"max-content"}}}));function Bl(e){var t=e.data,a=e.setData,c=e.url,o=e.title,l=e.columns,i=e.lookupEffects,s=e.panels,d=e.label,m=ql(),f=Object(n.createRef)(),g=Object(n.useState)(!0),E=Object(b.a)(g,2),h=E[0],O=E[1],j=Object(n.useState)(!1),v=Object(b.a)(j,2),w=(v[0],v[1]),P=Object(n.useState)([]),x=Object(b.a)(P,2),F=(x[0],x[1]),C=Object(n.useState)(!1),R=Object(b.a)(C,2),S=R[0],y=R[1],D=Object(n.useState)({architect:"Fernando Roldan"}),I=Object(b.a)(D,2),V=I[0],T=I[1];Object(n.useEffect)((function(){i&&i.forEach((function(e){return e()})),O(!0),oe.get(c).then((function(e){console.log("consola aqui"+e.data),a(e.data),O(!1)})).catch((function(e){F(["Cannot load user data"]),w(!0)}))}),[S]);return r.a.createElement(se.a,{tableRef:f,icons:_l,title:o,columns:l,data:t,isLoading:h,editable:{isDeletable:function(e){return!e.restricted},onRowAdd:function(e){return new Promise((function(n){!function(e,n){var r=[];r.length<1?oe.post(c,e).then((function(e){console.log("respuesta al guardar",e.data);var r=Object(re.a)(t);r.unshift(e.data),a(r),n(),F([]),w(!1),T({name:"",architect:"Fernando Roldan"})})).catch((function(e){F(["Cannot add data. Server error!"]),w(!0),n()})):(F(r),w(!0),n())}(e,n)}))},onRowUpdate:function(e,n){return new Promise((function(r){!function(e,n,r){console.log(n),console.log(e);var o=[];o.length<1?oe.put("".concat(c,"/").concat(e.id),e).then((function(c){var o=Object(re.a)(t);o[n.tableData.id]=e,a(Object(re.a)(o)),r(),w(!1),F([])})).catch((function(e){F(["update failed! Server error"]),w(!0),r()})):(F(o),w(!0),r())}(e,n,r)}))},onRowDelete:function(e){return new Promise((function(n){!function(e,n){oe.delete("".concat(c,"/").concat(e.id)).then((function(r){var c=Object(re.a)(t),o=e.tableData.id;c.splice(o,1),a(Object(re.a)(c)),n()})).catch((function(e){F(["Delete failed! Server error"]),w(!0),n()}))}(e,n)}))}},detailPanel:s,options:{actionsColumnIndex:-1,addRowPosition:"first",sorting:!0,pageSize:10,pageSizeOptions:[10],paginationType:"normal",padding:"dense",headerStyle:{paddingTop:0,paddingBottom:0,fontSize:"0.75rem",color:u.a[800],backgroundColor:u.a[100],borderTopLeftRadius:2,borderTopRightRadius:2},cellStyle:{paddingTop:12,paddingBottom:12}},initialFormData:V,actions:[{icon:sr.a,tooltip:"Duplicar",onClick:function(e,t){T(Object(p.a)(Object(p.a)({},t),{},{name:"".concat(t.name," copia")})),f.current.dataManager.changeRowEditing(),f.current.setState(Object(p.a)(Object(p.a)({},f.current.dataManager.getRenderState()),{},{showAddRow:!0}))},position:"row"},{icon:_l.Refresh,tooltip:"Actualizar",isFreeAction:!0,onClick:function(){y((function(e){return!e}))}}],components:{Toolbar:function(e){return r.a.createElement("div",{style:{backgroundColor:"#e4e5eb"}},r.a.createElement(ie.MTableToolbar,Object.assign({classes:{actions:m.actionsContainer,searchField:m.searchField}},e)))},Container:function(e){return r.a.createElement(de.a,Object.assign({elevation:0},e),e.children)}},localization:le(d)})}Object(Tt.a)((function(e){return{badge:{top:10,border:"2px solid ".concat(e.palette.background.paper),padding:"0 4px"}}}))(ar.a);var Ul=function(e){var t=Object(n.useState)({}),a=Object(b.a)(t,2),c=a[0],o=a[1],l=Object(n.useState)(!1),i=Object(b.a)(l,2),s=i[0],u=i[1],d=Object(n.useState)(null),m=Object(b.a)(d,2),f=m[0],g=m[1],E=Object(n.useState)({}),h=Object(b.a)(E,2),O=h[0],j=h[1],v=Object(n.useState)([]),w=Object(b.a)(v,2),P=w[0],x=w[1],F=[{title:"Id",field:"id",hidden:!0},{width:"25%",title:"Nombre",field:"name",validate:function(e){return"undefined"!=typeof e.name&&(""!==e.name.trim()||{isValid:!1,helperText:"Nombre es requerido"})}},{width:"25%",title:"Proyecto",field:"project.id",lookup:c,validate:function(e){return"undefined"!=typeof e.project}},{width:"20%",title:"Arquitecto",field:"architect",initialEditValue:"Fernando Roldan"},{width:"10%",title:"Fecha de creaci\xf3n",field:"createdAt",type:"date",editable:"never",dateSetting:{locale:"en-GB"}},{width:"15%",title:"Costo Total",field:"totalCosts",type:"currency",editable:"never",currencySetting:{locale:"es-GT",currencyCode:"gtq",minimumFractionDigits:2,maximumFractionDigits:2}},{width:"5%",sorting:!1,render:function(e){return"undefined"!=typeof e&&r.a.createElement(n.Fragment,null,r.a.createElement(cr.a,{title:"Abrir Presupuesto",placement:"bottom"},r.a.createElement(I.a,{onClick:function(t){!function(e){g(e.id),j(e),u(!0)}(e)},edge:"start",color:"primary","aria-label":"upload picture",component:"span"},r.a.createElement(lr.a,null))))}}];return r.a.createElement(n.Fragment,null,r.a.createElement(S.a,{m:5}),r.a.createElement(kl,{open:s,handleClose:function(){u(!1),oe.get("budgets/".concat(f)).then((function(e){var t=Object(re.a)(P),a=O.tableData.id,n=Object(p.a)(Object(p.a)({},e.data),{},{tableData:O.tableData});t[a]=n,x(Object(re.a)(t))})).catch((function(e){return console.log(e)}))},id:f}),r.a.createElement(ne.a,{fixed:!0,maxWidth:"lg"},r.a.createElement(Bl,{data:P,setData:x,columns:F,url:"budgets",title:"Presupuestos",label:"presupuesto",lookupEffects:[function(){oe.get("projects/catal").then((function(e){o(e.data)})).catch((function(e){console.log(e)}))}]})))},Gl=a(457),Hl=a.n(Gl),Xl=a(657),Zl=a(620),Ql={Add:Object(n.forwardRef)((function(e,t){return r.a.createElement(ue.a,{color:"secondary",size:"medium"},r.a.createElement(me.a,Object.assign({},e,{ref:t}))," ")})),Check:Object(n.forwardRef)((function(e,t){return r.a.createElement(fe.a,Object.assign({},e,{ref:t}))})),Clear:Object(n.forwardRef)((function(e,t){return r.a.createElement(be.a,Object.assign({},e,{ref:t}))})),Delete:Object(n.forwardRef)((function(e,t){return r.a.createElement(pe.a,Object.assign({},e,{ref:t}))})),DetailPanel:Object(n.forwardRef)((function(e,t){return r.a.createElement(ge.a,Object.assign({},e,{ref:t}))})),Edit:Object(n.forwardRef)((function(e,t){return r.a.createElement(Ee.a,Object.assign({},e,{ref:t}))})),Export:Object(n.forwardRef)((function(e,t){return r.a.createElement(he.a,Object.assign({},e,{ref:t}))})),Filter:Object(n.forwardRef)((function(e,t){return r.a.createElement(Oe.a,Object.assign({},e,{ref:t}))})),FirstPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(je.a,Object.assign({},e,{ref:t}))})),LastPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(ve.a,Object.assign({},e,{ref:t}))})),NextPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(ge.a,Object.assign({},e,{ref:t}))})),PreviousPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(we.a,Object.assign({},e,{ref:t}))})),ResetSearch:Object(n.forwardRef)((function(e,t){return r.a.createElement(be.a,Object.assign({},e,{ref:t}))})),Search:Object(n.forwardRef)((function(e,t){return r.a.createElement(Pe.a,Object.assign({},e,{ref:t}))})),SortArrow:Object(n.forwardRef)((function(e,t){return r.a.createElement(xe.a,Object.assign({},e,{ref:t}))})),ThirdStateCheck:Object(n.forwardRef)((function(e,t){return r.a.createElement(Fe.a,Object.assign({},e,{ref:t}))})),ViewColumn:Object(n.forwardRef)((function(e,t){return r.a.createElement(Ce.a,Object.assign({},e,{ref:t}))})),Refresh:Object(n.forwardRef)((function(e,t){return r.a.createElement(Re.a,Object.assign({color:"primary"},e,{ref:t}))}))},Jl=Object(w.a)((function(e){return{actionsContainer:{minWidth:"max-content",marginLeft:e.spacing(2)},searchField:{maxWidth:"max-content"}}})),Kl=function(e){var t=Jl(),a=Object(n.createRef)(),c=Object(n.useState)([]),o=Object(b.a)(c,2),l=o[0],i=o[1],s=Object(n.useState)(!0),d=Object(b.a)(s,2),m=d[0],f=d[1];return Object(n.useEffect)((function(){f(!0),oe.get("".concat(e.url)).then((function(e){console.log("consola aqui"+e.data),i(e.data),f(!1)})).catch((function(e){}))}),[]),r.a.createElement(se.a,{tableRef:a,title:e.title,columns:e.columns,data:l,icons:Ql,isLoading:m,options:{sorting:!0,pageSize:10,pageSizeOptions:[10],paginationType:"normal",padding:"dense",headerStyle:{paddingTop:0,paddingBottom:0,fontSize:"0.75rem",color:u.a[800],backgroundColor:u.a[100],borderTopLeftRadius:2,borderTopRightRadius:2},cellStyle:{paddingTop:12,paddingBottom:12}},components:{Toolbar:function(e){return r.a.createElement("div",{style:{backgroundColor:"#e4e5eb"}},r.a.createElement(ie.MTableToolbar,Object.assign({classes:{actions:t.actionsContainer,searchField:t.searchField}},e)))},Container:function(e){return r.a.createElement(de.a,Object.assign({elevation:0},e),e.children)}},localization:le(e.label)})};function Yl(e){var t=e.children,a=e.value,n=e.index,c=Object(yt.a)(e,["children","value","index"]);return r.a.createElement("div",Object.assign({role:"tabpanel",hidden:a!==n,id:"full-width-tabpanel-".concat(n),"aria-labelledby":"full-width-tab-".concat(n)},c),a===n&&r.a.createElement(S.a,{p:3},r.a.createElement(Ze.a,null,t)))}function $l(e){return{id:"full-width-tab-".concat(e),"aria-controls":"full-width-tabpanel-".concat(e)}}var ei=Object(w.a)((function(e){return{root:{backgroundColor:e.palette.background.paper,width:500}}})),ti=function(e){ei();var t=Object(P.a)(),a=r.a.useState(0),n=Object(b.a)(a,2),c=n[0],o=n[1];return r.a.createElement("div",null,r.a.createElement(S.a,{m:2}),r.a.createElement(F.a,{position:"static",color:"default"},r.a.createElement(Xl.a,{value:c,onChange:function(e,t){o(t)},indicatorColor:"primary",textColor:"primary",variant:"fullWidth","aria-label":"full width tabs example"},r.a.createElement(Zl.a,Object.assign({label:"Mortero"},$l(0))),r.a.createElement(Zl.a,Object.assign({label:"Concreto"},$l(1))))),r.a.createElement(Hl.a,{axis:"rtl"===t.direction?"x-reverse":"x",index:c,onChangeIndex:function(e){o(e)}},r.a.createElement(Yl,{value:c,index:0,dir:t.direction},r.a.createElement(ne.a,{fixed:!0,maxWidth:"lg"},r.a.createElement(Kl,{columns:[{title:"Id",field:"id",hidden:!0},{title:"Prop. Cemento",field:"propCement"},{title:"Prop. Arena",field:"propSand"},{title:"Sacos Cemento",field:"cement",type:"numeric"},{title:"Arena \u33a5",field:"sand",type:"numeric"},{title:"Resistencia \u338f/\u33a0",field:"kgPerSqrCm",type:"numeric"}],url:"morteros",title:"Proporciones Volumetricas",label:"mortero"}))),r.a.createElement(Yl,{value:c,index:1,dir:t.direction},r.a.createElement(ne.a,{fixed:!0,maxWidth:"lg"},r.a.createElement(Kl,{columns:[{title:"Id",field:"id",hidden:!0},{title:"Prop. Cemento",field:"propCement"},{title:"Prop. Arena",field:"propSand"},{title:"Prop. Piedr\xedn",field:"propGravel"},{title:"Sacos Cemento",field:"cement",type:"numeric"},{title:"Arena \u33a5",field:"sand",type:"numeric"},{title:"Piedr\xedn \u33a5",field:"gravel",type:"numeric"},{title:"Resistencia \u338f/\u33a0",field:"kgPerSqrCm",type:"numeric"}],url:"concretos",title:"Proporciones Volumetricas",label:"concreto"})))))},ai=a(458),ni=[[{name:"history",label:"Recientes",icon:a.n(ai).a,page:Ul},{name:"budgets",label:"Presupuestos",icon:U.a,page:Ul},{name:"projects",label:"Proyectos",icon:H.a,page:Wl},{name:"clients",label:"Clientes",icon:Z.a,page:Ie}],[{name:"materials",label:"Materiales",icon:Y.a,page:function(){return r.a.createElement("div",null,r.a.createElement(ne.a,{fixed:!0,maxWidth:"lg"},r.a.createElement(er,{url:"materials",title:"Materiales",label:"material"})))}},{name:"units",label:"Unidades",icon:ee.a,page:Te},{name:"suppliers",label:"Proveedores",icon:J.a,page:Ve}],[{name:"materials",label:"Proporciones",icon:ae.a,page:ti}]];var ri=function(e){var t=0;return r.a.createElement("div",null,ni.map((function(a){return r.a.createElement(n.Fragment,{key:++t},r.a.createElement(N.a,null),r.a.createElement(z.a,null,a.map((function(t,a){return r.a.createElement(W.a,{button:!0,key:a,selected:e.active.name===t.name,onClick:function(){return e.setActive(t)}},r.a.createElement(_.a,null,r.a.createElement(t.icon,null)),r.a.createElement(q.a,{primary:t.label}))}))))})))},ci=Object(i.a)({palette:{type:"dark"}}),oi=Object(w.a)((function(e){return{root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},hide:{display:"none"},drawer:{width:240,flexShrink:0,whiteSpace:"nowrap"},drawerOpen:{width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerClose:Object(g.a)({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:e.spacing(7)+1},e.breakpoints.up("sm"),{width:e.spacing(9)+1}),toolbar:Object(p.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1)},e.mixins.toolbar),toolbarBtn:{color:"white"},content:{flexGrow:1,padding:e.spacing(3)},logo:{width:e.spacing(8),height:e.spacing(8),marginRight:e.spacing(2)},brand:{maxHeight:e.spacing(5),width:"auto",display:"block"}}})),li=function(e){var t,a,c=oi(),o=Object(P.a)(),i=r.a.useState(!1),s=Object(b.a)(i,2),u=s[0],d=s[1],m=Object(n.useState)({page:Ul}),f=Object(b.a)(m,2),p=f[0],h=f[1];return r.a.createElement("div",{className:c.root},r.a.createElement(x.a,null),r.a.createElement(F.a,{position:"fixed",className:Object(E.a)(c.appBar,Object(g.a)({},c.appBarShift,u))},r.a.createElement(C.a,null,r.a.createElement(I.a,{color:"inherit","aria-label":"open drawer",onClick:function(){d(!0)},edge:"start",className:Object(E.a)(c.menuButton,Object(g.a)({},c.hide,u))},r.a.createElement(T.a,null)),r.a.createElement(R.a,{alt:"Rolarq logo",src:O.a,className:c.logo,variant:"square"}),r.a.createElement("img",{src:v.a,className:c.brand}),r.a.createElement(S.a,{ml:"auto"},r.a.createElement(y.a,{size:"small",className:c.toolbarBtn,disableElevation:!0,onClick:function(){e.history.push("/login")}},"Cerrar sesi\xf3n")))),r.a.createElement(l.a,{theme:ci},r.a.createElement(D.a,{variant:"permanent",className:Object(E.a)(c.drawer,(t={},Object(g.a)(t,c.drawerOpen,u),Object(g.a)(t,c.drawerClose,!u),t)),classes:{paper:Object(E.a)((a={},Object(g.a)(a,c.drawerOpen,u),Object(g.a)(a,c.drawerClose,!u),a))}},r.a.createElement("div",{className:c.toolbar},r.a.createElement(I.a,{onClick:function(){d(!1)}},"rtl"===o.direction?r.a.createElement(L.a,null):r.a.createElement(k.a,null))),r.a.createElement(ri,{active:p,setActive:h}))),r.a.createElement("main",{style:{backgroundColor:"#e4e5eb",minHeight:"100vh",padding:0},className:c.content},r.a.createElement(S.a,{m:8}),r.a.createElement("div",{className:c.appBarSpacer}),r.a.createElement(p.page,null)))},ii=a(631),si=a(465),ui=a.n(si);function di(){return r.a.createElement(Ze.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(ii.a,{color:"inherit",href:"https://melanieodl.github.io/rolarq-demo"},"Rolarq Demo")," ",(new Date).getFullYear(),".")}var mi=Object(w.a)((function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(https://source.unsplash.com/featured/?architecture,construction)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),width:e.spacing(24),height:e.spacing(24)},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),fi=function(e){var t=Object(n.useState)(e),a=Object(b.a)(t,2),r=a[0],c=a[1];return{value:r,onChange:function(e){c(e.target.value)}}},bi=function(e){var t=mi(),a=fi(""),c=fi(""),o=Object(n.useState)(null),l=Object(b.a)(o,2),i=(l[0],l[1],Object(n.useState)(!1)),s=Object(b.a)(i,2),u=s[0];s[1];return r.a.createElement(Ne.a,{container:!0,component:"main",className:t.root},r.a.createElement(x.a,null),r.a.createElement(Ne.a,{item:!0,xs:!1,sm:4,md:7,className:t.image}),r.a.createElement(Ne.a,{item:!0,xs:12,sm:8,md:5,component:de.a,elevation:6,square:!0},r.a.createElement("div",{className:t.paper},r.a.createElement(R.a,{alt:"Rolarq logo",src:ui.a,className:t.avatar,variant:"square"}),r.a.createElement("form",{className:t.form,noValidate:!0},r.a.createElement(Yt.a,Object.assign({variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email"},a,{label:"Correo electr\xf3nico",name:"email",autoComplete:"email",autoFocus:!0})),r.a.createElement(Yt.a,Object.assign({variant:"outlined",margin:"normal",required:!0,fullWidth:!0,type:"password"},c,{id:"password",name:"password",label:"Contrase\xf1a",autoComplete:"current-password"})),r.a.createElement(y.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,disabled:u,onClick:function(){e.history.push("/dashboard")}},u?"Cargando...":"Ingresar"),r.a.createElement(Ne.a,{container:!0},r.a.createElement(Ne.a,{item:!0,xs:!0},r.a.createElement(ii.a,{href:"#",variant:"body2"}))),r.a.createElement(S.a,{mt:5},r.a.createElement(di,null))))))},pi=Object(w.a)({helloThereStyle:{fontStyle:"oblique"},board:{backgroundColor:"#fff"}});var gi=function(){return pi(),r.a.createElement(m.a,null,r.a.createElement("div",null,r.a.createElement("div",{className:"content"},r.a.createElement(f.c,null,r.a.createElement(f.a,{exact:!0,path:"/",component:bi}),r.a.createElement(f.a,{path:"/login",component:bi}),r.a.createElement(f.a,{path:"/dashboard",component:li})))))};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(l.a,{theme:d},r.a.createElement(gi,null))),document.getElementById("root"))}},[[478,1,2]]]);
//# sourceMappingURL=main.cf8b5f5e.chunk.js.map