(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{192:function(e,t,a){e.exports=a.p+"static/media/columna.35aa61aa.png"},265:function(e,t,a){e.exports=a.p+"static/media/isotipo.666d2fbb.png"},280:function(e,t,a){e.exports=a.p+"static/media/block.61a8622e.png"},428:function(e,t){},438:function(e,t,a){e.exports=a.p+"static/media/logotipo.66a4fa25.png"},470:function(e,t,a){e.exports=a(576)},475:function(e,t,a){},555:function(e,t){},556:function(e,t){},576:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(23),o=a.n(c),l=(a(475),a(613)),i=a(166),s=a(28),u=a.n(s),d=Object(i.a)({palette:{primary:{info:"#eaf3f8",light:"#4a709f",main:"#1d4d87",dark:"#14355e"},secondary:{light:"#4a9b9f",main:"#1d8287",dark:"#145b5e"},background:{backPanel:"#e4e5eb"}},overrides:{MuiDialog:{scrollBody:{backgroundColor:"#e4e5eb"}},MuiTableContainer:{root:{borderBottomLeftRadius:0,borderBottomRightRadius:0}},MTableToolbar:{searchField:{maxWidth:"max-content"}},MuiTableCell:{root:{paddingBottom:"12px",paddingTop:"12px"},head:{paddingTop:9,paddingBottom:9,fontSize:"0.75rem",color:u.a[800],backgroundColor:u.a[100]}},MuiTabPanel:{root:{height:"100vh"}},MuiTablePagination:{root:{borderTopLeftRadius:0,borderTopRightRadius:0},caption:{color:u.a[800],fontSize:"0.7rem"}},MuiSpeedDial:{fab:{}},MuiIconButton:{root:{padding:2,"&:hover":{backgroundColor:"rgba(228, 229, 235, 0.5)"}}},MuiFab:{sizeMedium:{marginLeft:10}},MuiInput:{root:{width:"-webkit-fill-available"}},MuiFormControl:{root:{width:"-webkit-fill-available"}},MuiMenuItem:{root:{"&:hover":{color:"#14355e"}}}}}),m=a(6),f=a(7),b=a(42),p=a(2),g=a(265),E=a.n(g),h=a(438),O=a.n(h),j=a(416),v=a(26),w=a(618),P=a(614),x=a(410),F=a(649),C=a(105),R=a(330),S=a(334),y=a(458),D=a.n(y),V=a(68),I=a.n(V),T=a(40),A=a.n(T),M=a(620),k=a(584),L=a(578),N=a(622),z=a(421),W=a(186),_=a.n(W),q=a(453),B=a.n(q),U=a(454),G=a.n(U),H=a(456),X=a.n(H),Z=a(289),Q=a.n(Z),J=a(455),K=a.n(J),Y=a(457),$=a.n(Y),ee=a(617),te=a(13),ae=a(333),ne=a.n(ae).a.create({baseURL:"/api/",proxy:{host:"https://localhost:8080"}}),re=function(e){return{toolbar:{searchTooltip:"Buscar ".concat(e),searchPlaceholder:"Buscar ".concat(e),nRowsSelected:"Renglones seleccionados : {0}"},header:{actions:"Acciones"},body:{addTooltip:"Nuevo ".concat(e),deleteTooltip:"Eliminar",editTooltip:"Editar",emptyDataSourceMessage:"No hay registros para mostrar",editRow:{deleteText:"Esta seguro de eliminar este dato?",cancelTooltip:"Cancelar",saveTooltip:"Guardar"}},pagination:{firstTooltip:"Primera pagina",previousTooltip:"Pagina Anterior",nextTooltip:"Pagina Siguiente",lastTooltip:"Ultima pagina",labelDisplayedRows:"{from}-{to} de {count}"}}},ce=a(35),oe=a.n(ce),le=a(464),ie=a(158),se=a(628),ue=a(629),de=a(630),me=a(631),fe=a(632),be=a(633),pe=a(634),ge=a(635),Ee=a(636),he=a(637),Oe=a(638),je=a(639),ve=a(640),we=a(641),Pe=a(642),xe=a(643),Fe={Add:function(){return r.a.createElement(le.a,{color:"secondary",size:"medium"},r.a.createElement(se.a,null)," ")},Check:Object(n.forwardRef)((function(e,t){return r.a.createElement(ue.a,Object.assign({},e,{ref:t}))})),Clear:Object(n.forwardRef)((function(e,t){return r.a.createElement(de.a,Object.assign({},e,{ref:t}))})),Delete:Object(n.forwardRef)((function(e,t){return r.a.createElement(me.a,Object.assign({},e,{ref:t}))})),DetailPanel:Object(n.forwardRef)((function(e,t){return r.a.createElement(fe.a,Object.assign({},e,{ref:t}))})),Edit:Object(n.forwardRef)((function(e,t){return r.a.createElement(be.a,Object.assign({},e,{ref:t}))})),Export:Object(n.forwardRef)((function(e,t){return r.a.createElement(pe.a,Object.assign({},e,{ref:t}))})),Filter:Object(n.forwardRef)((function(e,t){return r.a.createElement(ge.a,Object.assign({},e,{ref:t}))})),FirstPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(Ee.a,Object.assign({},e,{ref:t}))})),LastPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(he.a,Object.assign({},e,{ref:t}))})),NextPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(fe.a,Object.assign({},e,{ref:t}))})),PreviousPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(Oe.a,Object.assign({},e,{ref:t}))})),ResetSearch:Object(n.forwardRef)((function(e,t){return r.a.createElement(de.a,Object.assign({},e,{ref:t}))})),Search:Object(n.forwardRef)((function(e,t){return r.a.createElement(je.a,Object.assign({},e,{ref:t}))})),SortArrow:Object(n.forwardRef)((function(e,t){return r.a.createElement(ve.a,Object.assign({},e,{ref:t}))})),ThirdStateCheck:Object(n.forwardRef)((function(e,t){return r.a.createElement(we.a,Object.assign({},e,{ref:t}))})),ViewColumn:Object(n.forwardRef)((function(e,t){return r.a.createElement(Pe.a,Object.assign({},e,{ref:t}))})),Refresh:Object(n.forwardRef)((function(e,t){return r.a.createElement(xe.a,Object.assign({color:"primary"},e,{ref:t}))}))},Ce=Object(j.a)((function(e){return{actionsContainer:{minWidth:"max-content",marginLeft:e.spacing(2)},searchField:{maxWidth:"max-content"}}}));function Re(e){var t=Ce(),a=Object(n.createRef)(),c=Object(n.useState)([]),o=Object(m.a)(c,2),l=o[0],i=o[1],s=Object(n.useState)(!0),d=Object(m.a)(s,2),f=d[0],b=d[1],p=Object(n.useState)(!1),g=Object(m.a)(p,2),E=(g[0],g[1]),h=Object(n.useState)([]),O=Object(m.a)(h,2),j=(O[0],O[1]),v=Object(n.useState)(!1),w=Object(m.a)(v,2),P=w[0],x=w[1];Object(n.useEffect)((function(){e.lookupEffects&&e.lookupEffects.forEach((function(e){return e()})),b(!0),ne.get(e.url).then((function(e){console.log("consola aqui"+e.data),i(e.data),b(!1)})).catch((function(e){j(["Cannot load user data"]),E(!0)}))}),[P]);return r.a.createElement(oe.a,{tableRef:a,icons:Fe,title:e.title,columns:e.columns,data:l,isLoading:f,editable:{isDeletable:function(e){return!e.restricted},onRowAdd:function(t){return new Promise((function(a){!function(t,a){var n=[];n.length<1?ne.post(e.url,t).then((function(e){console.log("respuesta al guardar",e.data);var t=Object(te.a)(l);t.unshift(e.data),i(t),a(),j([]),E(!1)})).catch((function(e){j(["Cannot add data. Server error!"]),E(!0),a()})):(j(n),E(!0),a())}(t,a)}))},onRowUpdate:function(t,a){return new Promise((function(n){!function(t,a,n){console.log(a),console.log(t);var r=[];r.length<1?ne.put("".concat(e.url,"/").concat(t.id),t).then((function(e){var r=Object(te.a)(l);r[a.tableData.id]=t,i(Object(te.a)(r)),n(),E(!1),j([])})).catch((function(e){j(["update failed! Server error"]),E(!0),n()})):(j(r),E(!0),n())}(t,a,n)}))},onRowDelete:function(t){return new Promise((function(a){!function(t,a){ne.delete("".concat(e.url,"/").concat(t.id)).then((function(e){var n=Object(te.a)(l),r=t.tableData.id;n.splice(r,1),i(Object(te.a)(n)),a()})).catch((function(e){j(["Delete failed! Server error"]),E(!0),a()}))}(t,a)}))}},detailPanel:e.panels,options:{actionsColumnIndex:-1,addRowPosition:"first",sorting:!0,pageSize:10,pageSizeOptions:[10],paginationType:"normal",padding:"dense",headerStyle:{paddingTop:0,paddingBottom:0,fontSize:"0.75rem",color:u.a[800],backgroundColor:u.a[100],borderTopLeftRadius:2,borderTopRightRadius:2},cellStyle:{paddingTop:12,paddingBottom:12}},actions:[{icon:Fe.Refresh,tooltip:"Actualizar",isFreeAction:!0,onClick:function(){x((function(e){return!e}))}}],components:{Toolbar:function(e){return r.a.createElement("div",{style:{backgroundColor:"#e4e5eb"}},r.a.createElement(ce.MTableToolbar,Object.assign({classes:{actions:t.actionsContainer,searchField:t.searchField}},e)))},Container:function(e){return r.a.createElement(ie.a,Object.assign({elevation:0},e),e.children)}},localization:re(e.label)})}var Se=function(e){return r.a.createElement("div",null,r.a.createElement(R.a,{m:5}),r.a.createElement(ee.a,{fixed:!0,maxWidth:"lg"},r.a.createElement(Re,{columns:[{title:"Id",field:"id",hidden:!0},{title:"Nombres",field:"name",validate:function(e){return!("undefined"==typeof e.name||!e.name)&&(""!==e.name.trim()||{isValid:!1,helperText:"Nombre es requerido"})}},{title:"Direcci\xf3n",field:"address"},{title:"Email",field:"email"},{title:"T\xe9lefono",field:"phoneNumber",width:150}],url:"clients",title:"Clientes",label:"cliente"})))},ye=function(e){return r.a.createElement(ee.a,{fixed:!0,maxWidth:"lg"},r.a.createElement(Re,{columns:[{title:"Id",field:"id",hidden:!0},{title:"Nombre",field:"name",validate:function(e){return"undefined"!=typeof e.name&&(""!==e.name.trim()||{isValid:!1,helperText:"Nombre es requerido"})}},{title:"Nit",field:"nit",type:"numeric"},{title:"Direcci\xf3n",field:"address"},{title:"T\xe9lefono",field:"phoneNumber"}],url:"suppliers",title:"Proveedores",label:"proveedor"}))},De=function(e){return r.a.createElement("div",null,r.a.createElement(R.a,{m:2}),r.a.createElement(ee.a,{fixed:!0,maxWidth:"lg"},r.a.createElement(Re,{columns:[{title:"Id",field:"id",hidden:!0},{title:"Nombre",field:"name",validate:function(e){return"undefined"!=typeof e.name&&(""!==e.name.trim()||{isValid:!1,helperText:"Nombre es requerido"})}},{title:"Simbolo",field:"symbol",validate:function(e){return"undefined"!=typeof e.symbol&&(""!==e.symbol.trim()||{isValid:!1,helperText:"Simbolo es requerido"})}},{title:"Restricted",field:"restricted",hidden:!0}],url:"units",title:"Unidades de Medida",label:"unidad"})))},Ve=a(29),Ie=a.n(Ve),Te=a(51),Ae=a(621),Me=a(611),ke=a(272),Le=a(301),Ne=a(409),ze=a(67),We=a.n(ze),_e=a(446),qe=a.n(_e),Be=a(447),Ue=a.n(Be),Ge=a(417),He=a(121),Xe=a(76),Ze=a.n(Xe),Qe=a(91),Je=a.n(Qe),Ke=a(77),Ye=a.n(Ke),$e=a(48),et=a.n($e),tt=a(85),at=a.n(tt),nt=a(86),rt=a.n(nt),ct=a(88),ot=a.n(ct),lt=a(89),it=a.n(lt),st=a(92),ut=a.n(st),dt=a(87),mt=a.n(dt),ft=a(90),bt=a.n(ft),pt=a(93),gt=a.n(pt),Et={Add:Object(n.forwardRef)((function(e,t){return r.a.createElement(Ge.a,{variant:"text",color:"secondary",size:"small",startIcon:r.a.createElement(Ze.a,Object.assign({},e,{ref:t}))},"Agregar Precio")})),Check:Object(n.forwardRef)((function(e,t){return r.a.createElement(Ye.a,Object.assign({},e,{ref:t}))})),Clear:Object(n.forwardRef)((function(e,t){return r.a.createElement(et.a,Object.assign({},e,{ref:t}))})),Delete:Object(n.forwardRef)((function(e,t){return r.a.createElement(at.a,Object.assign({},e,{ref:t}))})),DetailPanel:Object(n.forwardRef)((function(e,t){return r.a.createElement(A.a,Object.assign({},e,{ref:t}))})),Edit:Object(n.forwardRef)((function(e,t){return r.a.createElement(rt.a,Object.assign({},e,{ref:t}))})),Export:Object(n.forwardRef)((function(e,t){return r.a.createElement(mt.a,Object.assign({},e,{ref:t}))})),Filter:Object(n.forwardRef)((function(e,t){return r.a.createElement(We.a,Object.assign({},e,{ref:t}))})),FirstPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(ot.a,Object.assign({},e,{ref:t}))})),LastPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(it.a,Object.assign({},e,{ref:t}))})),NextPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(A.a,Object.assign({},e,{ref:t}))})),PreviousPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(I.a,Object.assign({},e,{ref:t}))})),ResetSearch:Object(n.forwardRef)((function(e,t){return r.a.createElement(et.a,Object.assign({},e,{ref:t}))})),Search:Object(n.forwardRef)((function(e,t){return r.a.createElement(bt.a,Object.assign({},e,{ref:t}))})),SortArrow:Object(n.forwardRef)((function(e,t){return r.a.createElement(Je.a,Object.assign({},e,{ref:t}))})),ThirdStateCheck:Object(n.forwardRef)((function(e,t){return r.a.createElement(ut.a,Object.assign({},e,{ref:t}))})),ViewColumn:Object(n.forwardRef)((function(e,t){return r.a.createElement(gt.a,Object.assign({},e,{ref:t}))}))};function ht(e){var t=Object(n.createRef)(),a=Object(n.useState)([]),c=Object(m.a)(a,2),o=c[0],l=c[1],i=Object(n.useState)({}),s=Object(m.a)(i,2),d=s[0],f=s[1],b=Object(n.useState)(!1),p=Object(m.a)(b,2),g=(p[0],p[1]),E=Object(n.useState)([]),h=Object(m.a)(E,2),O=(h[0],h[1]),j=[{title:"Id",field:"id",hidden:!0},{title:"Especial",field:"special",type:"boolean",width:"10%"},{title:"Precio",field:"price",type:"currency",currencySetting:{locale:"es-GT",currencyCode:"gtq",minimumFractionDigits:2,maximumFractionDigits:2},validate:function(e){return"undefined"!=typeof e.price&&(!(e.price.length<=0)||{isValid:!1,helperText:"Precio es requerido"})},width:"30%"},{title:"Proveedor",field:"supplier.id",lookup:d,width:"60%"}];Object(n.useEffect)((function(){ne.get("suppliers/catal").then((function(e){f(e.data)})).catch((function(e){O(["Cannot load user data"]),g(!0)})),ne.get(e.url).then((function(e){l(e.data)})).catch((function(e){O(["Cannot load user data"]),g(!0)}))}),[]);var v;return r.a.createElement(oe.a,{tableRef:t,icons:Et,title:(v=e.title,r.a.createElement(He.a,{color:"textPrimary",variant:"body2"},v)),columns:j,data:o,editable:{isEditable:function(e){return!e.restricted},isDeletable:function(e){return!e.restricted},onRowAdd:function(t){return new Promise((function(a){!function(t,a){var n=[];n.length<1?ne.post(e.url,t).then((function(e){var t=Object(te.a)(o);t.push(e.data),l(t),a(),O([]),g(!1)})).catch((function(e){O(["Cannot add data. Server error!"]),g(!0),a()})):(O(n),g(!0),a())}(t,a)}))},onRowUpdate:function(t,a){return new Promise((function(n){!function(t,a,n){var r=[];r.length<1?ne.put("".concat(e.url,"/").concat(t.id),t).then((function(e){var r=Object(te.a)(o);r[a.tableData.id]=t,l(Object(te.a)(r)),n(),g(!1),O([])})).catch((function(e){O(["update failed! Server error"]),g(!0),n()})):(O(r),g(!0),n())}(t,a,n)}))},onRowDelete:function(t){return new Promise((function(a){!function(t,a){ne.delete("".concat(e.url,"/").concat(t.id)).then((function(e){var n=Object(te.a)(o),r=t.tableData.id;n.splice(r,1),l(Object(te.a)(n)),a()})).catch((function(e){O(["Delete failed! Server error"]),g(!0),a()}))}(t,a)}))}},options:{actionsColumnIndex:-1,addRowPosition:"first",search:!1,paging:!1,pageSize:5,pageSizeOptions:[5],padding:"dense",headerStyle:{paddingTop:0,paddingBottom:0,fontSize:"0.75rem",color:u.a[800],borderTopLeftRadius:2,borderTopRightRadius:2},cellStyle:{paddingTop:8,paddingBottom:8}},components:{Container:function(e){return r.a.createElement("div",e,e.children)}},localization:re(e.label)})}var Ot=a(585),jt=a(460),vt=a(616),wt=a(583),Pt=a(442),xt=a.n(Pt),Ft=Object(j.a)((function(e){return{root:{display:"flex"},paper:{zIndex:2e3},item:{"&:hover":{color:e.palette.primary}}}}));function Ct(e){var t=Ft(),a=r.a.useState(!1),n=Object(m.a)(a,2),c=n[0],o=n[1],l=r.a.useRef(null),i=r.a.useState(!1),s=Object(m.a)(i,2),u=s[0],d=s[1],f=r.a.useState({active:e.actions[0].form}),b=Object(m.a)(f,2),p=b[0],g=b[1],E=function(e){l.current&&l.current.contains(e.target)||o(!1)};function h(e){"Tab"===e.key&&(e.preventDefault(),o(!1))}var O=r.a.useRef(c);return r.a.useEffect((function(){!0===O.current&&!1===c&&l.current.focus(),O.current=c}),[c]),r.a.createElement("div",{className:t.root},r.a.createElement("div",{onMouseLeave:function(){o(!1)}},r.a.createElement(le.a,{color:"primary",size:"medium",ref:l,"aria-controls":c?"menu-list-grow":void 0,"aria-haspopup":"true",onMouseOver:function(){o(!0)},onClick:function(){o((function(e){return!e}))}},r.a.createElement(xt.a,null)),r.a.createElement(Ot.a,{className:t.paper,open:c,anchorEl:l.current,role:void 0,transition:!0,disablePortal:!0},(function(t){var a=t.TransitionProps,n=t.placement;return r.a.createElement(jt.a,Object.assign({},a,{style:{transformOrigin:"bottom"===n?"center top":"center bottom"}}),r.a.createElement(ie.a,{elevation:24},r.a.createElement(vt.a,{onClickAway:E},r.a.createElement(wt.a,{autoFocusItem:c,id:"menu-list-grow",onKeyDown:h},e.actions.map((function(e){return r.a.createElement(Ne.a,{key:e.name,onClick:function(t){var a;a=e.form,g({active:a}),d(!0)}},e.name)}))))))}))),r.a.createElement(p.active,{closeModal:function(){return d(!1)},openModal:u,setData:e.setData,budgetId:e.budgetId}))}var Rt=a(140),St=a(606),yt=a(607),Dt=a(608),Vt=a(4),It=a(619),Tt=a(279),At=a.n(Tt),Mt=Object(Vt.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var t=e.children,a=e.classes,n=e.onClose,c=Object(Rt.a)(e,["children","classes","onClose"]);return r.a.createElement(It.a,Object.assign({disableTypography:!0,className:a.root},c),r.a.createElement(He.a,{variant:"h6"},t),n?r.a.createElement(S.a,{"aria-label":"close",className:a.closeButton,onClick:n},r.a.createElement(At.a,{fontSize:"medium"})):null)})),kt=Object(j.a)((function(e){return{root:{width:"100%",maxWidth:"36ch",backgroundColor:e.palette.background.paper},inline:{display:"inline"}}}));function Lt(e){var t=e.open,a=e.data,n=e.showTitle,c=e.showRow,o=e.onClose,l=e.onConfirm,i=Object(Rt.a)(e,["open","data","showTitle","showRow","onClose","onConfirm"]);kt();return r.a.createElement(St.a,Object.assign({disableBackdropClick:!0,disableEscapeKeyDown:!0,maxWidth:"md","aria-labelledby":"confirmation-dialog-title",open:t},i),r.a.createElement(Mt,{onClose:o,id:"confirmation-dialog-title"},n(a)),r.a.createElement(yt.a,{dividers:!0},r.a.createElement(k.a,null,a.map((function(e,t){return c(e,t)})))),r.a.createElement(Dt.a,null,r.a.createElement(Ge.a,{autoFocus:!0,onClick:function(){o()},color:"primary"},"Cancelar"),r.a.createElement(Ge.a,{onClick:function(){l(a),o()},color:"primary"},"Confirmar")))}var Nt=a(280),zt=a.n(Nt),Wt=Object(j.a)((function(e){return{img:{maxWidth:"100%",paddingRight:e.spacing(2)}}})),_t=function(e){var t=e.image,a=Wt();return r.a.createElement("img",{src:t,alt:"instrucciones",className:a.img})},qt=a(423),Bt=a(406),Ut=a(626),Gt=a(624),Ht=a(625),Xt=a(273),Zt=a(22),Qt=a(59),Jt=a(336),Kt=a(461),Yt=a(419),$t=a(340);function ea(e){return r.a.createElement(Me.a,{container:!0,spacing:3},r.a.createElement(Me.a,{item:!0,xs:12,sm:4},r.a.createElement(Zt.a,{component:Qt.d,name:"length",type:"number",label:e.lengthLabel?e.lengthLabel:"Largo",InputProps:{endAdornment:r.a.createElement(Yt.a,{position:"end"},"m")}})),r.a.createElement(Me.a,{item:!0,xs:12,sm:4},r.a.createElement(Zt.a,{component:Qt.d,name:"width",type:"number",label:"Ancho",InputProps:{endAdornment:r.a.createElement(Yt.a,{position:"end"},"m")}})),r.a.createElement(Me.a,{item:!0,xs:12,sm:4},r.a.createElement(Zt.a,{component:Qt.d,name:"height",type:"number",label:e.heightLabel?e.heightLabel:"Alto",InputProps:{endAdornment:r.a.createElement(Yt.a,{position:"end"},"m")}})))}var ta=function(e){var t=e.name,a=e.label,c=e.value,o=e.setFieldValue,l=e.errors,i=e.touched,s=e.helperText,u=e.fieldProps;return r.a.createElement(n.Fragment,null,r.a.createElement(Zt.a,{component:Jt.a,id:t,name:t||"name",type:"text",label:a||"Nombre",autoFocus:!0,value:c,onChange:function(e){return o(t||"name",e.target.value)},InputProps:Object(f.a)({},u)}),s&&r.a.createElement(Kt.a,{id:"".concat(t||"name","-helper-text")},s),l.name&&i.name?r.a.createElement("div",null,r.a.createElement(He.a,{color:"error",variant:"caption"},l.name)):null)},aa=function(e){var t=e.name,a=e.label,c=e.value,o=e.setFieldValue,l=e.errors,i=e.touched,s=e.helperText;return r.a.createElement(n.Fragment,null,r.a.createElement(Zt.a,{component:Jt.a,id:t,name:t,type:"number",label:a,value:c,onChange:function(e){return o(t,e.target.value)},inputProps:{step:"0.001"},InputProps:{endAdornment:r.a.createElement(Yt.a,{position:"end"},"m")}}),s&&r.a.createElement(Kt.a,{id:"".concat(t,"-helper-text")},s),l[t]&&i[t]?r.a.createElement("div",null,r.a.createElement(He.a,{color:"error",variant:"caption"},l[t])):null)},na=function(e){var t=e.name,a=e.label,c=e.value,o=e.setFieldValue,l=e.errors,i=e.touched,s=e.helperText;return r.a.createElement(n.Fragment,null,r.a.createElement(Zt.a,{component:Jt.a,id:t,name:t,type:"number",label:a,value:c,inputProps:{step:"1"},onChange:function(e){return o(t,e.target.value)}}),s&&r.a.createElement(Kt.a,{id:"".concat(t,"-helper-text")},s),l[t]&&i[t]?r.a.createElement("div",null,r.a.createElement(He.a,{color:"error",variant:"caption"},l[t])):null)},ra=function(e){var t=e.name,a=e.label,c=e.value,o=e.setFieldValue,l=e.errors,i=e.touched,s=e.helperText;return r.a.createElement(n.Fragment,null,r.a.createElement(Zt.a,{component:Jt.a,id:t,name:t,type:"number",label:a,value:c,onChange:function(e){return o(t,e.target.value)},inputProps:{step:"0.001"},InputProps:{endAdornment:r.a.createElement(Yt.a,{position:"end"},"\u33a1")}}),s&&r.a.createElement(Kt.a,{id:"".concat(t,"-helper-text")},s),l[t]&&i[t]?r.a.createElement("div",null,r.a.createElement(He.a,{color:"error",variant:"caption"},l[t])):null)},ca=function(e){var t=e.name,a=e.label,c=e.value,o=e.setFieldValue,l=e.errors,i=e.touched,s=e.helperText,u=e.optional;return r.a.createElement(n.Fragment,null,r.a.createElement(Zt.a,{component:Jt.a,id:t,name:t,type:"number",label:a,value:c,onChange:function(e){return o(t,e.target.value)},inputProps:{min:0,max:100,step:"1"},InputProps:{endAdornment:r.a.createElement(Yt.a,{position:"end"},"%")}}),r.a.createElement(Kt.a,{id:"".concat(t,"-helper-text")},"".concat(s||""," ").concat(u?"Opcional":"")),l[t]&&i[t]?r.a.createElement("div",null,r.a.createElement(He.a,{color:"error",variant:"caption"},l[t])):null)},oa=function(e){var t=e.name,a=e.label,c=e.value,o=e.setFieldValue,l=(e.errors,e.touched,e.helperText);return r.a.createElement(n.Fragment,null,r.a.createElement($t.a,{styles:{label:{color:"#0000008a"}},control:r.a.createElement(Zt.a,{component:Qt.c,type:"checkbox",id:t,name:t,value:c,onChange:function(e){return o(t,e.target.value)}}),label:a}),l&&r.a.createElement(Kt.a,{id:"".concat(t,"-helper-text")},l))},la=function(e){var t=e.lengthLabel,a=e.widthLabel,n=e.heightLabel;return r.a.createElement(ea,{lengthLabel:t,widthLabel:a,heightLabel:n})},ia={Add:Object(n.forwardRef)((function(e,t){return r.a.createElement(Ge.a,{variant:"text",color:"secondary",size:"small",startIcon:r.a.createElement(Ze.a,Object.assign({},e,{ref:t}))},"Agregar Precio")})),Check:Object(n.forwardRef)((function(e,t){return r.a.createElement(Ye.a,Object.assign({},e,{ref:t}))})),Clear:Object(n.forwardRef)((function(e,t){return r.a.createElement(et.a,Object.assign({},e,{ref:t}))})),Delete:Object(n.forwardRef)((function(e,t){return r.a.createElement(at.a,Object.assign({},e,{ref:t}))})),DetailPanel:Object(n.forwardRef)((function(e,t){return r.a.createElement(A.a,Object.assign({},e,{ref:t}))})),Edit:Object(n.forwardRef)((function(e,t){return r.a.createElement(rt.a,Object.assign({},e,{ref:t}))})),Export:Object(n.forwardRef)((function(e,t){return r.a.createElement(mt.a,Object.assign({},e,{ref:t}))})),Filter:Object(n.forwardRef)((function(e,t){return r.a.createElement(We.a,Object.assign({},e,{ref:t}))})),FirstPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(ot.a,Object.assign({},e,{ref:t}))})),LastPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(it.a,Object.assign({},e,{ref:t}))})),NextPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(A.a,Object.assign({},e,{ref:t}))})),PreviousPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(I.a,Object.assign({},e,{ref:t}))})),ResetSearch:Object(n.forwardRef)((function(e,t){return r.a.createElement(et.a,Object.assign({},e,{ref:t}))})),Search:Object(n.forwardRef)((function(e,t){return r.a.createElement(bt.a,Object.assign({},e,{ref:t}))})),SortArrow:Object(n.forwardRef)((function(e,t){return r.a.createElement(Je.a,Object.assign({},e,{ref:t}))})),ThirdStateCheck:Object(n.forwardRef)((function(e,t){return r.a.createElement(ut.a,Object.assign({},e,{ref:t}))})),ViewColumn:Object(n.forwardRef)((function(e,t){return r.a.createElement(gt.a,Object.assign({},e,{ref:t}))}))};function sa(e){var t=e.prices,a=e.setPrices,c=(e.title,e.label),o=Object(n.createRef)(),l=Object(n.useState)({}),i=Object(m.a)(l,2),s=i[0],d=i[1],b=Object(n.useState)(!1),p=Object(m.a)(b,2),g=(p[0],p[1]),E=Object(n.useState)([]),h=Object(m.a)(E,2),O=(h[0],h[1]),j=[{title:"Id",field:"id",hidden:!0},{title:"Especial",field:"special",type:"boolean",width:"10%"},{title:"Precio",field:"price",type:"currency",currencySetting:{locale:"es-GT",currencyCode:"gtq",minimumFractionDigits:2,maximumFractionDigits:2},validate:function(e){return"undefined"!=typeof e.price&&(!(e.price.length<=0)||{isValid:!1,helperText:"Precio es requerido"})},width:"30%"},{title:"Proveedor",field:"supplier.id",lookup:s,width:"60%"}];Object(n.useEffect)((function(){ne.get("suppliers/catal").then((function(e){d(e.data)})).catch((function(e){O(["Cannot load user data"]),g(!0)}))}),[]);return r.a.createElement(oe.a,{tableRef:o,icons:ia,title:"",columns:j,data:t,editable:{isEditable:function(e){return!e.restricted},isDeletable:function(e){return!e.restricted},onRowAdd:function(e){return new Promise((function(n){!function(e,n){var r=Object(te.a)(t);r.push(e),a(r),n()}(e,n)}))},onRowUpdate:function(e,n){return new Promise((function(r){!function(e,n,r){var c=Object(te.a)(t);c[n.tableData.id]=e,a(Object(te.a)(c))}(e,n)}))},onRowDelete:function(e){return new Promise((function(n){!function(e,n){var r=Object(te.a)(t),c=e.tableData.id;r.splice(c,1),a(Object(te.a)(r)),n()}(e,n)}))}},options:{actionsColumnIndex:-1,addRowPosition:"first",search:!1,paging:!1,pageSize:5,pageSizeOptions:[5],padding:"dense",headerStyle:{paddingTop:0,paddingBottom:0,fontSize:"0.75rem",color:u.a[800],borderTopLeftRadius:2,borderTopRightRadius:2},cellStyle:{paddingTop:8,paddingBottom:8}},components:{Container:function(e){return r.a.createElement("div",e,e.children)}},localization:Object(f.a)(Object(f.a)({},re(c)),{},{body:Object(f.a)(Object(f.a)({},re(c).body),{},{emptyDataSourceMessage:""})})})}var ua=a(37),da=ua.e().required("Requerido"),ma=ua.c().positive("Deber ser positivo").required("Requerido"),fa=ua.c().positive("Deber ser positivo").integer("Deber ser un n\xfamero entero ").required("Requerido"),ba=ua.c().positive("Debe ser positivo").required("Requerido"),pa=ua.b().required("Requerido"),ga=ua.c().min(0,"Debe ser un numero entre 0 - 100").max(100,"Debe ser un numero entre 0 - 100").nullable(),Ea={name:da,profitPct:ga,amount:fa,unitAmount:ba,unit:pa,length:ma,width:ma,height:ma,area:ma,wallArea:ma,ceilArea:ma,knotsPerPound:ma,sqrMtsPerBag:ma,sqrMtsPerGal:ma,recubrimiento:ma,separacion:ma,junta:ma,longHook:ma,longPata:ma,cantLongsElems:fa,cantLongsAuxElems:fa,cantTransElems:fa,propTension:ga,estribosDouble:ua.a().default(!1),mixProp:pa,cement:pa,sand:pa,gravel:pa,iron:pa,longIron:pa,longIronAux:pa,transIron:pa,tieWire:pa,block:pa,preMix:pa,wallPaint:pa,ceilPaint:pa,electromalla:pa,cementPrice:pa,sandPrice:pa,gravelPrice:pa,ironPrice:pa,longIronPrice:pa,longIronAuxPrice:pa,transIronPrice:pa,tieWirePrice:pa,blockPrice:pa,preMixPrice:pa,wallPaintPrice:pa,ceilPaintPrice:pa,electromallaPrice:pa,cementWastePct:ga,sandWastePct:ga,gravelWastePct:ga,ironWastePct:ga,longIronWastePct:ga,longIronAuxWastePct:ga,transIronWastePct:ga,tieWireWastePct:ga,blockWastePct:ga,preMixWastePct:ga,wallPaintWastePct:ga,ceilPaintWastePct:ga,electromallaWastePct:ga},ha=Ea.name,Oa=Ea.profitPct,ja=Ea.amount,va=Ea.unitAmount,wa=Ea.unit,Pa=Ea.length,xa=Ea.width,Fa=Ea.height,Ca=Ea.area,Ra=Ea.wallArea,Sa=Ea.ceilArea,ya=Ea.knotsPerPound,Da=Ea.sqrMtsPerBag,Va=Ea.sqrMtsPerGal,Ia=Ea.recubrimiento,Ta=Ea.separacion,Aa=Ea.junta,Ma=Ea.longHook,ka=Ea.longPata,La=Ea.cantLongsElems,Na=Ea.cantLongsAuxElems,za=Ea.cantTransElems,Wa=Ea.propTension,_a=Ea.estribosDouble,qa=Ea.mixProp,Ba=Ea.cement,Ua=Ea.sand,Ga=Ea.gravel,Ha=Ea.iron,Xa=Ea.longIron,Za=Ea.longIronAux,Qa=Ea.transIron,Ja=Ea.tieWire,Ka=Ea.block,Ya=Ea.preMix,$a=Ea.wallPaint,en=Ea.ceilPaint,tn=Ea.electromalla,an=Ea.cementPrice,nn=Ea.sandPrice,rn=Ea.gravelPrice,cn=Ea.ironPrice,on=Ea.longIronPrice,ln=Ea.longIronAuxPrice,sn=Ea.transIronPrice,un=Ea.tieWirePrice,dn=Ea.blockPrice,mn=Ea.preMixPrice,fn=Ea.wallPaintPrice,bn=Ea.ceilPaintPrice,pn=Ea.electromallaPrice,gn=Ea.cementWastePct,En=Ea.sandWastePct,hn=Ea.gravelWastePct,On=Ea.ironWastePct,jn=Ea.longIronWastePct,vn=Ea.transIronWastePct,wn=Ea.tieWireWastePct,Pn=Ea.blockWastePct,xn=Ea.preMixWastePct,Fn=Ea.wallPaintWastePct,Cn=Ea.ceilPaintWastePct,Rn=Ea.electromallaWastePct,Sn=a(288),yn=a.n(Sn),Dn=function(){return r.a.createElement(yn.a,{fontSize:"large",color:"primary"})},Vn=function(e){var t=e.schema,a=e.apiId,c=e.title,o=(e.label,e.initialValues),l=e.openModal,i=e.closeModal,s=e.setData,u=e.FormFields,d=e.maxWidth,b=e.image,p=e.imgSpacing,g=Object(n.useState)([]),E=Object(m.a)(g,2),h=E[0],O=E[1],j=Object(n.useState)(),v=Object(m.a)(j,2),w=v[0],P=v[1],x=function(e,t){P({ok:e,msg:t})};return r.a.createElement(St.a,{maxWidth:d||"md",fullWidth:!0,open:l,onClose:function(){return i},"aria-labelledby":"form-dialog-title"},r.a.createElement(Mt,{onClose:i,id:"confirmation-dialog-title"},r.a.createElement(Ut.a,{alternativeLabel:!0},r.a.createElement(Gt.a,{key:"".concat(c)},r.a.createElement(Ht.a,{StepIconComponent:Dn}," ","Agregar ".concat(c||"Material"))))),r.a.createElement(yt.a,{dividers:!0},r.a.createElement(Zt.c,{initialValues:Object(f.a)({},o),validationSchema:ua.d().shape(Object(f.a)({name:ha},t)),onSubmit:function(e,t){var n=t.setSubmitting,r=t.resetForm;console.log("values",e),ne.post("".concat(a),Object(f.a)(Object(f.a)({},e),{},{prices:h})).then((function(e){ne.get("".concat(a,"/").concat(e.data.id)).then((function(e){console.log(e.data);var t=e.data;s((function(e){return[t].concat(Object(te.a)(e))}))})),n(!1),r(),x(!0,""),i()})).catch((function(e){n(!1),x(!1,e.response.data.error)}))}},(function(e){var t=e.submitForm,a=e.isSubmitting,n=e.setFieldValue,c=e.values,o=e.errors,l=e.touched;return r.a.createElement(Zt.b,null,r.a.createElement(Me.a,{container:!0,spacing:4,alignItems:"center"},b&&r.a.createElement(Me.a,{item:!0,xs:12,sm:p||4},r.a.createElement(_t,{image:b})),r.a.createElement(Me.a,{item:!0,xs:12,sm:12-(p||0)},u&&r.a.createElement(u,{values:c,setFieldValue:n,errors:o,touched:l})),r.a.createElement(Me.a,{item:!0,xs:12},r.a.createElement(sa,{title:"Precios",label:"precio",prices:h,setPrices:O}))),a&&r.a.createElement(qt.a,null),r.a.createElement("br",null),r.a.createElement(Dt.a,null,r.a.createElement(Ge.a,{color:"inherit",onClick:i},"Cancelar"),r.a.createElement(Ge.a,{startIcon:a?r.a.createElement(Bt.a,{size:"1rem"}):null,disabled:a,variant:"contained",color:"primary",onClick:t},a?"Enviando":"Enviar")),w&&r.a.createElement("p",{className:w.ok?"":"errorMsg"},w.msg))}))))},In=function(e){var t=e.values,a=e.setFieldValue,n=e.errors,c=e.touched;return r.a.createElement(Me.a,{container:!0,spacing:3},r.a.createElement(Me.a,{item:!0,xs:12},r.a.createElement(ta,{value:t.name,setFieldValue:a,errors:n,touched:c})))},Tn=function(e){var t=e.values,a=e.setFieldValue,n=e.errors,c=e.touched,o=e.Field,l=e.name,i=e.label,s=e.helperText;return r.a.createElement(Me.a,{container:!0,spacing:3},r.a.createElement(Me.a,{item:!0,xs:12,sm:8},r.a.createElement(ta,{value:t.name,setFieldValue:a,errors:n,touched:c})),r.a.createElement(Me.a,{item:!0,xs:12,sm:4},r.a.createElement(o,{name:l,label:i,helperText:s,value:t[l],setFieldValue:a,errors:n,touched:c})))},An=function(e){var t=e.openModal,a=e.closeModal,n=e.setData;return r.a.createElement(Vn,{apiId:"cements",title:"Cemento",label:"cemento",openModal:t,closeModal:a,setData:n,FormFields:In,initialValues:{name:"Cemento "}})},Mn=function(e){var t=e.openModal,a=e.closeModal,n=e.setData;return r.a.createElement(Vn,{apiId:"sands",title:"Arena",label:"arena",openModal:t,closeModal:a,setData:n,FormFields:In,initialValues:{name:"Arena "}})},kn=function(e){var t=e.openModal,a=e.closeModal,n=e.setData;return r.a.createElement(Vn,{apiId:"gravels",title:"Piedrin",label:"piedrin",openModal:t,closeModal:a,setData:n,FormFields:In,initialValues:{name:"Piedrin "}})},Ln=function(e){var t=e.openModal,a=e.closeModal,n=e.setData;return r.a.createElement(Vn,{apiId:"irons",title:"Hierro",label:"hierro",FormFields:function(e){var t=e.values,a=e.setFieldValue,n=e.errors,c=e.touched;return r.a.createElement(Tn,{values:t,setFieldValue:a,errors:n,touched:c,Field:aa,name:"length",label:"Largo \xdatil"})},openModal:t,closeModal:a,setData:n,schema:{length:Pa},initialValues:{name:"Hierro "}})},Nn=function(e){var t=e.openModal,a=e.closeModal,n=e.setData;return r.a.createElement(Vn,{apiId:"tiewires",title:"Alambre de Amarre",label:"alambre",FormFields:function(e){var t=e.values,a=e.setFieldValue,n=e.errors,c=e.touched;return r.a.createElement(Tn,{values:t,setFieldValue:a,errors:n,touched:c,Field:na,name:"knotsPerPound",label:"Nudos / Lb",helperText:"Cantidad de nudos por libra de alambre"})},openModal:t,closeModal:a,setData:n,schema:{knotsPerPound:ya},initialValues:{name:"Alambre de amarre "}})},zn=function(e){var t=e.openModal,a=e.closeModal,n=e.setData;return r.a.createElement(Vn,{apiId:"blocks",title:"Block",label:"block",FormFields:function(e){var t=e.values,a=e.setFieldValue,n=e.errors,c=e.touched;return r.a.createElement(Me.a,{container:!0,spacing:3},r.a.createElement(Me.a,{item:!0,xs:12},r.a.createElement(ta,{value:t.name,setFieldValue:a,errors:n,touched:c})),r.a.createElement(Me.a,{item:!0,xs:12},r.a.createElement(la,{values:t,setFieldValue:a,errors:n,touched:c})))},openModal:t,closeModal:a,setData:n,schema:{length:Pa,width:xa,height:Fa},maxWidth:"md",image:zt.a,imgSpacing:4,initialValues:{name:"Block "}})},Wn=function(e){var t=e.openModal,a=e.closeModal,n=e.setData;return r.a.createElement(Vn,{apiId:"premixes",title:"Recubrimiento Premezclado",label:"recubrimiento premezclado",FormFields:function(e){var t=e.values,a=e.setFieldValue,n=e.errors,c=e.touched;return r.a.createElement(Tn,{values:t,setFieldValue:a,errors:n,touched:c,Field:ra,name:"sqrMtsPerBag",label:"\u33a1 / bolsa",helperText:"Rendimiento: Cantidad de \u33a1 por bolsa"})},openModal:t,closeModal:a,setData:n,schema:{sqrMtsPerBag:Da},initialValues:{name:""}})},_n=function(e){var t=e.openModal,a=e.closeModal,n=e.setData;return r.a.createElement(Vn,{apiId:"paints",title:"Pintura",label:"pintura",FormFields:function(e){var t=e.values,a=e.setFieldValue,n=e.errors,c=e.touched;return r.a.createElement(Tn,{values:t,setFieldValue:a,errors:n,touched:c,Field:ra,name:"sqrMtsPerGal",label:"\u33a1 / \u33ff",helperText:"Rendimiento: Cantidad de metros cuadrados por gal\xf3n de pintura"})},openModal:t,closeModal:a,setData:n,schema:{sqrMtsPerGal:Va},initialValues:{name:"Pintura "}})},qn=function(e){var t=e.openModal,a=e.closeModal,n=e.setData;return r.a.createElement(Vn,{apiId:"electromallas",title:"Electromalla",label:"electromalla",FormFields:function(e){var t=e.values,a=e.setFieldValue,n=e.errors,c=e.touched;return r.a.createElement(Tn,{values:t,setFieldValue:a,errors:n,touched:c,Field:ra,name:"area",label:"Area",helperText:"Superficie de la plancha de electromalla"})},openModal:t,closeModal:a,setData:n,schema:{area:Ca},initialValues:{name:"Electromalla "}})},Bn=function(e){var t=e.openModal,a=e.closeModal,c=e.setData,o=Object(n.useState)([]),l=Object(m.a)(o,2),i=l[0],s=l[1];Object(n.useEffect)((function(){ne.get("units").then((function(e){s(e.data)})).catch((function(e){}))}),[]);var u=Object(j.a)({denseItem:{paddingTop:0,paddingBottom:0}})();return r.a.createElement(Vn,{apiId:"materials",label:"material",FormFields:function(e){var t=e.values,a=e.setFieldValue,n=e.errors,c=e.touched;return r.a.createElement(Me.a,{container:!0,spacing:3},r.a.createElement(Me.a,{item:!0,xs:12,sm:8},r.a.createElement(ta,{value:t.name,setFieldValue:a,errors:n,touched:c})),r.a.createElement(Me.a,{item:!0,xs:12,sm:4},r.a.createElement(ke.a,null,r.a.createElement(Xt.a,{htmlFor:"unit"},"Unidad de Medida"),r.a.createElement(Zt.a,{component:Le.a,disabled:0===i.length,name:"unit",onChange:function(e,t){return a("unit",e.target.value)},defaultValue:t.unit?t.unit:null,displayEmpty:!0,renderValue:function(e){return e?r.a.createElement(Ne.a,{dense:!0,className:u.denseItem,value:e},"".concat(e.name)):""},inputProps:{id:"mix-prop"}},i.map((function(e){return r.a.createElement(Ne.a,{dense:!0,value:e},e.name)}))),n.unit&&c.unit?r.a.createElement("div",null,r.a.createElement(He.a,{color:"error",variant:"caption"},n.unit)):null)))},openModal:t,closeModal:a,setData:c,schema:{name:ha,unit:ua.b().required("Unidad es requerido")}})},Un=function(){return r.a.createElement(yn.a,{fontSize:"large",color:"primary"})},Gn=function(e){var t=e.apiId,a=e.id,c=e.rowData,o=e.materialsData,l=e.setMaterialsData,i=e.validationSchema,s=e.FormMaterial,u=e.maxWidth,d=e.open,b=e.closeModal,p=e.title,g=e.image,E=e.imgSpacing,h=Object(n.useState)(),O=Object(m.a)(h,2),j=(O[0],O[1]),v=function(e,t){j({ok:e,msg:t})};return r.a.createElement(St.a,{maxWidth:u||"md",fullWidth:!0,open:d,onClose:function(){return b},"aria-labelledby":"form-dialog-title"},r.a.createElement(Mt,{onClose:b},r.a.createElement(Ut.a,{alternativeLabel:!0},r.a.createElement(Gt.a,{key:"".concat(p)},r.a.createElement(Ht.a,{StepIconComponent:Un}," ","Editar ".concat(p||"Material"))))),r.a.createElement(yt.a,{dividers:!0},r.a.createElement(Zt.c,{enableReinitialize:!0,initialValues:Object(f.a)({},c),validationSchema:ua.d().shape(Object(f.a)({},i)),onSubmit:function(e,n){var r=n.setSubmitting;n.resetForm;ne.put("".concat(t,"/").concat(a),Object(f.a)({},e)).then((function(n){r(!1),ne.get("".concat(t,"/").concat(a)).then((function(e){var t=Object(te.a)(o),a=c.tableData.id,n=Object(f.a)(Object(f.a)({},e.data),{},{tableData:c.tableData});t[a]=n,l(Object(te.a)(t))})).catch((function(e){return console.log(e)})),console.log("values",e),v(!0,""),b()})).catch((function(e){r(!1),v(!1,e.response.data.error)}))}},(function(e){var t=e.values,n=e.setFieldValue,c=e.errors,o=e.touched,l=e.submitForm,i=e.isSubmitting;return r.a.createElement(Zt.b,null,r.a.createElement(Me.a,{container:!0,spacing:4,alignItems:"center"},g&&r.a.createElement(Me.a,{item:!0,xs:12,sm:E||4},r.a.createElement(_t,{image:g})),r.a.createElement(Me.a,{item:!0,xs:12,sm:12-(E||0)},r.a.createElement(s,{values:t,setFieldValue:n,errors:c,touched:o})),r.a.createElement(Me.a,{item:!0,xs:12},r.a.createElement(ht,{url:"/materials/".concat(a,"/prices"),parentId:a,title:"Precios",label:"precio"}))),i&&r.a.createElement(qt.a,null),r.a.createElement("br",null),r.a.createElement(Dt.a,null,r.a.createElement(Ge.a,{color:"inherit",onClick:b},"Cancelar"),r.a.createElement(Ge.a,{startIcon:i?r.a.createElement(Bt.a,{size:"1rem"}):null,disabled:i,variant:"contained",color:"primary",type:"submit",onClick:l},i?"Enviando":"Actualizar")))}))))},Hn=function(e){var t=e.open,a=e.closeModal,n=e.rowData,c=e.rowsData,o=e.setRowsData,l=n.id;return r.a.createElement(Gn,{apiId:"materials",id:l,FormMaterial:function(e){var t=e.values,a=e.setFieldValue,n=e.errors,c=e.touched;return r.a.createElement(Me.a,{container:!0,spacing:3},r.a.createElement(Me.a,{item:!0,xs:12},r.a.createElement(ta,{value:t.name,setFieldValue:a,errors:n,touched:c})))},rowData:n,materialsData:c,setMaterialsData:o,open:t,closeModal:a,validationSchema:{name:ha}})},Xn={0:function(e){var t=e.open,a=e.closeModal,c=e.rowData,o=e.rowsData,l=e.setRowsData,i=c.id,s=Object(n.useState)([]),u=Object(m.a)(s,2),d=u[0],f=u[1];Object(n.useEffect)((function(){ne.get("units").then((function(e){f(e.data)})).catch((function(e){}))}),[]);var b=Object(j.a)({denseItem:{paddingTop:0,paddingBottom:0}})();return r.a.createElement(Gn,{apiId:"materials",id:i,FormMaterial:function(e){var t=e.values,a=e.setFieldValue,n=e.errors,c=e.touched;return r.a.createElement(Me.a,{container:!0,spacing:3},r.a.createElement(Me.a,{item:!0,xs:12,sm:8},r.a.createElement(ta,{value:t.name,setFieldValue:a,errors:n,touched:c})),r.a.createElement(Me.a,{item:!0,xs:12,sm:4},r.a.createElement(ke.a,null,r.a.createElement(Xt.a,{htmlFor:"unit"},"Unidad de Medida"),r.a.createElement(Zt.a,{component:Le.a,disabled:0===d.length,name:"unit",onChange:function(e,t){return a("unit",e.target.value)},defaultValue:t.unit?t.unit:null,displayEmpty:!0,renderValue:function(e){return e?r.a.createElement(Ne.a,{dense:!0,className:b.denseItem,value:e},"".concat(e.name)):""},inputProps:{id:"mix-prop"}},d.map((function(e){return r.a.createElement(Ne.a,{dense:!0,value:e},e.name)}))),n.unit&&c.unit?r.a.createElement("div",null,r.a.createElement(He.a,{color:"error",variant:"caption"},n.unit)):null)))},rowData:c,materialsData:o,setMaterialsData:l,open:t,closeModal:a,validationSchema:{name:ha,unit:ua.b().required("Unidad es requerido")}})},1:Hn,2:Hn,3:Hn,4:function(e){var t=e.open,a=e.closeModal,n=e.rowData,c=e.rowsData,o=e.setRowsData,l=n.id;return r.a.createElement(Gn,{apiId:"irons",id:l,FormMaterial:function(e){var t=e.values,a=e.setFieldValue,n=e.errors,c=e.touched;return r.a.createElement(Me.a,{container:!0,spacing:3},r.a.createElement(Me.a,{item:!0,xs:12,sm:8},r.a.createElement(ta,{value:t.name,setFieldValue:a,errors:n,touched:c})),r.a.createElement(Me.a,{item:!0,xs:12,sm:4},r.a.createElement(Zt.a,{component:Qt.d,name:"length",type:"number",label:"Largo \xdatil",InputProps:{endAdornment:r.a.createElement(Yt.a,{position:"end"},"m")}})))},rowData:n,materialsData:c,setMaterialsData:o,open:t,closeModal:a,validationSchema:{name:ha,length:Pa}})},5:function(e){var t=e.open,a=e.closeModal,n=e.rowData,c=e.rowsData,o=e.setRowsData,l=n.id;return r.a.createElement(Gn,{apiId:"tiewires",id:l,FormMaterial:function(e){var t=e.values,a=e.setFieldValue,n=e.errors,c=e.touched;return r.a.createElement(Me.a,{container:!0,spacing:3},r.a.createElement(Me.a,{item:!0,xs:12,sm:8},r.a.createElement(ta,{value:t.name,setFieldValue:a,errors:n,touched:c})),r.a.createElement(Me.a,{item:!0,xs:12,sm:4},r.a.createElement(Zt.a,{id:"knotsPerPound",component:Qt.d,name:"knotsPerPound",type:"number",label:"Nudos / Libra"}),r.a.createElement(Kt.a,{id:"knotsPerPound-text"},"Cantidad de nudos por libra de alambre")))},rowData:n,materialsData:c,setMaterialsData:o,open:t,closeModal:a,validationSchema:{name:ha,knotsPerPound:ya}})},6:function(e){var t=e.open,a=e.closeModal,n=e.rowData,c=e.rowsData,o=e.setRowsData,l=n.id;return r.a.createElement(Gn,{apiId:"blocks",id:l,FormMaterial:function(e){var t=e.values,a=e.setFieldValue,n=e.errors,c=e.touched;return r.a.createElement(Me.a,{container:!0,spacing:3},r.a.createElement(Me.a,{item:!0,xs:12},r.a.createElement(ta,{value:t.name,setFieldValue:a,errors:n,touched:c})),r.a.createElement(Me.a,{item:!0,xs:12},r.a.createElement(la,null)))},rowData:n,materialsData:c,setMaterialsData:o,open:t,closeModal:a,validationSchema:{name:ha,length:Pa,width:xa,height:Fa},image:zt.a,imgSpacing:4})},7:function(e){var t=e.open,a=e.closeModal,n=e.rowData,c=e.rowsData,o=e.setRowsData,l=n.id;return r.a.createElement(Gn,{apiId:"premixes",id:l,FormMaterial:function(e){var t=e.values,a=e.setFieldValue,n=e.errors,c=e.touched;return r.a.createElement(Me.a,{container:!0,spacing:3},r.a.createElement(Me.a,{item:!0,xs:12,sm:8},r.a.createElement(ta,{value:t.name,setFieldValue:a,errors:n,touched:c})),r.a.createElement(Me.a,{item:!0,xs:12,sm:4},r.a.createElement(Zt.a,{id:"sqrMtsPerBag",component:Qt.d,name:"sqrMtsPerBag",type:"number",label:"\u33a1 / bolsa"}),r.a.createElement(Kt.a,{id:"sqrMtsPerBag-text"},"Rendimiento: Cantidad de \u33a1 por bolsa")))},rowData:n,materialsData:c,setMaterialsData:o,open:t,closeModal:a,validationSchema:{name:ha,sqrMtsPerBag:Da}})},8:function(e){var t=e.open,a=e.closeModal,n=e.rowData,c=e.rowsData,o=e.setRowsData,l=n.id;return r.a.createElement(Gn,{apiId:"paints",id:l,FormMaterial:function(e){var t=e.values,a=e.setFieldValue,n=e.errors,c=e.touched;return r.a.createElement(Me.a,{container:!0,spacing:3},r.a.createElement(Me.a,{item:!0,xs:12,sm:8},r.a.createElement(ta,{value:t.name,setFieldValue:a,errors:n,touched:c})),r.a.createElement(Me.a,{item:!0,xs:12,sm:4},r.a.createElement(na,{name:"sqrMtsPerGal",label:"\u33a1 / \u33ff",value:t.sqrMtsPerGal,helperText:"Rendimiento: Cantidad de metros cuadrados por gal\xf3n de pintura",setFieldValue:a,errors:n,touched:c})))},rowData:n,materialsData:c,setMaterialsData:o,open:t,closeModal:a,validationSchema:{name:ha,sqrMtsPerGal:Va}})},9:function(e){var t=e.open,a=e.closeModal,n=e.rowData,c=e.rowsData,o=e.setRowsData,l=n.id;return r.a.createElement(Gn,{apiId:"electromallas",id:l,FormMaterial:function(e){var t=e.values,a=e.setFieldValue,n=e.errors,c=e.touched;return r.a.createElement(Me.a,{container:!0,spacing:3},r.a.createElement(Me.a,{item:!0,xs:12,sm:8},r.a.createElement(ta,{value:t.name,setFieldValue:a,errors:n,touched:c})),r.a.createElement(Me.a,{item:!0,xs:12,sm:4},r.a.createElement(ra,{name:"area",label:"Area",value:t.area,helperText:"Superficie de la plancha de electromalla",setFieldValue:a,errors:n,touched:c})))},rowData:n,materialsData:c,setMaterialsData:o,open:t,closeModal:a,validationSchema:{name:ha,area:Ca}})}},Zn=function(e){return new Intl.NumberFormat("es-GT",{style:"currency",currency:"gtq"}).format(e)},Qn={Add:Object(n.forwardRef)((function(e,t){return r.a.createElement(le.a,{color:"secondary",size:"medium"},r.a.createElement(se.a,Object.assign({},e,{ref:t}))," ")})),Check:Object(n.forwardRef)((function(e,t){return r.a.createElement(ue.a,Object.assign({},e,{ref:t}))})),Clear:Object(n.forwardRef)((function(e,t){return r.a.createElement(de.a,Object.assign({},e,{ref:t}))})),Delete:Object(n.forwardRef)((function(e,t){return r.a.createElement(me.a,Object.assign({},e,{ref:t}))})),DetailPanel:Object(n.forwardRef)((function(e,t){return r.a.createElement(fe.a,Object.assign({},e,{ref:t}))})),Edit:Object(n.forwardRef)((function(e,t){return r.a.createElement(be.a,Object.assign({},e,{ref:t}))})),Export:Object(n.forwardRef)((function(e,t){return r.a.createElement(pe.a,Object.assign({},e,{ref:t}))})),Filter:Object(n.forwardRef)((function(e,t){return r.a.createElement(We.a,Object.assign({},e,{ref:t}))})),FirstPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(Ee.a,Object.assign({},e,{ref:t}))})),LastPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(he.a,Object.assign({},e,{ref:t}))})),NextPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(fe.a,Object.assign({},e,{ref:t}))})),PreviousPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(Oe.a,Object.assign({},e,{ref:t}))})),ResetSearch:Object(n.forwardRef)((function(e,t){return r.a.createElement(de.a,Object.assign({},e,{ref:t}))})),Search:Object(n.forwardRef)((function(e,t){return r.a.createElement(je.a,Object.assign({},e,{ref:t}))})),SortArrow:Object(n.forwardRef)((function(e,t){return r.a.createElement(ve.a,Object.assign({},e,{ref:t}))})),ThirdStateCheck:Object(n.forwardRef)((function(e,t){return r.a.createElement(we.a,Object.assign({},e,{ref:t}))})),ViewColumn:Object(n.forwardRef)((function(e,t){return r.a.createElement(Pe.a,Object.assign({},e,{ref:t}))})),Refresh:Object(n.forwardRef)((function(e,t){return r.a.createElement(qe.a,Object.assign({color:"primary"},e,{ref:t}))})),AddLibrary:Object(n.forwardRef)((function(e,t){return r.a.createElement(Ct,Object.assign({},e,{ref:t}))})),Price:Object(n.forwardRef)((function(e,t){return r.a.createElement(Ue.a,Object.assign({},e,{ref:t}))}))},Jn=Object(j.a)((function(e){return{actionsContainer:{minWidth:"max-content",marginLeft:e.spacing(2)},searchField:{maxWidth:"max-content"},panel:{paddingLeft:e.spacing(12.5),marginTop:e.spacing(1),marginBottom:e.spacing(4)}}})),Kn=function(e,t){return r.a.createElement(L.a,null,r.a.createElement(Ae.a,null,r.a.createElement(F.a,null,t+1)),r.a.createElement(z.a,{primary:e.name,secondary:r.a.createElement(Me.a,{container:!0,direction:"row",justify:"flex-start",spacing:1,alignItems:"center"},r.a.createElement(Me.a,{item:!0},"".concat(e.type?"".concat(e.type.name,", "):""," ").concat(e.unit.name)))}),r.a.createElement(M.a,null))};function Yn(e){var t=Jn(),a=Object(n.createRef)(),c=Object(n.useState)(!0),o=Object(m.a)(c,2),l=o[0],i=o[1],s=Object(n.useState)(!1),d=Object(m.a)(s,2),f=d[0],b=d[1],p=Object(n.useState)([]),g=Object(m.a)(p,2),E=g[0],h=g[1],O=Object(n.useState)({}),j=Object(m.a)(O,2),v=j[0],w=j[1],P=Object(n.useState)({}),x=Object(m.a)(P,2),F=x[0],C=x[1],R=Object(n.useState)(!1),S=Object(m.a)(R,2),y=(S[0],S[1]),D=Object(n.useState)([]),V=Object(m.a)(D,2),I=(V[0],V[1]),T=Object(n.useState)(!1),A=Object(m.a)(T,2),M=A[0],k=A[1],L=Object(n.useState)(!1),N=Object(m.a)(L,2),z=N[0],W=N[1],_=r.a.useState({active:n.Fragment}),q=Object(m.a)(_,2),B=q[0],U=q[1],G=function(e,t){U({active:e,data:t}),W(!0)},H=Object(n.useState)(!1),X=Object(m.a)(H,2),Z=X[0],Q=X[1],J=Object(n.useState)([]),K=Object(m.a)(J,2),Y=K[0],$=K[1],ee=function(){var t=Object(Te.a)(Ie.a.mark((function t(a){var n;return Ie.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(a.map(function(){var t=Object(Te.a)(Ie.a.mark((function t(a){return Ie.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log("borrada",a.id),t.next=4,ne.delete("".concat(e.url,"/").concat(a.id));case 4:return t.abrupt("return",t.sent);case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()));case 2:n=Object(te.a)(E),a.forEach((function(e){n=n.filter((function(t){return t.tableData.id!==e.tableData.id}))})),h(n);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),ae=[{title:"Id",field:"id",hidden:!0},{title:"Nombre",field:"name",filtering:!1,render:function(e){return e.fullName},validate:function(e){return"undefined"!=typeof e.name&&(""!==e.name.trim()||{isValid:!1,helperText:"Nombre es requerido"})}},{title:"Tipo",field:"type.id",editable:"never",lookup:F},{title:"Unidad de Medida",field:"unit.id",lookup:v,validate:function(e){return"undefined"!=typeof e.unit},editComponent:function(e){return r.a.createElement(ke.a,null,r.a.createElement(Le.a,{value:e.value,displayEmpty:!0,disabled:null!=e.rowData.type,onChange:function(t){return e.onChange(t.target.value)}},Object.entries(v).map((function(e){var t=Object(m.a)(e,2),a=t[0],n=t[1];return r.a.createElement(Ne.a,{value:a},n)}))))}}],ue=[{name:"Cemento",form:An},{name:"Arena",form:Mn},{name:"Piedrin",form:kn},{name:"Hierro",form:Ln},{name:"Alambre de Amarre",form:Nn},{name:"Block",form:zn},{name:"Recubrimiento Premezclado",form:Wn},{name:"Pintura",form:_n},{name:"Electromalla",form:qn}];Object(n.useEffect)((function(){ne.get("units/catal").then((function(e){w(e.data)})).catch((function(e){I(["Cannot load user data"]),y(!0)}))}),[f]),Object(n.useEffect)((function(){ne.get("materialtypes/catal").then((function(e){C(e.data)})).catch((function(e){I(["Cannot load user data"]),y(!0)}))}),[f]),Object(n.useEffect)((function(){i(!0),ne.get(e.url).then((function(e){console.log("consola aqui"+e.data),h(e.data),i(!1)})).catch((function(e){I(["Cannot load user data"]),y(!0)}))}),[f]);return r.a.createElement(n.Fragment,null,r.a.createElement(oe.a,{tableRef:a,icons:Qn,title:e.title,columns:ae,data:E,isLoading:l,editable:{isEditHidden:function(e){return!0},isEditable:function(e){return!e.restricted},isDeletable:function(e){return!e.restricted},onRowUpdate:function(t,a){return new Promise((function(n){!function(t,a,n){var r=[];r.length<1?ne.put("".concat(e.url,"/").concat(t.id),t).then((function(e){var t=Object(te.a)(E);t[a.tableData.id]=e.data,h(Object(te.a)(t)),n(),y(!1),I([])})).catch((function(e){I(["update failed! Server error"]),y(!0),n()})):(I(r),y(!0),n())}(t,a,n)}))},onRowDelete:function(t){return new Promise((function(a){!function(t,a){ne.delete("".concat(e.url,"/").concat(t.id)).then((function(e){var n=Object(te.a)(E),r=t.tableData.id;n.splice(r,1),h(Object(te.a)(n)),a()})).catch((function(e){I(["Delete failed! Server error"]),y(!0),a()}))}(t,a)}))}},options:{actionsColumnIndex:-1,filtering:!0,searchFieldAlignment:"right",addRowPosition:"first",selection:!0,sorting:!0,pageSize:10,pageSizeOptions:[10],paginationType:"normal",padding:"dense",headerStyle:{paddingTop:8,paddingBottom:8,fontSize:"0.75rem",color:u.a[900],backgroundColor:u.a[100],borderTopLeftRadius:2,borderTopRightRadius:2},rowStyle:{},cellStyle:{paddingTop:10,paddingBottom:10},searchFieldStyle:{maxWidth:"max-content"}},actions:[{icon:Qn.Edit,tooltip:"Editar",onClick:function(e,t){t.type?G(Xn[t.type.id],t):G(Xn[0],t)},position:"row"},{icon:Qn.Refresh,tooltip:"Actualizar",isFreeAction:!0,onClick:function(){b((function(e){return!e}))}},{tooltip:"Eliminar materiales",icon:Qn.Delete,onClick:function(e,t){$(t),Q(!0)}},{icon:function(){return r.a.createElement(Qn.AddLibrary,{setData:h,actions:ue})},isFreeAction:!0},{icon:function(){return r.a.createElement(le.a,{color:"secondary",size:"medium"},r.a.createElement(se.a,null)," ")},tooltip:"Nuevo Material",isFreeAction:!0,onClick:function(){return k(!0)}}],components:{Toolbar:function(e){return r.a.createElement("div",{style:{backgroundColor:"#e4e5eb"}},r.a.createElement(ce.MTableToolbar,Object.assign({classes:{actions:t.actionsContainer,searchField:t.searchField}},e)))},Container:function(e){return r.a.createElement(ie.a,Object.assign({elevation:0},e),e.children)}},localization:re(e.label)}),r.a.createElement(Lt,{classes:{paper:t.paper},id:"rows-to-delete",keepMounted:!0,showTitle:function(e){return"\xbfEsta seguro de eliminar ".concat(e.length>1?"estos ".concat(e.length," materiales?"):"este material ?")},showRow:Kn,open:Z,onClose:function(){Q(!1)},data:Y,onConfirm:ee}),r.a.createElement(B.active,{closeModal:function(){W(!1)},open:z,rowData:B.data,rowsData:E,setRowsData:h}),r.a.createElement(Bn,{closeModal:function(){return k(!1)},openModal:M,setData:h}))}var $n,er=a(615),tr=a(258),ar=a.n(tr),nr=a(335),rr=a(291),cr=a.n(rr),or=a(292),lr=a.n(or),ir=a(589),sr=a(627),ur=a(11),dr=a.n(ur),mr=a(345),fr={font:{name:"Arial",sz:14,bold:!0,color:{rgb:"FFFFFFFF"}},alignment:{horizontal:"center",vertical:"center"},fill:{bgColor:{rgb:"FF424242"},fgColor:{rgb:"FF424242"}}},br={font:{name:"Arial",sz:12,bold:!0,color:{rgb:"FFFFFFFF"}},alignment:{horizontal:"center",vertical:"center"},fill:{bgColor:{rgb:"FF1D4D87"},fgColor:{rgb:"FF1D4D87"}}},pr={font:{name:"Arial",sz:10,bold:!0,color:{rgb:"FFFFFFFF"}},alignment:{horizontal:"center",vertical:"center"},fill:{bgColor:{rgb:"FF1D4D87"},fgColor:{rgb:"FF1D4D87"}}},gr={font:{name:"Arial",sz:10,bold:!0,color:{rgb:"ff0a6266"}},alignment:{horizontal:"center",vertical:"center"},fill:{bgColor:{rgb:"ffe3f0f0"},fgColor:{rgb:"ffe3f0f0"}}},Er={font:{name:"Arial",sz:10,bold:!0},alignment:{horizontal:"left",vertical:"center"},fill:{bgColor:{rgb:"FFF5F5F5"},fgColor:{rgb:"FFF5F5F5"}}},hr={font:{name:"Arial",sz:10,bold:!0},alignment:{horizontal:"center",vertical:"center"},fill:{bgColor:{rgb:"E3F0F0"},fgColor:{rgb:"E3F0F0"}}},Or={font:{name:"Arial",sz:10,bold:!0},alignment:{horizontal:"center",vertical:"center"}},jr={font:{name:"Arial",sz:10},alignment:{vertical:"center"}},vr=function(e){return e||""},wr=function(e,t){return[[t+1,e.fullName||"",e.unitAmount||"",e.unit.symbol||"",e.unitCost||0,e.totalCost||0]]},Pr=function(e){return e.map((function(e){return{"No.":"",DESCRIPCION:e.name,CANTIDAD:e.totalAmount,UNIDAD:e.unit.symbol,"COSTO UNIT.":e.price,"COSTO TOTAL":e.totalPrice}}))},xr=function(e){return e.map((function(e,t){return{"No.":t+1,DESCRIPCION:e.name,CANTIDAD:e.amount,UNIDAD:e.unit,PRECIO:e.price,TOTAL:e.total,PROVEEDOR:e.supplier}}))},Fr=function(e){return e.reduce((function(e,t){return e+t.totalCost}),0)},Cr=function(e,t){var a,n=dr.a.utils.aoa_to_sheet([[]]),r=e.project,c=e.client,o=e.architect,l=e.name;n["!merges"]=[{s:{r:0,c:0},e:{r:0,c:4}},{s:{r:0,c:5},e:{r:6,c:5}},{s:{r:7,c:0},e:{r:7,c:5}}],n["!cols"]||(n["!cols"]=[]),n["!cols"][0]={wch:3},n["!cols"][1]={wch:50},n["!cols"][2]={wch:12},n["!cols"][3]={wch:12},n["!cols"][4]={wch:15},n["!cols"][5]={wch:18},n["!cols"][6]={wch:50},dr.a.utils.sheet_add_aoa(n,function(e){return[["PRESUPUESTO ".concat(e.toUpperCase())]]}(r.name),{origin:"A1"}),dr.a.utils.sheet_add_aoa(n,[["".concat(t)]],{origin:"A8"}),dr.a.utils.sheet_add_aoa(n,[[""]],{origin:"G8"}),dr.a.utils.sheet_add_aoa(n,function(e,t,a){return[["UBICACI\xd3N"],["".concat(vr(e).toUpperCase())],["CLIENTE"],[t?"".concat(t.name.toUpperCase()):""],["ARQUITECTO"],["".concat(vr(a).toUpperCase())]]}(r.address,c,o),{origin:"B2"}),dr.a.utils.sheet_add_aoa(n,(a=l,[["FECHA","".concat((new Date).toLocaleDateString("en-GB"))],["PRESUPUESTO","".concat(vr(a).toUpperCase())]]),{origin:"D2"}),n.A1.s=fr,n.A8.s=br;for(var i=2;i<8;i++)n["B".concat(i)].s=i%2==0?jr:Object(f.a)(Object(f.a)({},jr),{},{font:{name:"Arial",sz:12,bold:!0}});return n.D2.s=jr,n.D3.s=jr,n.E2.s=Object(f.a)(Object(f.a)({},jr),{},{font:{name:"Arial",sz:12,bold:!0}}),n.E3.s=Object(f.a)(Object(f.a)({},jr),{},{font:{name:"Arial",sz:12,bold:!0}}),n},Rr=function(e){for(var t=dr.a.utils.decode_range(e["!ref"]),a=t.s.r;a<=t.e.r;a++)e["!rows"]||(e["!rows"]=[]),e["!rows"][a]={hpt:18},0===a&&(e["!rows"][a]={hpt:22});return e},Sr=function(e){for(var t=dr.a.utils.decode_range(e["!ref"]),a=dr.a.utils.decode_col("A"),n=dr.a.utils.decode_col("C"),r=dr.a.utils.decode_col("E"),c=dr.a.utils.decode_col("F"),o='"Q"#,##0.00',l=t.s.r+9;l<=t.e.r;l++){var i=dr.a.utils.encode_cell({r:l,c:a}),s=dr.a.utils.encode_cell({r:l,c:n}),u=dr.a.utils.encode_cell({r:l,c:r}),d=dr.a.utils.encode_cell({r:l,c:c});if(e[i]){if("n"!=e[i].t)continue;e[i].z="#"}if(e[s]){if("n"!=e[s].t)continue;e[s].z="0.00"}if(e[u]){if("n"!=e[u].t)continue;e[u].z=o}if(e[d]){if("n"!=e[d].t)continue;e[d].z=o}}return e},yr=function(e){var t=Cr(e[0].budget,"RESUMEN DE PRESUPUESTO"),a=e.length,n="A".concat(a+10),r="F".concat(a+10);t["!merges"]=[].concat(Object(te.a)(t["!merges"]),[{s:{r:a+9,c:0},e:{r:a+9,c:4}}]),dr.a.utils.sheet_add_json(t,function(e){return e.map((function(e,t){return{"No.":t+1,DESCRIPCION:e.fullName,CANTIDAD:e.unitAmount,UNIDAD:e.unit.symbol,"COSTO UNIT.":e.unitCost||0,"COSTO TOTAL":e.totalCost||0}}))}(e),{origin:"A9"}),dr.a.utils.sheet_add_aoa(t,[["COSTO TOTAL"]],{origin:n}),dr.a.utils.sheet_add_aoa(t,[[Fr(e)]],{origin:r}),t.A9.s=pr,t["B".concat("9")].s=Object(f.a)(Object(f.a)({},pr),{},{alignment:{horizontal:"left",vertical:"center"}}),t["C".concat("9")].s=pr,t["D".concat("9")].s=pr,t["E".concat("9")].s=pr,t["F".concat("9")].s=pr;for(var c=dr.a.utils.decode_range(t["!ref"]),o=c.s.r+9;o<=a+9;++o)for(var l=c.s.c;l<=5;++l)if(l<2){if(!t[dr.a.utils.encode_cell({r:o,c:l})])continue;t[dr.a.utils.encode_cell({r:o,c:l})].s=Object(f.a)(Object(f.a)({},jr),{},{alignment:{horizontal:"left",vertical:"center"}})}else if(l<4&&l>=2){if(!t[dr.a.utils.encode_cell({r:o,c:l})])continue;t[dr.a.utils.encode_cell({r:o,c:l})].s=Object(f.a)(Object(f.a)({},jr),{},{alignment:{horizontal:"center",vertical:"center"}})}else{if(!t[dr.a.utils.encode_cell({r:o,c:l})])continue;t[dr.a.utils.encode_cell({r:o,c:l})].s=jr}return t[n].s=br,t[r].s=Object(f.a)(Object(f.a)({},br),{},{alignment:{horizontal:"right",vertical:"center"}}),(t=Sr(t))[r].z='"Q"#,##0.00',t[r].f="SUM(".concat(dr.a.utils.encode_cell({r:9,c:5}),":").concat(dr.a.utils.encode_cell({r:a+8,c:5}),")"),t[r].F="".concat(r,":").concat(r),Rr(t)},Dr=function(){var e=Object(Te.a)(Ie.a.mark((function e(t){var a,n,r,c,o,l,i,s,u,d,m,b,p,g,E,h;return Ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=function(){return(u=Object(Te.a)(Ie.a.mark((function e(t){var a,n;return Ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l(t);case 2:return a=e.sent,e.next=5,Object.values(mr.a.groupBy(mr.a.flatten(a),(function(e){return e.materialPrice.id})));case 5:return n=e.sent,e.next=8,n.map((function(e){return e.reduce((function(e,t){return console.log("Costo en materiales export",t),e.name=t.name,e.amount=e.amount+t.totalAmount,e.unit=t.unit.symbol,e.price=t.price,e.total=e.total+t.totalPrice,e.supplier=t.materialPrice.supplier?"".concat(t.materialPrice.supplier.name||""):"",e}),{name:"",amount:0,unit:"",price:"",total:0,supplier:""})}));case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)},s=function(e){return u.apply(this,arguments)},i=function(){return(i=Object(Te.a)(Ie.a.mark((function e(t){var a;return Ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Promise.all(t.map(function(){var e=Object(Te.a)(Ie.a.mark((function e(t){var a;return Ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ne.get("rows/".concat(t,"/mtlcosts"));case 3:return a=e.sent,e.abrupt("return",a.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}())),e.abrupt("return",a);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)},l=function(e){return i.apply(this,arguments)},a=Cr(t[0].budget,"LISTADO DE MATERIALES"),n=t.map((function(e){return e.id})),e.t0=s,e.next=9,n;case 9:return e.t1=e.sent,e.next=12,(0,e.t0)(e.t1);case 12:return r=e.sent,e.next=15,r.length;case 15:return c=e.sent,o=t[0].budget,o.project,o.client,o.architect,o.name,d="A9",m="9",b="A".concat(c+10),p="F".concat(c+10),a["!merges"]=[{s:{r:0,c:0},e:{r:0,c:4}},{s:{r:0,c:5},e:{r:6,c:5}},{s:{r:7,c:0},e:{r:7,c:5}},{s:{r:c+9,c:0},e:{r:c+9,c:4}}],e.t2=dr.a.utils,e.t3=a,e.t4=xr,e.next=27,r;case 27:for(e.t5=e.sent,e.t6=(0,e.t4)(e.t5),e.t7={origin:d},e.t2.sheet_add_json.call(e.t2,e.t3,e.t6,e.t7),dr.a.utils.sheet_add_aoa(a,[[""]],{origin:p}),g=dr.a.utils.decode_range(a["!ref"]),E=2;E<8;E++)a["B".concat(E)].s=E%2==0?jr:Object(f.a)(Object(f.a)({},jr),{},{font:{name:"Arial",sz:12,bold:!0}});return e.next=36,r.length;case 36:if(e.t8=e.sent,!(e.t8>0)){e.next=46;break}a[d].s=pr,a["B".concat(m)].s=Object(f.a)(Object(f.a)({},pr),{},{alignment:{horizontal:"left",vertical:"center"}}),a["C".concat(m)].s=pr,a["D".concat(m)].s=pr,a["E".concat(m)].s=pr,a["F".concat(m)].s=pr,a["G".concat(m-1)].s=gr,a["G".concat(m)].s=gr;case 46:E=g.s.r+9;case 47:if(!(E<=c+9)){e.next=71;break}h=g.s.c;case 49:if(!(h<=6)){e.next=68;break}if(!(h<2)){e.next=56;break}if(a[dr.a.utils.encode_cell({r:E,c:h})]){e.next=53;break}return e.abrupt("continue",65);case 53:a[dr.a.utils.encode_cell({r:E,c:h})].s=Object(f.a)(Object(f.a)({},jr),{},{alignment:{horizontal:"left",vertical:"center"}}),e.next=65;break;case 56:if(!(h<4&&h>=2)){e.next=62;break}if(a[dr.a.utils.encode_cell({r:E,c:h})]){e.next=59;break}return e.abrupt("continue",65);case 59:a[dr.a.utils.encode_cell({r:E,c:h})].s=Object(f.a)(Object(f.a)({},jr),{},{alignment:{horizontal:"center",vertical:"center"}}),e.next=65;break;case 62:if(a[dr.a.utils.encode_cell({r:E,c:h})]){e.next=64;break}return e.abrupt("continue",65);case 64:a[dr.a.utils.encode_cell({r:E,c:h})].s=jr;case 65:++h,e.next=49;break;case 68:++E,e.next=47;break;case 71:return e.next=73,r.length;case 73:if(e.t9=e.sent,!(e.t9>0)){e.next=81;break}dr.a.utils.sheet_add_aoa(a,[["COSTO TOTAL"]],{origin:b}),a[b].s=br,a[p].z='"Q"#,##0.00',a[p].F="".concat(p,":").concat(p),a[p].f="SUM(".concat(dr.a.utils.encode_cell({r:9,c:5}),":").concat(dr.a.utils.encode_cell({r:c+8,c:5}),")"),a[p].s=Object(f.a)(Object(f.a)({},br),{},{alignment:{horizontal:"right",vertical:"center"}});case 81:return a=Sr(a),e.t10=console,e.next=85,r;case 85:return e.t11=e.sent,e.t10.log.call(e.t10,"costos",e.t11),e.abrupt("return",Rr(a));case 88:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Vr=function(){var e=Object(Te.a)(Ie.a.mark((function e(t){var a,n,r,c,o,l,i,s,u,d;return Ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d=function(){return(d=Object(Te.a)(Ie.a.mark((function e(t){return Ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)},u=function(e){return d.apply(this,arguments)},s=function(){return(s=Object(Te.a)(Ie.a.mark((function e(t){var a;return Ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Promise.all(t.map(function(){var e=Object(Te.a)(Ie.a.mark((function e(t){var a,n,r;return Ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ne.get("rows/".concat(t.id,"/mtlcosts"));case 3:return a=e.sent,e.next=6,ne.get("rows/".concat(t.id,"/wfcosts"));case 6:return n=e.sent,e.next=9,ne.get("rows/".concat(t.id,"/indcosts"));case 9:return r=e.sent,e.abrupt("return",Object(f.a)(Object(f.a)({},t),{},{materialCosts:a.data,workForceCosts:n.data,indirectCosts:r.data}));case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}())),e.abrupt("return",a);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)},i=function(e){return s.apply(this,arguments)},a=Cr(t[0].budget,"PRESUPUESTO DESGLOSADO"),e.t0=u,e.next=8,t;case 8:return e.t1=e.sent,e.next=11,(0,e.t0)(e.t1);case 11:return n=e.sent,e.next=14,n.length;case 14:return e.sent,r=9,c=t[0].budget,c.project,c.client,c.architect,c.name,o='"Q"#,##0.00',"#",l="0.00",a["!rows"]||(a["!rows"]=[]),n.forEach(function(){var e=Object(Te.a)(Ie.a.mark((function e(t,n){var c,i;return Ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r++,dr.a.utils.sheet_add_json(a,wr(t,n),{origin:"A".concat(r++),skipHeader:!0}),a["A".concat(r-1)].s=pr,a["A".concat(r-1)].z="#",a["B".concat(r-1)].s=Object(f.a)(Object(f.a)({},pr),{},{alignment:{horizontal:"left",vertical:"center"}}),a["C".concat(r-1)].s=pr,a["C".concat(r-1)].z=l,a["D".concat(r-1)].s=pr,a["E".concat(r-1)].s=Object(f.a)(Object(f.a)({},pr),{},{alignment:{horizontal:"right",vertical:"center"}}),a["E".concat(r-1)].z=o,a["F".concat(r-1)].s=Object(f.a)(Object(f.a)({},pr),{},{alignment:{horizontal:"right",vertical:"center"}}),a["F".concat(r-1)].z=o,dr.a.utils.sheet_add_aoa(a,[["","DESCRIPCION","CANTIDAD","UNIDAD","COSTO UNIT.","COSTO TOTAL"]],{origin:"A".concat(r++)}),a["A".concat(r-1)].s=pr,a["B".concat(r-1)].s=Object(f.a)(Object(f.a)({},pr),{},{alignment:{horizontal:"left",vertical:"center"}}),a["C".concat(r-1)].s=pr,a["D".concat(r-1)].s=pr,a["E".concat(r-1)].s=pr,a["F".concat(r-1)].s=pr,!(t.materialCosts.length>0)){e.next=68;break}dr.a.utils.sheet_add_aoa(a,[["","MATERIALES","","","",""]],{origin:"A".concat(r++)}),a["A".concat(r-1)].s=Er,a["B".concat(r-1)].s=Er,a["C".concat(r-1)].s=Er,a["D".concat(r-1)].s=Er,a["E".concat(r-1)].s=Er,a["F".concat(r-1)].s=Er,dr.a.utils.sheet_add_json(a,Pr(t.materialCosts),{origin:"A".concat(r),skipHeader:!0}),c=r-1;case 29:if(!(c<r+t.materialCosts.length+9)){e.next=53;break}i=0;case 31:if(!(i<=5)){e.next=50;break}if(!(i<2)){e.next=38;break}if(a[dr.a.utils.encode_cell({r:c,c:i})]){e.next=35;break}return e.abrupt("continue",47);case 35:a[dr.a.utils.encode_cell({r:c,c:i})].s=Object(f.a)(Object(f.a)({},jr),{},{alignment:{horizontal:"left",vertical:"center"}}),e.next=47;break;case 38:if(!(i<4&&i>=2)){e.next=44;break}if(a[dr.a.utils.encode_cell({r:c,c:i})]){e.next=41;break}return e.abrupt("continue",47);case 41:a[dr.a.utils.encode_cell({r:c,c:i})].s=Object(f.a)(Object(f.a)({},jr),{},{alignment:{horizontal:"center",vertical:"center"}}),e.next=47;break;case 44:if(a[dr.a.utils.encode_cell({r:c,c:i})]){e.next=46;break}return e.abrupt("continue",47);case 46:a[dr.a.utils.encode_cell({r:c,c:i})].s=jr;case 47:++i,e.next=31;break;case 50:c++,e.next=29;break;case 53:c=r-1;case 54:if(!(c<r+t.materialCosts.length+9)){e.next=61;break}if(a[dr.a.utils.encode_cell({r:c,c:2})]){e.next=57;break}return e.abrupt("continue",58);case 57:a[dr.a.utils.encode_cell({r:c,c:2})].z=l;case 58:c++,e.next=54;break;case 61:r+=t.materialCosts.length,a["!merges"]=[].concat(Object(te.a)(a["!merges"]),[{s:{r:r-1,c:1},e:{r:r-1,c:4}}]),dr.a.utils.sheet_add_aoa(a,[["","Subtotal de materiales","","","","".concat(t.materialCost)]],{origin:"A".concat(r++)}),a["B".concat(r-1)].s=Or,a["F".concat(r-1)].s=Object(f.a)(Object(f.a)({},Or),{},{alignment:{horizontal:"right",vertical:"center"}}),a["F".concat(r-1)].t="n",a["F".concat(r-1)].z=o;case 68:if(!(t.workForceCosts.length>0)){e.next=117;break}dr.a.utils.sheet_add_aoa(a,[["","MANO DE OBRA","","","",""]],{origin:"A".concat(r++)}),a["A".concat(r-1)].s=Er,a["B".concat(r-1)].s=Er,a["C".concat(r-1)].s=Er,a["D".concat(r-1)].s=Er,a["E".concat(r-1)].s=Er,a["F".concat(r-1)].s=Er,dr.a.utils.sheet_add_json(a,Pr(t.workForceCosts),{origin:"A".concat(r),skipHeader:!0}),c=r-1;case 78:if(!(c<r+t.workForceCosts.length+9)){e.next=102;break}i=0;case 80:if(!(i<=5)){e.next=99;break}if(!(i<2)){e.next=87;break}if(a[dr.a.utils.encode_cell({r:c,c:i})]){e.next=84;break}return e.abrupt("continue",96);case 84:a[dr.a.utils.encode_cell({r:c,c:i})].s=Object(f.a)(Object(f.a)({},jr),{},{alignment:{horizontal:"left",vertical:"center"}}),e.next=96;break;case 87:if(!(i<4&&i>=2)){e.next=93;break}if(a[dr.a.utils.encode_cell({r:c,c:i})]){e.next=90;break}return e.abrupt("continue",96);case 90:a[dr.a.utils.encode_cell({r:c,c:i})].s=Object(f.a)(Object(f.a)({},jr),{},{alignment:{horizontal:"center",vertical:"center"}}),e.next=96;break;case 93:if(a[dr.a.utils.encode_cell({r:c,c:i})]){e.next=95;break}return e.abrupt("continue",96);case 95:a[dr.a.utils.encode_cell({r:c,c:i})].s=jr;case 96:++i,e.next=80;break;case 99:c++,e.next=78;break;case 102:c=r-1;case 103:if(!(c<r+t.workForceCosts.length+9)){e.next=110;break}if(a[dr.a.utils.encode_cell({r:c,c:2})]){e.next=106;break}return e.abrupt("continue",107);case 106:a[dr.a.utils.encode_cell({r:c,c:2})].z=l;case 107:c++,e.next=103;break;case 110:r+=t.workForceCosts.length,a["!merges"]=[].concat(Object(te.a)(a["!merges"]),[{s:{r:r-1,c:1},e:{r:r-1,c:4}}]),dr.a.utils.sheet_add_aoa(a,[["","Subtotal de mano de obra","","","","".concat(t.workForceCost)]],{origin:"A".concat(r++)}),a["B".concat(r-1)].s=Or,a["F".concat(r-1)].s=Object(f.a)(Object(f.a)({},Or),{},{alignment:{horizontal:"right",vertical:"center"}}),a["F".concat(r-1)].t="n",a["F".concat(r-1)].z=o;case 117:if(t.directCost&&(a["!merges"]=[].concat(Object(te.a)(a["!merges"]),[{s:{r:r-1,c:1},e:{r:r-1,c:4}}]),dr.a.utils.sheet_add_aoa(a,[["","TOTAL COSTOS DIRECTOS","","","","".concat(t.directCost)]],{origin:"A".concat(r++)}),a["A".concat(r-1)].s=hr,a["B".concat(r-1)].s=hr,a["F".concat(r-1)].s=Object(f.a)(Object(f.a)({},hr),{},{alignment:{horizontal:"right",vertical:"center"}}),a["F".concat(r-1)].t="n",a["F".concat(r-1)].z=o),!(t.indirectCosts.length>0)){e.next=161;break}dr.a.utils.sheet_add_aoa(a,[["","COSTOS INDIRECTOS","","","",""]],{origin:"A".concat(r++)}),a["A".concat(r-1)].s=Er,a["B".concat(r-1)].s=Er,a["C".concat(r-1)].s=Er,a["D".concat(r-1)].s=Er,a["E".concat(r-1)].s=Er,a["F".concat(r-1)].s=Er,dr.a.utils.sheet_add_json(a,Pr(t.indirectCosts),{origin:"A".concat(r),skipHeader:!0}),c=r-1;case 128:if(!(c<r+t.indirectCosts.length+9)){e.next=152;break}i=0;case 130:if(!(i<=5)){e.next=149;break}if(!(i<2)){e.next=137;break}if(a[dr.a.utils.encode_cell({r:c,c:i})]){e.next=134;break}return e.abrupt("continue",146);case 134:a[dr.a.utils.encode_cell({r:c,c:i})].s=Object(f.a)(Object(f.a)({},jr),{},{alignment:{horizontal:"left",vertical:"center"}}),e.next=146;break;case 137:if(!(i<4&&i>=2)){e.next=143;break}if(a[dr.a.utils.encode_cell({r:c,c:i})]){e.next=140;break}return e.abrupt("continue",146);case 140:a[dr.a.utils.encode_cell({r:c,c:i})].s=Object(f.a)(Object(f.a)({},jr),{},{alignment:{horizontal:"center",vertical:"center"}}),e.next=146;break;case 143:if(a[dr.a.utils.encode_cell({r:c,c:i})]){e.next=145;break}return e.abrupt("continue",146);case 145:a[dr.a.utils.encode_cell({r:c,c:i})].s=jr;case 146:++i,e.next=130;break;case 149:c++,e.next=128;break;case 152:c=r-1;case 153:if(!(c<r+t.indirectCosts.length+9)){e.next=160;break}if(a[dr.a.utils.encode_cell({r:c,c:2})]){e.next=156;break}return e.abrupt("continue",157);case 156:a[dr.a.utils.encode_cell({r:c,c:2})].z=l;case 157:c++,e.next=153;break;case 160:r+=t.indirectCosts.length;case 161:a["!merges"]=[].concat(Object(te.a)(a["!merges"]),[{s:{r:r-1,c:1},e:{r:r-1,c:4}}]),t.indirectCost&&(a["!merges"]=[].concat(Object(te.a)(a["!merges"]),[{s:{r:r-1,c:1},e:{r:r-1,c:4}}]),dr.a.utils.sheet_add_aoa(a,[["","TOTAL COSTOS INDIRECTOS","","","","".concat(t.indirectCost)]],{origin:"A".concat(r++)}),a["A".concat(r-1)].s=hr,a["B".concat(r-1)].s=hr,a["F".concat(r-1)].s=Object(f.a)(Object(f.a)({},hr),{},{alignment:{horizontal:"right",vertical:"center"}}),a["F".concat(r-1)].t="n",a["F".concat(r-1)].z=o),0===t.materialCosts.length&&0===t.workForceCosts.length&&0===t.indirectCosts.length||(a["!merges"]=[].concat(Object(te.a)(a["!merges"]),[{s:{r:r-1,c:1},e:{r:r-1,c:4}}]),dr.a.utils.sheet_add_aoa(a,[["","COSTO TOTAL RENGLON","","","","".concat(t.totalCost||0)]],{origin:"A".concat(r++)}),a["A".concat(r-1)].s=pr,a["B".concat(r-1)].s=pr,a["F".concat(r-1)].t="n",a["F".concat(r-1)].z=o,a["F".concat(r-1)].s=Object(f.a)(Object(f.a)({},pr),{},{alignment:{horizontal:"right",vertical:"center"}}));case 164:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),e.t2=console,e.next=25,n;case 25:return e.t3=e.sent,e.t2.log.call(e.t2,"presupuesto desglosado",e.t3),e.abrupt("return",Rr(a));case 28:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ir=a(192),Tr=a.n(Ir),Ar=a(448),Mr=a.n(Ar),kr=function(e){var t=e.url,a=e.propName,c=e.value,o=e.renderValue,l=e.errors,i=e.touched,s=Object(n.useState)([]),u=Object(m.a)(s,2),d=u[0],f=u[1];return Object(n.useEffect)((function(){ne.get(t).then((function(e){f(e.data)})).catch((function(e){}))}),[]),r.a.createElement(Me.a,{container:!0,spacing:3},r.a.createElement(Me.a,{item:!0,xs:12,md:12},r.a.createElement(ke.a,null,r.a.createElement(Xt.a,{htmlFor:"mix-prop"},"Proporci\xf3n volum\xe9trica (".concat(a,")")),r.a.createElement(Zt.a,{component:Qt.b,disabled:0===d.length,name:"mixProp",defaultValue:c||null,displayEmpty:!0,renderValue:function(e){return e?r.a.createElement(Ne.a,{value:e},o(e)):""},inputProps:{id:"mix-prop"}},d.map((function(e){return r.a.createElement(Ne.a,{value:e},o(e))}))),l.mixProp&&i.mixProp?r.a.createElement("div",null,r.a.createElement(He.a,{color:"error",variant:"caption"},l.mixProp)):null)))},Lr=function(e){var t=e.value,a=e.errors,n=e.touched;return r.a.createElement(kr,{url:"morteros",propName:"Mortero",value:t,renderValue:function(e){return"".concat(e.propCement," cemento  -  ").concat(e.propSand," arena")},errors:a,touched:n})},Nr=function(e){var t=e.value,a=e.errors,n=e.touched;return r.a.createElement(kr,{url:"concretos",propName:"Concreto",value:t,renderValue:function(e){return"".concat(e.propCement," cemento  -  ").concat(e.propSand," arena - ").concat(e.propGravel," piedr\xedn (").concat(e.kgPerSqrCm," \u338f/\u33a0)")},errors:a,touched:n})},zr=a(647),Wr=a(155),_r=a.n(Wr),qr=Object(j.a)({denseItem:{paddingTop:0,paddingBottom:0}}),Br=function(e){var t=e.url,a=e.materialName,c=e.materialLabel,o=e.priceName,l=e.priceLabel,i=e.pctName,s=e.pctLabel,u=e.values,d=e.setFieldValue,b=e.errors,p=e.touched,g=qr(),E=Object(n.useState)([]),h=Object(m.a)(E,2),O=h[0],j=h[1],v=Object(n.useState)(""),w=Object(m.a)(v,2),P=w[0],x=w[1],F=0===O.length;return Object(n.useEffect)((function(){console.log("price en effect",u[o]),u[o]&&x(u[o]),console.log("valor de precio",P)}),[u[o]]),Object(n.useEffect)((function(){F&&ne.get("".concat(t)).then((function(e){j(e.data)})).catch((function(e){}))}),[]),r.a.createElement(Me.a,{container:!0,spacing:3},r.a.createElement(Me.a,{item:!0,xs:12,sm:12,md:6},r.a.createElement(zr.a,{id:"material".concat(c),name:a,options:O,value:u[a],loading:F,openOnFocus:!0,onChange:function(e,t){d(a,t),d(o,t?Object(f.a)({},t.prices.reduce((function(e,t){return t.price>e.price?t:e}),{id:"",material:{},special:!1,price:0,supplier:{}})):null),t||x(null)},getOptionLabel:function(e){return e.name},getOptionDisabled:function(e){return e.prices.length<=0},renderInput:function(e){return r.a.createElement(Jt.a,Object.assign({},e,{name:a,label:c,fullWidth:!0}))}}),b[a]&&p[a]?r.a.createElement("div",null,r.a.createElement(He.a,{color:"error",variant:"caption"},b[a])):null),r.a.createElement(Me.a,{item:!0,xs:12,sm:6,md:3},r.a.createElement(ke.a,{className:g.formControl},r.a.createElement(Xt.a,{id:"".concat(o,"-label")},l),r.a.createElement(Le.a,{labelId:"".concat(o,"-label"),disabled:!u[a]||!u[a].prices||0===u[a].prices.length,id:"demo-simple-select",value:P,onChange:function(e,t){return x(e.target.value)},defaultValue:u[o]?u[o]:null,renderValue:function(e){return e&&e.price?r.a.createElement(Ne.a,{dense:!0,className:g.denseItem,value:e},e.special&&r.a.createElement(_r.a,{color:"secondary",fontSize:"small"}),e.price&&new Intl.NumberFormat("es-GT",{style:"currency",currency:"gtq"}).format(e.price)):null},displayEmpty:!0},u[a]&&u[a].prices.map((function(e){return r.a.createElement(Ne.a,{key:e.id,value:e},e.special&&r.a.createElement(_r.a,{color:"secondary",fontSize:"small"}),e.price?new Intl.NumberFormat("es-GT",{style:"currency",currency:"gtq"}).format(e.price):"")}))),b[o]&&p[o]?r.a.createElement("div",null,r.a.createElement(He.a,{color:"error",variant:"caption"},b[o])):null)),r.a.createElement(Me.a,{item:!0,xs:12,sm:6,md:3},r.a.createElement(Zt.a,{component:Jt.a,name:i,type:"number",label:s,value:u[i],onChange:function(e){return d(i,e.target.value)},inputProps:{min:0,max:100},InputProps:{endAdornment:r.a.createElement(Yt.a,{position:"end"},"%")}}),r.a.createElement(Kt.a,{id:"".concat(i,"-helper-text")},"Opcional"),b[i]&&p[i]?r.a.createElement("div",null,r.a.createElement(He.a,{color:"error",variant:"caption"},b[i])):null))},Ur=function(e){var t=e.values,a=e.setFieldValue,n=e.errors,c=e.touched;return r.a.createElement(Br,{url:"cements",materialName:"cement",materialLabel:"Cemento",priceName:"cementPrice",priceLabel:"Precio de Cemento",pctName:"cementWastePct",pctLabel:"Pct. de Desperdicio",values:t,setFieldValue:a,errors:n,touched:c})},Gr=function(e){var t=e.values,a=e.setFieldValue,n=e.errors,c=e.touched;return r.a.createElement(Br,{url:"sands",materialName:"sand",materialLabel:"Arena",priceName:"sandPrice",priceLabel:"Precio de Arena",pctName:"sandWastePct",pctLabel:"Pct. de Desperdicio",values:t,setFieldValue:a,errors:n,touched:c})},Hr=function(e){var t=e.values,a=e.setFieldValue,n=e.errors,c=e.touched;return r.a.createElement(Br,{url:"gravels",materialName:"gravel",materialLabel:"Piedr\xedn",priceName:"gravelPrice",priceLabel:"Precio de Piedr\xedn",pctName:"gravelWastePct",pctLabel:"Pct. de Desperdicio",values:t,setFieldValue:a,errors:n,touched:c})},Xr=function(e){var t=e.values,a=e.setFieldValue,n=e.errors,c=e.touched;return r.a.createElement(Br,{url:"irons",materialName:"iron",materialLabel:"Hierro",priceName:"ironPrice",priceLabel:"Precio de Hierro",pctName:"ironWastePct",pctLabel:"Pct. de Desperdicio",values:t,setFieldValue:a,errors:n,touched:c})},Zr=function(e){var t=e.label,a=e.values,n=e.setFieldValue,c=e.errors,o=e.touched;return r.a.createElement(Br,{url:"irons",materialName:"longIron",materialLabel:t||"Hierro Longitudinal",priceName:"longIronPrice",priceLabel:"Precio de Hierro",pctName:"longIronWastePct",pctLabel:"Pct. de Desperdicio",values:a,setFieldValue:n,errors:c,touched:o})},Qr=function(e){var t=e.values,a=e.setFieldValue,n=e.errors,c=e.touched;return r.a.createElement(Br,{url:"irons",materialName:"longIronAux",materialLabel:"Hierro Longitudinal Auxiliar",priceName:"longIronAuxPrice",priceLabel:"Precio de Hierro",pctName:"longIronAuxWastePct",pctLabel:"Pct. de Desperdicio",values:t,setFieldValue:a,errors:n,touched:c})},Jr=function(e){var t=e.values,a=e.setFieldValue,n=e.errors,c=e.touched;return r.a.createElement(Br,{url:"irons",materialName:"transIron",materialLabel:"Hierro Transversal",priceName:"transIronPrice",priceLabel:"Precio de Hierro",pctName:"transIronWastePct",pctLabel:"Pct. de Desperdicio",values:t,setFieldValue:a,errors:n,touched:c})},Kr=function(e){var t=e.values,a=e.setFieldValue,n=e.errors,c=e.touched;return r.a.createElement(Br,{url:"tiewires",materialName:"tieWire",materialLabel:"Alambre de Amarre",priceName:"tieWirePrice",priceLabel:"Precio de Alambre",pctName:"tieWireWastePct",pctLabel:"Pct. de Desperdicio",values:t,setFieldValue:a,errors:n,touched:c})},Yr=function(e){var t=e.values,a=e.setFieldValue,n=e.errors,c=e.touched;return r.a.createElement(Br,{url:"blocks",materialName:"block",materialLabel:"Block",priceName:"blockPrice",priceLabel:"Precio de Block",pctName:"blockWastePct",pctLabel:"Pct. de Desperdicio",values:t,setFieldValue:a,errors:n,touched:c})},$r=function(e){var t=e.values,a=e.setFieldValue,n=e.errors,c=e.touched;return r.a.createElement(Br,{url:"premixes",materialName:"preMix",materialLabel:"Recubrimiento Premezclado",priceName:"preMixPrice",priceLabel:"Precio de Recubrimiento",pctName:"preMixnWastePct",pctLabel:"Pct. de Desperdicio",values:t,setFieldValue:a,errors:n,touched:c})},ec=function(e){var t=e.values,a=e.setFieldValue,n=e.errors,c=e.touched;return r.a.createElement(Br,{url:"paints",materialName:"wallPaint",materialLabel:"Pintura para Paredes",priceName:"wallPaintPrice",priceLabel:"Precio de Pintura",pctName:"wallPaintWastePct",pctLabel:"Pct. de Desperdicio",values:t,setFieldValue:a,errors:n,touched:c})},tc=function(e){var t=e.values,a=e.setFieldValue,n=e.errors,c=e.touched;return r.a.createElement(Br,{url:"paints",materialName:"ceilPaint",materialLabel:"Pintura para Cielos",priceName:"ceilPaintPrice",priceLabel:"Precio de Pintura",pctName:"ceilPaintWastePct",pctLabel:"Pct. de Desperdicio",values:t,setFieldValue:a,errors:n,touched:c})},ac=function(e){var t=e.values,a=e.setFieldValue,n=e.errors,c=e.touched;return r.a.createElement(Br,{url:"electromallas",materialName:"electromalla",materialLabel:"Electromalla",priceName:"electromallaPrice",priceLabel:"Precio de electromalla",pctName:"electromallaWastePct",pctLabel:"Pct. de Desperdicio",values:t,setFieldValue:a,errors:n,touched:c})},nc=[{mixProp:qa,cement:Ba,cementPrice:an,cementWastePct:gn,sand:Ua,sandPrice:nn,sandWastePct:En,gravel:Ga,gravelPrice:rn,gravelWastePct:hn},function(e){var t=e.values,a=e.setFieldValue,c=e.errors,o=e.touched;return r.a.createElement(n.Fragment,null,r.a.createElement(Nr,{errors:c,touched:o,values:t}),r.a.createElement(Ur,{values:t,setFieldValue:a,errors:c,touched:o}),r.a.createElement(Gr,{values:t,setFieldValue:a,errors:c,touched:o}),r.a.createElement(Hr,{values:t,setFieldValue:a,errors:c,touched:o}))}],rc=[{mixProp:qa,cement:Ba,cementPrice:an,cementWastePct:gn,sand:Ua,sandPrice:nn},function(e){var t=e.values,a=e.setFieldValue,c=e.errors,o=e.touched;return r.a.createElement(n.Fragment,null,r.a.createElement(Lr,{errors:c,touched:o,value:t.mixProp}),r.a.createElement(Ur,{values:t,setFieldValue:a,errors:c,touched:o}),r.a.createElement(Gr,{values:t,setFieldValue:a,errors:c,touched:o}))}],cc=[{iron:Ha,ironPrice:cn,ironWastePct:On,tieWire:Ja,tieWirePrice:un,tieWireWastePct:wn},function(e){var t=e.values,a=e.setFieldValue,c=e.errors,o=e.touched;return r.a.createElement(n.Fragment,null,r.a.createElement(Xr,{values:t,setFieldValue:a,errors:c,touched:o}),r.a.createElement(Kr,{values:t,setFieldValue:a,errors:c,touched:o}))}],oc=[{longIron:Xa,longIronPrice:on,longIronWastePct:jn,transIron:Qa,transIronPrice:sn,transIronWastePct:vn,tieWire:Ja,tieWirePrice:un,tieWireWastePct:wn},function(e){var t=e.values,a=e.setFieldValue,c=e.errors,o=e.touched;return r.a.createElement(n.Fragment,null,r.a.createElement(Zr,{values:t,setFieldValue:a,errors:c,touched:o}),r.a.createElement(Jr,{values:t,setFieldValue:a,errors:c,touched:o}),r.a.createElement(Kr,{values:t,setFieldValue:a,errors:c,touched:o}))}],lc=[($n={longIron:Xa,longIronPrice:on,longIronWastePct:jn,longIronAux:Za,longIronAuxPrice:ln},Object(b.a)($n,"longIronWastePct",jn),Object(b.a)($n,"transIron",Qa),Object(b.a)($n,"transIronPrice",sn),Object(b.a)($n,"transIronWastePct",vn),Object(b.a)($n,"tieWire",Ja),Object(b.a)($n,"tieWirePrice",un),Object(b.a)($n,"tieWireWastePct",wn),$n),function(e){var t=e.values,a=e.setFieldValue,c=e.errors,o=e.touched;return r.a.createElement(n.Fragment,null,r.a.createElement(Zr,{label:"Hierro Longitudinal Esquinas",values:t,setFieldValue:a,errors:c,touched:o}),r.a.createElement(Qr,{values:t,setFieldValue:a,errors:c,touched:o}),r.a.createElement(Jr,{values:t,setFieldValue:a,errors:c,touched:o}),r.a.createElement(Kr,{values:t,setFieldValue:a,errors:c,touched:o}))}],ic=[{name:ha,profitPct:Oa,height:Fa,area:Ca},function(e){var t=e.values,a=e.setFieldValue,n=e.errors,c=e.touched;return r.a.createElement(Me.a,{container:!0,spacing:3},r.a.createElement(Me.a,{item:!0,xs:12,sm:9},r.a.createElement(ta,{value:t.name,setFieldValue:a,errors:n,touched:c})),r.a.createElement(Me.a,{item:!0,xs:12,sm:3},r.a.createElement(ca,{name:"profitPct",label:"Pct. de Utilidad",value:t.profitPct,setFieldValue:a,errors:n,touched:c,optional:!0})),r.a.createElement(Me.a,{item:!0,xs:12,sm:6},r.a.createElement(ra,{name:"area",label:"Area",value:t.area,setFieldValue:a,errors:n,touched:c})),r.a.createElement(Me.a,{item:!0,xs:12,sm:6},r.a.createElement(aa,{name:"height",label:"Espesor",value:t.height,setFieldValue:a,errors:n,touched:c})))}],sc=[{name:ha,profitPct:Oa,length:Pa,width:xa,height:Fa,recubrimiento:Ia,cantLongsElems:La,separacion:Ta,longHook:Ma},function(e){var t=e.values,a=e.setFieldValue,n=e.errors,c=e.touched;return r.a.createElement(Me.a,{container:!0,spacing:3},r.a.createElement(Me.a,{item:!0,xs:12,sm:8},r.a.createElement(ta,{value:t.name,setFieldValue:a,errors:n,touched:c})),r.a.createElement(Me.a,{item:!0,xs:12,sm:4},r.a.createElement(ca,{name:"profitPct",label:"Pct. de Utilidad",value:t.profitPct,setFieldValue:a,errors:n,touched:c,optional:!0})),r.a.createElement(Me.a,{item:!0,xs:12},r.a.createElement(la,{heightLabel:"Peralte"})),r.a.createElement(Me.a,{item:!0,xs:12,sm:6},r.a.createElement(aa,{name:"recubrimiento",label:"Recubrimiento",value:t.recubrimiento,setFieldValue:a,errors:n,touched:c})),r.a.createElement(Me.a,{item:!0,xs:12,sm:6},r.a.createElement(na,{name:"cantLongsElems",label:"Cantidad elementos longitudinales",value:t.cantLongsElems,setFieldValue:a,errors:n,touched:c})),r.a.createElement(Me.a,{item:!0,xs:12,sm:6},r.a.createElement(aa,{name:"separacion",label:"Separacion Estribos",value:t.separacion,setFieldValue:a,errors:n,touched:c})),r.a.createElement(Me.a,{item:!0,xs:12,sm:6},r.a.createElement(aa,{name:"longHook",label:"Largo Gancho",value:t.longHook,setFieldValue:a,errors:n,touched:c})))}],uc=[{name:ha,profitPct:Oa,amount:ja,length:Pa,width:xa,height:Fa,recubrimiento:Ia,cantLongsElems:La,separacion:Ta,longHook:Ma,longPata:ka},function(e){var t=e.values,a=e.setFieldValue,n=e.errors,c=e.touched;return r.a.createElement(Me.a,{container:!0,spacing:3},r.a.createElement(Me.a,{item:!0,xs:12,sm:8},r.a.createElement(ta,{value:t.name,setFieldValue:a,errors:n,touched:c})),r.a.createElement(Me.a,{item:!0,xs:12,sm:2},r.a.createElement(na,{name:"amount",label:"Cantidad",value:t.amount,setFieldValue:a,errors:n,touched:c})),r.a.createElement(Me.a,{item:!0,xs:12,sm:2},r.a.createElement(ca,{name:"profitPct",label:"Pct. Utilidad",value:t.profitPct,setFieldValue:a,errors:n,touched:c,optional:!0})),r.a.createElement(Me.a,{item:!0,xs:12},r.a.createElement(la,{lengthLabel:"Altura",heightLabel:"Largo"})),r.a.createElement(Me.a,{item:!0,xs:12,sm:12,md:4},r.a.createElement(na,{name:"cantLongsElems",label:"Cantidad elementos longitudinales",value:t.cantLongsElems,setFieldValue:a,errors:n,touched:c})),r.a.createElement(Me.a,{item:!0,xs:12,sm:6,md:4},r.a.createElement(aa,{name:"longPata",label:"Largo Patas",value:t.longPata,setFieldValue:a,errors:n,touched:c})),r.a.createElement(Me.a,{item:!0,xs:12,sm:6,md:4},r.a.createElement(aa,{name:"longHook",label:"Largo Gancho",value:t.longHook,setFieldValue:a,errors:n,touched:c})),r.a.createElement(Me.a,{item:!0,xs:12,sm:6},r.a.createElement(aa,{name:"separacion",label:"Separacion Estribos",value:t.separacion,setFieldValue:a,errors:n,touched:c})),r.a.createElement(Me.a,{item:!0,xs:12,sm:6},r.a.createElement(aa,{name:"recubrimiento",label:"Recubrimiento",value:t.recubrimiento,setFieldValue:a,errors:n,touched:c})))}],dc=[{name:ha,profitPct:Oa,amount:ja,length:Pa,width:xa,height:Fa,recubrimiento:Ia,cantLongsElems:La,cantTransElems:za},function(e){var t=e.values,a=e.setFieldValue,n=e.errors,c=e.touched;return r.a.createElement(Me.a,{container:!0,spacing:3},r.a.createElement(Me.a,{item:!0,xs:12,sm:8},r.a.createElement(ta,{value:t.name,setFieldValue:a,errors:n,touched:c})),r.a.createElement(Me.a,{item:!0,xs:12,sm:2},r.a.createElement(na,{name:"amount",label:"Cantidad",value:t.amount,setFieldValue:a,errors:n,touched:c})),r.a.createElement(Me.a,{item:!0,xs:12,sm:2},r.a.createElement(ca,{name:"profitPct",label:"Pct. Utilidad",value:t.profitPct,setFieldValue:a,errors:n,touched:c,optional:!0})),r.a.createElement(Me.a,{item:!0,xs:12},r.a.createElement(la,{errors:n,touched:c,heightLabel:"Peralte"})),r.a.createElement(Me.a,{item:!0,xs:12,sm:4},r.a.createElement(aa,{name:"recubrimiento",label:"Recubrimiento",value:t.recubrimiento,setFieldValue:a,errors:n,touched:c})),r.a.createElement(Me.a,{item:!0,xs:12,sm:4},r.a.createElement(na,{name:"cantLongsElems",label:"Cantidad elementos longitudinales",value:t.cantLongsElems,setFieldValue:a,errors:n,touched:c})),r.a.createElement(Me.a,{item:!0,xs:12,sm:4},r.a.createElement(na,{name:"cantTransElems",label:"Cantidad elementos transversales",value:t.cantTransElems,setFieldValue:a,errors:n,touched:c})))}],mc=[{name:ha,profitPct:Oa,area:Ca,height:Fa,separacion:Ta,propTension:Wa},function(e){var t=e.values,a=e.setFieldValue,n=e.errors,c=e.touched;return r.a.createElement(Me.a,{container:!0,spacing:3},r.a.createElement(Me.a,{item:!0,xs:12,sm:9},r.a.createElement(ta,{value:t.name,setFieldValue:a,errors:n,touched:c})),r.a.createElement(Me.a,{item:!0,xs:12,sm:3},r.a.createElement(ca,{name:"profitPct",label:"Pct. de Utilidad",value:t.profitPct,setFieldValue:a,errors:n,touched:c,optional:!0})),r.a.createElement(Me.a,{item:!0,xs:12,sm:6},r.a.createElement(ra,{name:"area",label:"Area",value:t.area,setFieldValue:a,errors:n,touched:c})),r.a.createElement(Me.a,{item:!0,xs:12,sm:6},r.a.createElement(aa,{name:"height",label:"Peralte",value:t.height,setFieldValue:a,errors:n,touched:c})),r.a.createElement(Me.a,{item:!0,xs:12,sm:6},r.a.createElement(aa,{name:"separacion",label:"Separacion",value:t.separacion,setFieldValue:a,errors:n,touched:c})),r.a.createElement(Me.a,{item:!0,xs:12,sm:6},r.a.createElement(ca,{name:"propTension",label:"Longitud extra en Tensi\xf3n",value:t.propTension,setFieldValue:a,errors:n,touched:c})))}],fc=[{name:ha,profitPct:Oa,area:Ca,height:Fa,separacion:Ta},function(e){var t=e.values,a=e.setFieldValue,n=e.errors,c=e.touched;return r.a.createElement(Me.a,{container:!0,spacing:3},r.a.createElement(Me.a,{item:!0,xs:12,sm:8},r.a.createElement(ta,{value:t.name,setFieldValue:a,errors:n,touched:c})),r.a.createElement(Me.a,{item:!0,xs:12,sm:4},r.a.createElement(ca,{name:"profitPct",label:"Pct. de Utilidad",value:t.profitPct,setFieldValue:a,errors:n,touched:c,optional:!0})),r.a.createElement(Me.a,{item:!0,xs:12,sm:4},r.a.createElement(ra,{name:"area",label:"Area",value:t.area,setFieldValue:a,errors:n,touched:c})),r.a.createElement(Me.a,{item:!0,xs:12,sm:4},r.a.createElement(aa,{name:"height",label:"Peralte",value:t.height,setFieldValue:a,errors:n,touched:c})),r.a.createElement(Me.a,{item:!0,xs:12,sm:4},r.a.createElement(aa,{name:"separacion",label:"Separacion",value:t.separacion,setFieldValue:a,errors:n,touched:c})))}],bc=[{name:ha,profitPct:Oa,area:Ca,junta:Aa,block:Ka,blockPrice:dn,blockWastePct:Pn},function(e){var t=e.values,a=e.setFieldValue,n=e.errors,c=e.touched;return r.a.createElement(Me.a,{container:!0,spacing:3},r.a.createElement(Me.a,{item:!0,xs:12,sm:9},r.a.createElement(ta,{value:t.name,setFieldValue:a,errors:n,touched:c})),r.a.createElement(Me.a,{item:!0,xs:12,sm:3},r.a.createElement(ca,{name:"profitPct",label:"Pct. de Utilidad",value:t.profitPct,setFieldValue:a,errors:n,touched:c,optional:!0})),r.a.createElement(Me.a,{item:!0,xs:12,sm:6},r.a.createElement(ra,{name:"area",label:"Area",value:t.area,setFieldValue:a,errors:n,touched:c})),r.a.createElement(Me.a,{item:!0,xs:12,sm:6},r.a.createElement(aa,{name:"junta",label:"Junta",value:t.junta,setFieldValue:a,errors:n,touched:c})),r.a.createElement(Me.a,{item:!0,xs:12},r.a.createElement(Yr,{values:t,setFieldValue:a,errors:n,touched:c})))}],pc=[{name:ha,profitPct:Oa,amount:ja,length:Pa,width:xa,height:Fa,estribosDouble:_a,recubrimiento:Ia,cantLongsElems:La,cantLongsAuxElems:Na,separacion:Ta,longHook:Ma,longPata:ka},function(e){var t=e.values,a=e.setFieldValue,n=e.errors,c=e.touched;return r.a.createElement(Me.a,{container:!0,spacing:3},r.a.createElement(Me.a,{item:!0,xs:12,sm:8},r.a.createElement(ta,{value:t.name,setFieldValue:a,errors:n,touched:c})),r.a.createElement(Me.a,{item:!0,xs:12,sm:2},r.a.createElement(na,{name:"amount",label:"Cantidad",value:t.amount,setFieldValue:a,errors:n,touched:c})),r.a.createElement(Me.a,{item:!0,xs:12,sm:2},r.a.createElement(ca,{name:"profitPct",label:"Pct. Utilidad",value:t.profitPct,setFieldValue:a,errors:n,touched:c,optional:!0})),r.a.createElement(Me.a,{item:!0,xs:12},r.a.createElement(la,{lengthLabel:"Altura",heightLabel:"Largo"})),r.a.createElement(Me.a,{item:!0,xs:12,sm:6},r.a.createElement(na,{name:"cantLongsElems",label:"Cantidad Elementos Esquinas",value:t.cantLongsElems,setFieldValue:a,errors:n,touched:c})),r.a.createElement(Me.a,{item:!0,xs:12,sm:6},r.a.createElement(na,{name:"cantLongsAuxElems",label:"Cantidad Elementos Auxiliares",value:t.cantLongsAuxElems,setFieldValue:a,errors:n,touched:c})),r.a.createElement(Me.a,{item:!0,xs:12,sm:6},r.a.createElement(aa,{name:"longPata",label:"Largo Patas",value:t.longPata,setFieldValue:a,errors:n,touched:c})),r.a.createElement(Me.a,{item:!0,xs:12,sm:6},r.a.createElement(aa,{name:"longHook",label:"Largo Gancho",value:t.longHook,setFieldValue:a,errors:n,touched:c})),r.a.createElement(Me.a,{item:!0,xs:12,sm:6},r.a.createElement(aa,{name:"separacion",label:"Separacion Estribos",value:t.separacion,setFieldValue:a,errors:n,touched:c})),r.a.createElement(Me.a,{item:!0,xs:12,sm:6},r.a.createElement(aa,{name:"recubrimiento",label:"Recubrimiento",value:t.recubrimiento,setFieldValue:a,errors:n,touched:c})),r.a.createElement(Me.a,{container:!0,spacing:3},r.a.createElement(Me.a,{item:!0,xs:12,md:3},r.a.createElement(oa,{name:"estribosDouble",label:"Estribos dobles"}))))}],gc=Object(m.a)(uc,2),Ec=gc[0],hc=gc[1],Oc=Object(m.a)(dc,2),jc=Oc[0],vc=Oc[1],wc=Object(m.a)(mc,2),Pc=wc[0],xc=wc[1],Fc=Object(m.a)(fc,2),Cc=Fc[0],Rc=Fc[1],Sc=Object(m.a)(sc,2),yc=Sc[0],Dc=Sc[1],Vc=Object(m.a)(ic,2),Ic=Vc[0],Tc=Vc[1],Ac=Object(m.a)(pc,2),Mc=Ac[0],kc=Ac[1],Lc=function(){return r.a.createElement(Mr.a,{fontSize:"large",color:"primary"})},Nc=r.a.memo((function(e){var t=e.apiId,a=e.budgetId,c=e.FormRow,o=e.title,l=e.formData,i=e.validationSchema,s=e.open,u=e.closeModal,d=e.rowData,b=e.refreshRow,p=e.maxWidth,g="budgets/".concat(a,"/").concat(t),E=Object(n.useState)(),h=Object(m.a)(E,2),O=h[0],j=h[1],v=function(e,t){j({ok:e,msg:t})};return r.a.createElement(St.a,{maxWidth:p||"md",fullWidth:!0,open:s,onClose:function(){return u},"aria-labelledby":"form-dialog-title"},r.a.createElement(Mt,{onClose:u},r.a.createElement(Ut.a,{alternativeLabel:!0},r.a.createElement(Gt.a,{key:"".concat(o)},r.a.createElement(Ht.a,{StepIconComponent:Lc}," ","Actualizar especificaciones de ".concat(o))))),r.a.createElement(Zt.c,{enableReinitialize:!0,initialValues:Object(f.a)({},l),validationSchema:ua.d().shape(Object(f.a)({},i)),onSubmit:function(e,t){var a=t.setSubmitting;t.resetForm;ne.put("".concat(g,"/").concat(l.id),Object(f.a)({},e)).then((function(e){a(!1),b("".concat(g,"/").concat(l.id),d),v(!0,""),u()})).catch((function(e){a(!1),v(!1,"Ocurrio un error")}))}},(function(e){var t=e.submitForm,a=e.isSubmitting,n=e.setFieldValue,o=e.values,l=e.errors,i=e.touched;return r.a.createElement(Zt.b,{autoComplete:"off"},r.a.createElement(yt.a,{dividers:!0},r.a.createElement(c,{values:o,setFieldValue:n,errors:l,touched:i}),a&&r.a.createElement(qt.a,null),r.a.createElement("br",null)),r.a.createElement(Dt.a,null,r.a.createElement(Ge.a,{color:"inherit",onClick:u},"Cancelar"),r.a.createElement(Ge.a,{startIcon:a?r.a.createElement(Bt.a,{size:"1rem"}):null,disabled:a,variant:"contained",color:"primary",type:"submit",onClick:t},a?"Enviando":"Actualizar")),O&&r.a.createElement("p",{className:O.ok?"":"errorMsg"},O.msg))})))})),zc=function(e){var t=e.open,a=e.closeModal,c=e.rowData,o=e.refreshRow,l=Object(n.useState)({}),i=Object(m.a)(l,2),s=i[0],u=i[1],d=c.budget.id,f=c.id;Object(n.useEffect)((function(){ne.get("budgets/".concat(d,"/").concat("extmezclones","/").concat(f)).then((function(e){return u(e.data)})).catch((function(e){}))}),[t]);return r.a.createElement(Nc,{apiId:"extmezclones",title:"Concreteado de Garage y Banquetas",FormRow:function(e){var t=e.values,a=e.setFieldValue,c=e.errors,o=e.touched;return r.a.createElement(n.Fragment,null,r.a.createElement(Tc,{values:t,setFieldValue:a,errors:c,touched:o}),r.a.createElement(Me.a,{container:!0,spacing:3},r.a.createElement(Me.a,{item:!0,xs:12},r.a.createElement(Nr,{errors:c,touched:o,value:s.mixProp}))))},formData:s,validationSchema:Ic,budgetId:d,open:t,closeModal:a,rowData:c,refreshRow:o})},Wc={0:function(e){var t=e.open,a=e.closeModal,c=e.rowData,o=e.refreshRow,l=Object(n.useState)({}),i=Object(m.a)(l,2),s=i[0],u=i[1],d=c.budget.id,f=c.id;Object(n.useEffect)((function(){ne.get("budgets/".concat(d,"/").concat("rows","/").concat(f)).then((function(e){u(e.data)})).catch((function(e){}))}),[t]);return r.a.createElement(Nc,{apiId:"rows",title:"Editar Rengl\xf3n",FormRow:function(e){var t=e.values,a=e.setFieldValue,c=e.errors,o=e.touched,l=Object(n.useState)([]),i=Object(m.a)(l,2),u=i[0],d=i[1];Object(n.useEffect)((function(){ne.get("units").then((function(e){d(e.data)})).catch((function(e){}))}),[]);var f=Object(j.a)({denseItem:{paddingTop:0,paddingBottom:0}})();return r.a.createElement(Me.a,{container:!0,spacing:3},r.a.createElement(Me.a,{item:!0,xs:12},r.a.createElement(ta,{value:t.name,setFieldValue:a,errors:c,touched:o})),r.a.createElement(Me.a,{item:!0,xs:12,sm:4},r.a.createElement(na,{name:"unitAmount",label:"Cantidad",value:t.unitAmount,setFieldValue:a,errors:c,touched:o})),r.a.createElement(Me.a,{item:!0,xs:12,sm:5},r.a.createElement(ke.a,null,r.a.createElement(Xt.a,{htmlFor:"unit"},"Unidad de Medida"),r.a.createElement(Zt.a,{component:Le.a,disabled:0===u.length,name:"unit",onChange:function(e,t){return a("unit",e.target.value)},defaultValue:s.unit||null,displayEmpty:!0,renderValue:function(e){return e?r.a.createElement(Ne.a,{dense:!0,className:f.denseItem,value:e},"".concat(e.name)):""},inputProps:{id:"mix-prop"}},u.map((function(e){return r.a.createElement(Ne.a,{dense:!0,value:e},e.name)}))),c.unit&&o.unit?r.a.createElement("div",null,r.a.createElement(He.a,{color:"error",variant:"caption"},c.unit)):null)),r.a.createElement(Me.a,{item:!0,xs:12,sm:3},r.a.createElement(ca,{name:"profitPct",label:"Pct. de Utilidad",value:t.profitPct,setFieldValue:a,errors:c,touched:o,optional:!0})))},formData:s,validationSchema:{name:ha,unitAmount:va,unit:wa,profitPct:Oa},budgetId:d,open:t,closeModal:a,rowData:c,refreshRow:o})},1:function(e){var t=e.open,a=e.closeModal,c=e.rowData,o=e.refreshRow,l=Object(n.useState)({}),i=Object(m.a)(l,2),s=i[0],u=i[1],d=c.budget.id,f=c.id;Object(n.useEffect)((function(){ne.get("budgets/".concat(d,"/").concat("zapatas","/").concat(f)).then((function(e){return u(e.data)})).catch((function(e){}))}),[t]);return r.a.createElement(Nc,{apiId:"zapatas",title:"Zapata",FormRow:function(e){var t=e.values,a=e.setFieldValue,c=e.errors,o=e.touched;return r.a.createElement(n.Fragment,null,r.a.createElement(vc,{values:t,setFieldValue:a,errors:c,touched:o}),r.a.createElement(Me.a,{container:!0,spacing:3},r.a.createElement(Me.a,{item:!0,xs:12},r.a.createElement(Nr,{errors:c,touched:o,value:s.mixProp}))))},formData:s,validationSchema:jc,budgetId:d,open:t,closeModal:a,rowData:c,refreshRow:o})},2:function(e){var t=e.open,a=e.closeModal,c=e.rowData,o=e.refreshRow,l=Object(n.useState)({}),i=Object(m.a)(l,2),s=i[0],u=i[1],d=c.budget.id,f=c.id;Object(n.useEffect)((function(){ne.get("budgets/".concat(d,"/").concat("losasplanas","/").concat(f)).then((function(e){return u(e.data)})).catch((function(e){}))}),[t]);return r.a.createElement(Nc,{apiId:"losasplanas",title:"Zapata",FormRow:function(e){var t=e.values,a=e.setFieldValue,c=e.errors,o=e.touched;return r.a.createElement(n.Fragment,null,r.a.createElement(xc,{values:t,setFieldValue:a,errors:c,touched:o}),r.a.createElement(Me.a,{container:!0,spacing:3},r.a.createElement(Me.a,{item:!0,xs:12},r.a.createElement(Nr,{errors:c,touched:o,value:s.mixProp}))))},formData:s,validationSchema:Pc,budgetId:d,open:t,closeModal:a,rowData:c,refreshRow:o})},3:function(e){var t=e.open,a=e.closeModal,c=e.rowData,o=e.refreshRow,l=Object(n.useState)({}),i=Object(m.a)(l,2),s=i[0],u=i[1],d=c.budget.id,f=c.id;Object(n.useEffect)((function(){ne.get("budgets/".concat(d,"/").concat("losas","/").concat(f)).then((function(e){return u(e.data)})).catch((function(e){}))}),[t]);return r.a.createElement(Nc,{apiId:"losas",title:"Zapata",FormRow:function(e){var t=e.values,a=e.setFieldValue,c=e.errors,o=e.touched;return r.a.createElement(n.Fragment,null,r.a.createElement(Rc,{values:t,setFieldValue:a,errors:c,touched:o}),r.a.createElement(Me.a,{container:!0,spacing:3},r.a.createElement(Me.a,{item:!0,xs:12},r.a.createElement(Nr,{errors:c,touched:o,value:s.mixProp}))))},formData:s,validationSchema:Cc,budgetId:d,open:t,closeModal:a,rowData:c,refreshRow:o})},4:function(e){var t=e.open,a=e.closeModal,c=e.rowData,o=e.refreshRow,l=Object(n.useState)({}),i=Object(m.a)(l,2),s=i[0],u=i[1],d=c.budget.id,f=c.id;Object(n.useEffect)((function(){ne.get("budgets/".concat(d,"/").concat("cimcorridos","/").concat(f)).then((function(e){return u(e.data)})).catch((function(e){}))}),[t]);return r.a.createElement(Nc,{apiId:"cimcorridos",title:"Cimiento Corrido",FormRow:function(e){var t=e.values,a=e.setFieldValue,c=e.errors,o=e.touched;return r.a.createElement(n.Fragment,null,r.a.createElement(Dc,{values:t,setFieldValue:a,errors:c,touched:o}),r.a.createElement(Me.a,{container:!0,spacing:3},r.a.createElement(Me.a,{item:!0,xs:12},r.a.createElement(Nr,{errors:c,touched:o,value:s.mixProp}))))},formData:s,validationSchema:yc,budgetId:d,open:t,closeModal:a,rowData:c,refreshRow:o})},5:function(e){var t=e.open,a=e.closeModal,c=e.rowData,o=e.refreshRow,l=Object(n.useState)({}),i=Object(m.a)(l,2),s=i[0],u=i[1],d=c.budget.id,f=c.id;Object(n.useEffect)((function(){ne.get("budgets/".concat(d,"/").concat("soleras","/").concat(f)).then((function(e){return u(e.data)})).catch((function(e){}))}),[t]);return r.a.createElement(Nc,{apiId:"soleras",title:"Solera",FormRow:function(e){var t=e.values,a=e.setFieldValue,c=e.errors,o=e.touched;return r.a.createElement(n.Fragment,null,r.a.createElement(Dc,{values:t,setFieldValue:a,errors:c,touched:o}),r.a.createElement(Me.a,{container:!0,spacing:3},r.a.createElement(Me.a,{item:!0,xs:12},r.a.createElement(Nr,{errors:c,touched:o,value:s.mixProp}))))},formData:s,validationSchema:yc,budgetId:d,open:t,closeModal:a,rowData:c,refreshRow:o})},6:function(e){var t=e.open,a=e.closeModal,c=e.rowData,o=e.refreshRow,l=Object(n.useState)({}),i=Object(m.a)(l,2),s=i[0],u=i[1],d=c.budget.id,f=c.id;Object(n.useEffect)((function(){ne.get("budgets/".concat(d,"/columnas/").concat(f)).then((function(e){return u(e.data)})).catch((function(e){}))}),[t]);return r.a.createElement(Nc,{apiId:"columnas",title:"Columna",FormRow:function(e){var t=e.values,a=e.setFieldValue,n=e.errors,c=e.touched;return r.a.createElement(Me.a,{container:!0,alignItems:"center"},r.a.createElement(Me.a,{item:!0,xs:3},r.a.createElement(_t,{image:Tr.a})),r.a.createElement(Me.a,{item:!0,xs:9},r.a.createElement(hc,{values:t,setFieldValue:a,errors:n,touched:c}),r.a.createElement(Me.a,{container:!0,spacing:3},r.a.createElement(Me.a,{item:!0,xs:12},r.a.createElement(Nr,{errors:n,touched:c,value:s.mixProp})))))},formData:s,validationSchema:Ec,budgetId:d,open:t,closeModal:a,maxWidth:"lg",rowData:c,refreshRow:o})},7:function(e){var t=e.open,a=e.closeModal,c=e.rowData,o=e.refreshRow,l=Object(n.useState)({}),i=Object(m.a)(l,2),s=i[0],u=i[1],d=c.budget.id,f=c.id;Object(n.useEffect)((function(){ne.get("budgets/".concat(d,"/").concat("muros","/").concat(f)).then((function(e){return u(e.data)})).catch((function(e){}))}),[t]);var b={name:ha,profitPct:Oa,area:Ca,junta:Aa};return r.a.createElement(Nc,{apiId:"muros",title:"Muro",FormRow:function(e){var t=e.values,a=e.setFieldValue,c=e.errors,o=e.touched;return r.a.createElement(n.Fragment,null,r.a.createElement(Me.a,{container:!0,spacing:3},r.a.createElement(Me.a,{item:!0,xs:12,sm:9},r.a.createElement(ta,{value:t.name,setFieldValue:a,errors:c,touched:o})),r.a.createElement(Me.a,{item:!0,xs:12,sm:3},r.a.createElement(ca,{name:"profitPct",label:"Pct. de Utilidad",value:t.profitPct,setFieldValue:a,errors:c,touched:o,optional:!0}))),r.a.createElement(Me.a,{container:!0,spacing:3},r.a.createElement(Me.a,{item:!0,xs:6},r.a.createElement(ra,{name:"area",label:"Area",value:t.area,setFieldValue:a,errors:c,touched:o})),r.a.createElement(Me.a,{item:!0,xs:6},r.a.createElement(aa,{name:"junta",label:"Junta",value:t.junta,setFieldValue:a,errors:c,touched:o}))),r.a.createElement(Me.a,{container:!0,spacing:3},r.a.createElement(Me.a,{item:!0,xs:12},r.a.createElement(Lr,{errors:c,touched:o,value:s.mixProp}))))},formData:s,validationSchema:b,budgetId:d,open:t,closeModal:a,rowData:c,refreshRow:o})},8:function(e){var t=e.open,a=e.closeModal,c=e.rowData,o=e.refreshRow,l=Object(n.useState)({}),i=Object(m.a)(l,2),s=i[0],u=i[1],d=c.budget.id,f=c.id;Object(n.useEffect)((function(){ne.get("budgets/".concat(d,"/").concat("concmezclones","/").concat(f)).then((function(e){return u(e.data)})).catch((function(e){}))}),[t]);return r.a.createElement(Nc,{apiId:"concmezclones",title:"Mezcl\xf3n de Concreto",FormRow:function(e){var t=e.values,a=e.setFieldValue,c=e.errors,o=e.touched;return r.a.createElement(n.Fragment,null,r.a.createElement(Tc,{values:t,setFieldValue:a,errors:c,touched:o}),r.a.createElement(Me.a,{container:!0,spacing:3},r.a.createElement(Me.a,{item:!0,xs:12},r.a.createElement(Nr,{errors:c,touched:o,value:s.mixProp}))))},formData:s,validationSchema:Ic,budgetId:d,open:t,closeModal:a,rowData:c,refreshRow:o})},9:function(e){var t=e.open,a=e.closeModal,c=e.rowData,o=e.refreshRow,l=Object(n.useState)({}),i=Object(m.a)(l,2),s=i[0],u=i[1],d=c.budget.id,f=c.id;Object(n.useEffect)((function(){ne.get("budgets/".concat(d,"/").concat("mezclones","/").concat(f)).then((function(e){return u(e.data)})).catch((function(e){}))}),[t]);return r.a.createElement(Nc,{apiId:"mezclones",title:"Mezcl\xf3n de Mortero",FormRow:function(e){var t=e.values,a=e.setFieldValue,c=e.errors,o=e.touched;return r.a.createElement(n.Fragment,null,r.a.createElement(Tc,{values:t,setFieldValue:a,errors:c,touched:o}),r.a.createElement(Me.a,{container:!0,spacing:3},r.a.createElement(Me.a,{item:!0,xs:12},r.a.createElement(Lr,{errors:c,touched:o,value:s.mixProp}))))},formData:s,validationSchema:Ic,budgetId:d,open:t,closeModal:a,rowData:c,refreshRow:o})},10:function(e){var t=e.open,a=e.closeModal,c=e.rowData,o=e.refreshRow,l=Object(n.useState)({}),i=Object(m.a)(l,2),s=i[0],u=i[1],d=c.budget.id,f=c.id;Object(n.useEffect)((function(){ne.get("budgets/".concat(d,"/").concat("repellos","/").concat(f)).then((function(e){return u(e.data)})).catch((function(e){}))}),[t]);return r.a.createElement(Nc,{apiId:"repellos",title:"Repello y Cernido",FormRow:function(e){var t=e.values,a=e.setFieldValue,c=e.errors,o=e.touched;return r.a.createElement(n.Fragment,null,r.a.createElement(Tc,{values:t,setFieldValue:a,errors:c,touched:o}),r.a.createElement(Me.a,{container:!0,spacing:3},r.a.createElement(Me.a,{item:!0,xs:12},r.a.createElement(Lr,{errors:c,touched:o,value:s.mixProp}))))},formData:s,validationSchema:Ic,budgetId:d,open:t,closeModal:a,rowData:c,refreshRow:o})},11:zc,12:function(e){var t=e.open,a=e.closeModal,c=e.rowData,o=e.refreshRow,l=Object(n.useState)({}),i=Object(m.a)(l,2),s=i[0],u=i[1],d="columnasespeciales",f=c.budget.id,b=c.id;Object(n.useEffect)((function(){ne.get("budgets/".concat(f,"/").concat(d,"/").concat(b)).then((function(e){return u(e.data)})).catch((function(e){}))}),[t]);return r.a.createElement(Nc,{apiId:d,title:"Columna Especial",FormRow:function(e){var t=e.values,a=e.setFieldValue,n=e.errors,c=e.touched;return r.a.createElement(Me.a,{container:!0,alignItems:"center"},r.a.createElement(Me.a,{constainer:!0,spacing:3,xs:12,sm:3},r.a.createElement(_t,{image:Tr.a})),r.a.createElement(Me.a,{container:!0,spacing:3,xs:12,sm:9},r.a.createElement(kc,{values:t,setFieldValue:a,errors:n,touched:c}),r.a.createElement(Me.a,{item:!0,xs:12,md:12},r.a.createElement(Nr,{errors:n,touched:c,value:s.mixProp}))))},formData:s,validationSchema:Mc,budgetId:f,open:t,closeModal:a,maxWidth:"lg",rowData:c,refreshRow:o})},13:function(e){var t=e.open,a=e.closeModal,c=e.rowData,o=e.refreshRow,l=Object(n.useState)({}),i=Object(m.a)(l,2),s=i[0],u=i[1],d=c.budget.id,f=c.id;Object(n.useEffect)((function(){ne.get("budgets/".concat(d,"/").concat("pinturas","/").concat(f)).then((function(e){return u(e.data)})).catch((function(e){}))}),[t]);return r.a.createElement(Nc,{apiId:"pinturas",title:"Pintura Interior/Exterior",FormRow:function(e){var t=e.values,a=e.setFieldValue,c=e.errors,o=e.touched;return r.a.createElement(n.Fragment,null,r.a.createElement(Me.a,{container:!0,spacing:4},r.a.createElement(Me.a,{item:!0,xs:12,sm:9},r.a.createElement(ta,{value:t.name,setFieldValue:a,errors:c,touched:o})),r.a.createElement(Me.a,{item:!0,xs:12,sm:3},r.a.createElement(ca,{name:"profitPct",label:"Pct. de Utilidad",value:t.profitPct,setFieldValue:a,errors:c,touched:o,optional:!0}))),r.a.createElement(Me.a,{container:!0,spacing:4},r.a.createElement(Me.a,{item:!0,xs:6},r.a.createElement(ra,{name:"wallArea",label:"Area de Pared",value:t.wallArea,helperText:"Area de paredes interiores/exteriores",setFieldValue:a,errors:c,touched:o})),r.a.createElement(Me.a,{item:!0,xs:6},r.a.createElement(ra,{name:"ceilArea",label:"Area de Cielo",value:t.ceilArea,helperText:"Area de superficies de cielo (Opcional)",setFieldValue:a,errors:c,touched:o}))))},formData:s,validationSchema:{name:ha,profitPct:Oa,wallArea:Ra,ceilArea:Sa},budgetId:d,open:t,closeModal:a,rowData:c,refreshRow:o})},14:zc},_c=a(424),qc=a(413),Bc=a(414),Uc=a(408);Object(j.a)((function(e){return{tableTotal:{maxWidth:400,marginLeft:"auto"},totalCell:{paddingRight:95}}}));var Gc=a(165),Hc=a.n(Gc);a(644),a(650),a(645),Object(j.a)((function(e){return{speedDial:{marginRight:e.spacing(1)}}}));Object(j.a)((function(e){return{}})),Object(n.forwardRef)((function(e,t){return r.a.createElement(n.Fragment,null)})),Object(n.forwardRef)((function(e,t){return r.a.createElement(Ye.a,Object.assign({},e,{ref:t}))})),Object(n.forwardRef)((function(e,t){return r.a.createElement(et.a,Object.assign({},e,{ref:t}))})),Object(n.forwardRef)((function(e,t){return r.a.createElement(at.a,Object.assign({},e,{ref:t}))})),Object(n.forwardRef)((function(e,t){return r.a.createElement(A.a,Object.assign({},e,{ref:t}))})),Object(n.forwardRef)((function(e,t){return r.a.createElement(rt.a,Object.assign({},e,{ref:t}))})),Object(n.forwardRef)((function(e,t){return r.a.createElement(mt.a,Object.assign({},e,{ref:t}))})),Object(n.forwardRef)((function(e,t){return r.a.createElement(We.a,Object.assign({},e,{ref:t}))})),Object(n.forwardRef)((function(e,t){return r.a.createElement(ot.a,Object.assign({},e,{ref:t}))})),Object(n.forwardRef)((function(e,t){return r.a.createElement(it.a,Object.assign({},e,{ref:t}))})),Object(n.forwardRef)((function(e,t){return r.a.createElement(A.a,Object.assign({},e,{ref:t}))})),Object(n.forwardRef)((function(e,t){return r.a.createElement(I.a,Object.assign({},e,{ref:t}))})),Object(n.forwardRef)((function(e,t){return r.a.createElement(et.a,Object.assign({},e,{ref:t}))})),Object(n.forwardRef)((function(e,t){return r.a.createElement(bt.a,Object.assign({},e,{ref:t}))})),Object(n.forwardRef)((function(e,t){return r.a.createElement(Je.a,Object.assign({},e,{ref:t}))})),Object(n.forwardRef)((function(e,t){return r.a.createElement(ut.a,Object.assign({},e,{ref:t}))})),Object(n.forwardRef)((function(e,t){return r.a.createElement(gt.a,Object.assign({},e,{ref:t}))}));var Xc=a(449),Zc=a.n(Xc),Qc=a(450),Jc=a.n(Qc),Kc=Object(Vt.a)((function(e){return{tooltip:{backgroundColor:e.palette.common.black,boxShadow:e.shadows[1],fontSize:11},arrow:{color:e.palette.common.black}}}))(nr.a),Yc=(Object(j.a)((function(e){return{tableTotal:{maxWidth:400,marginLeft:"auto"},totalCell:{paddingRight:95}}})),r.a.memo((function(e){var t=e.title,a=e.label,c=e.color,o=e.url,l=e.getColumns,i=e.refreshRow,s=(Object(n.useRef)(1),{Add:Object(n.forwardRef)((function(e,a){return r.a.createElement(Ge.a,{color:"primary",size:"small",startIcon:r.a.createElement(Ze.a,Object.assign({},e,{ref:a}))},t)})),Check:Object(n.forwardRef)((function(e,t){return r.a.createElement(Ye.a,Object.assign({},e,{ref:t}))})),Clear:Object(n.forwardRef)((function(e,t){return r.a.createElement(et.a,Object.assign({},e,{ref:t}))})),Delete:Object(n.forwardRef)((function(e,t){return r.a.createElement(at.a,Object.assign({},e,{ref:t}))})),DetailPanel:Object(n.forwardRef)((function(e,t){return r.a.createElement(A.a,Object.assign({},e,{ref:t}))})),Edit:Object(n.forwardRef)((function(e,t){return r.a.createElement(rt.a,Object.assign({},e,{ref:t}))})),Export:Object(n.forwardRef)((function(e,t){return r.a.createElement(mt.a,Object.assign({},e,{ref:t}))})),Filter:Object(n.forwardRef)((function(e,t){return r.a.createElement(We.a,Object.assign({},e,{ref:t}))})),FirstPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(ot.a,Object.assign({},e,{ref:t}))})),LastPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(it.a,Object.assign({},e,{ref:t}))})),NextPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(A.a,Object.assign({},e,{ref:t}))})),PreviousPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(I.a,Object.assign({},e,{ref:t}))})),ResetSearch:Object(n.forwardRef)((function(e,t){return r.a.createElement(et.a,Object.assign({},e,{ref:t}))})),Search:Object(n.forwardRef)((function(e,t){return r.a.createElement(bt.a,Object.assign({},e,{ref:t}))})),SortArrow:Object(n.forwardRef)((function(e,t){return r.a.createElement(Je.a,Object.assign({},e,{ref:t}))})),ThirdStateCheck:Object(n.forwardRef)((function(e,t){return r.a.createElement(ut.a,Object.assign({},e,{ref:t}))})),ViewColumn:Object(n.forwardRef)((function(e,t){return r.a.createElement(gt.a,Object.assign({},e,{ref:t}))}))}),d=Object(n.useState)([]),b=Object(m.a)(d,2),p=b[0],g=b[1],E=Object(n.useState)(!0),h=Object(m.a)(E,2),O=h[0],j=h[1];Object(n.useEffect)((function(){j(!0),ne.get(o).then((function(e){g(e.data),j(!1)})).catch((function(e){j(!1)}))}),[]);return r.a.createElement(n.Fragment,null,r.a.createElement(oe.a,{icons:s,title:"",columns:l(),data:p,isLoading:O,editable:{isDeletable:function(e){return!e.generated},isEditable:function(e){return 5!=e.type},onRowAdd:function(e){return new Promise((function(t){!function(e,t){[].length<1?ne.post(o,e).then((function(e){var a=Object(te.a)(p);a.push(e.data),g(a),i(),t()})).catch((function(e){t()})):t()}(e,t)}))},onRowUpdate:function(e,t){return new Promise((function(a){!function(e,t,a){[].length<1?(console.log(e),ne.put("".concat(o,"/").concat(e.id),e).then((function(e){var n=Object(te.a)(p);n[t.tableData.id]=Object(f.a)(Object(f.a)({},e.data),{},{tableData:Object(f.a)({},t.tableData)}),g(Object(te.a)(n)),i(),a()})).catch((function(e){a()}))):a()}(e,t,a)}))},onRowDelete:function(e){return new Promise((function(t){!function(e,t){ne.delete("".concat(o,"/").concat(e.id)).then((function(a){var n=Object(te.a)(p),r=e.tableData.id;n.splice(r,1),g(Object(te.a)(n)),i(),t()})).catch((function(e){t()}))}(e,t)}))}},options:{actionsColumnIndex:-1,search:!1,paging:!1,pageSize:5,pageSizeOptions:[5],padding:"dense",headerStyle:{paddingTop:0,paddingBottom:0,fontSize:"0.75rem",color:u.a[800],borderTopLeftRadius:2,borderTopRightRadius:2,borderBottom:"solid 2px ".concat(c)},cellStyle:{paddingTop:8,paddingBottom:8}},components:{Container:function(e){return r.a.createElement("div",e,e.children)}},localization:Object(f.a)(Object(f.a)({},re(a)),{},{body:{addTooltip:"Agregar ".concat(a),deleteTooltip:"Eliminar",editTooltip:"Editar",emptyDataSourceMessage:"No hay registros para mostrar",editRow:{deleteText:"Esta seguro de eliminar este dato?",cancelTooltip:"Cancelar",saveTooltip:"Guardar"}}})}))}))),$c=Object(j.a)((function(e){return{tableTotal:{maxWidth:400,marginLeft:"auto"},totalCell:{paddingRight:95}}})),eo=r.a.memo((function(e){var t=e.total,a=e.refreshRow,c=e.url,o=$c(),l=(Object(n.useRef)(1),Object(n.useState)({})),i=Object(m.a)(l,2),s=i[0],u=i[1],d=Object(n.useState)([]),b=Object(m.a)(d,2),p=b[0],g=b[1],E=Object(n.useState)([]),h=Object(m.a)(E,2),O=(h[0],h[1],0==p.length);Object(n.useEffect)((function(){O&&(ne.get("materials").then((function(e){g(e.data)})),ne.get("units/catal").then((function(e){u(e.data)})).catch((function(e){})))}),[]);var j=Object(n.useCallback)((function(){return[{title:"Id",field:"id",hidden:!0},{width:"1%",align:"left",sorting:!1,render:function(e){return"undefined"!=typeof e&&e.type&&1!=e.type.id&&r.a.createElement(Kc,{title:e.type.name,placement:"bottom"},r.a.createElement(S.a,{size:"small","aria-label":"upload picture",component:"span"},r.a.createElement(Hc.a,null)))}},{title:"Material",width:"35%",field:"material",render:function(e){return e?e.name:""},validate:function(e){return"undefined"!=typeof e.name&&(""!==e.name.trim()||{isValid:!1,helperText:"Nombre es requerido"})},editComponent:function(e){return r.a.createElement(zr.a,{id:"Agent Emails",fullWidth:!0,autoComplete:!0,autoSelect:!0,size:"small",value:e.value,options:p,getOptionLabel:function(e){return e.name},getOptionSelected:function(e,t){return e.name===t.name},loading:O,loadingText:"Cargando...",clearText:"Borrar",getOptionDisabled:e.rowData&&e.rowData.type&&4===e.rowData.type.id?function(t){return!t.type||t.prices.length<=0||t.type.id!=e.rowData.material.type.id}:function(e){return e.prices.length<=0},renderInput:function(t){return e.rowData&&console.log(e.rowData),r.a.createElement(Jt.a,Object.assign({placeholder:e.rowData&&e.rowData.name?"".concat(e.rowData.name):"Seleccionar Material"},t,{fullWidth:!0,InputProps:Object(f.a)(Object(f.a)({},t.InputProps),{},{endAdornment:r.a.createElement(r.a.Fragment,null,O?r.a.createElement(Bt.a,{color:"inherit",size:20}):null,t.InputProps.endAdornment)})}))},onChange:function(t,a){var n;null!=a?(e.onChange(a),console.log(a),(n=Object(f.a)({},e.rowData)).name=a.name?a.name:"",n.unit=a.unit?a.unit:null,n.material=a,n.prices=a.prices?a.prices:[],n.materialPrice={price:""},n.price="",e.onRowDataChange(n)):((n=Object(f.a)({},e.rowData)).prices=[],e.onRowDataChange(n))}})}},{title:"Cantidad",field:"amount",type:"numeric",render:function(e){return(e.amount*(e.wastePct/100+1)).toFixed(2)},width:"15%",align:"right",validate:function(e){return"undefined"!=typeof e.amount&&(!(e.amount.length<=0)||{isValid:!1,helperText:"Cantidad es requerido"})},editComponent:function(e){return r.a.createElement(Jt.a,{id:"standard-basic",value:e.value,type:"number",size:"small",disabled:e.rowData&&e.rowData.type&&4===e.rowData.type.id,onChange:function(t){return e.onChange(t.target.value)}})}},{title:"Pct.",field:"wastePct",type:"numeric",render:function(e){return"".concat(e.wastePct," %")},width:"5%",align:"right",initialEditValue:0,validate:function(e){return"undefined"!=typeof e.wastePct&&(!(e.wastePct.length<=0)||{isValid:!1,helperText:"Cantidad es requerido"})},editComponent:function(e){return r.a.createElement(Jt.a,{defaultValue:0,type:"number",inputProps:{min:0,max:100,fontSize:10},value:e.value,onChange:function(t){return e.onChange(t.target.value)}})}},{title:"Unidad",field:"unit.id",lookup:s,editable:"never",width:"15%",align:"right",validate:function(e){return"undefined"!=typeof e.unit}},{title:"Precio Unitario",field:"materialPrice",width:"15%",align:"right",render:function(e){return e?""===e.price?e.price:new Intl.NumberFormat("es-GT",{style:"currency",currency:"gtq"}).format(e.price):""},validate:function(e){return"undefined"!=typeof e.price&&(!(e.price.length<=0)||{isValid:!1,helperText:"Precio es requerido"})},editComponent:function(e){return r.a.createElement(ke.a,null,r.a.createElement(Le.a,{value:e.value,placeholder:e.rowData&&e.rowData.price?"".concat(e.rowData.price):"----",onChange:function(t){e.onChange(t.target.value);var a=Object(f.a)({},e.rowData);a.price=t.target.value.price,a.materialPrice=t.target.value,e.onRowDataChange(a)},defaultValue:e.rowData.materialPrice?e.rowData.materialPrice:{price:""},renderValue:function(e){return r.a.createElement(Ne.a,{dense:!0,className:o.denseItem,value:e},e.special&&r.a.createElement(_r.a,{color:"secondary",fontSize:"small"}),""===e.price?"":new Intl.NumberFormat("es-GT",{style:"currency",currency:"gtq"}).format(e.price))},disabled:!e.rowData.prices||0===e.rowData.prices.length},e.rowData&&e.rowData.prices&&e.rowData.prices.map((function(e){return r.a.createElement(Ne.a,{value:e},e.special&&r.a.createElement(_r.a,{color:"secondary",fontSize:"small"}),""===e.price?"":new Intl.NumberFormat("es-GT",{style:"currency",currency:"gtq"}).format(e.price))}))))},currencySetting:{locale:"es-GT",currencyCode:"gtq",minimumFractionDigits:2,maximumFractionDigits:2}},{title:"Precio Total",field:"totalPrice",type:"currency",editable:"never",width:"15%",align:"right",render:function(e){return"undefined"!=typeof e&&new Intl.NumberFormat("es-GT",{style:"currency",currency:"gtq"}).format(e.amount*(e.wastePct/100+1)*e.price)},currencySetting:{locale:"es-GT",currencyCode:"gtq",minimumFractionDigits:2,maximumFractionDigits:2}}]}),[s,p]);return r.a.createElement(n.Fragment,null,r.a.createElement(Yc,{title:"Material",label:"material",color:"#26a69a",getColumns:j,url:"".concat(c,"/mtlcosts"),refreshRow:a}),r.a.createElement(_c.a,{"aria-label":"spanning table",className:o.tableTotal},r.a.createElement(qc.a,null,r.a.createElement(to,null,r.a.createElement(ao,{rowSpan:1}),r.a.createElement(ao,{colSpan:2},"Subtotal"),r.a.createElement(ao,{className:o.totalCell,align:"right"},new Intl.NumberFormat("es-GT",{style:"currency",currency:"gtq"}).format(t||0))))))}),(function(e,t){return e.total==t.total})),to=Object(Vt.a)((function(e){return{root:{borderTop:"solid 2px #26a69a",borderBottom:"none"}}}))(Bc.a),ao=Object(Vt.a)((function(e){return{root:{borderBottom:"none"}}}))(Uc.a),no=Object(j.a)((function(e){return{tableTotal:{maxWidth:400,marginLeft:"auto"},totalCell:{paddingRight:95}}})),ro=r.a.memo((function(e){var t=e.total,a=e.refreshRow,c=e.url,o=e.rowAmount,l=no(),i=(Object(n.useRef)(1),Object(n.useState)({})),s=Object(m.a)(i,2),u=s[0],d=s[1];Object(n.useEffect)((function(){ne.get("units/catal").then((function(e){d(e.data)})).catch((function(e){}))}),[]);var f=Object(n.useCallback)((function(){return[{title:"Id",field:"id",hidden:!0},{title:"Relativo",field:"relative",type:"boolean",width:"5%",initialEditValue:!0},{title:"Mano de Obra",field:"name",width:"40%",validate:function(e){return"undefined"!=typeof e.name&&(""!==e.name.trim()||{isValid:!1,helperText:"Nombre es requerido"})}},{title:"Cantidad",field:"amount",type:"numeric",initialEditValue:o,validate:function(e){return"undefined"!=typeof e.amount&&(!(e.amount.length<=0)||{isValid:!1,helperText:"Cantidad es requerido"})},render:function(e){return e.amount.toFixed(2)},width:"15%",align:"right"},{title:"Unidad",field:"unit.id",lookup:u,validate:function(e){return"undefined"!=typeof e.unit},width:"15%",align:"right"},{title:"Precio Unitario",field:"price",type:"currency",validate:function(e){return"undefined"!=typeof e.price&&(!(e.price.length<=0)||{isValid:!1,helperText:"Precio es requerido"})},currencySetting:{locale:"es-GT",currencyCode:"gtq",minimumFractionDigits:2,maximumFractionDigits:2},width:"15%",align:"right"},{title:"Precio Total",field:"totalPrice",type:"currency",editable:"never",width:"15%",align:"right",render:function(e){return"undefined"!=typeof e&&new Intl.NumberFormat("es-GT",{style:"currency",currency:"gtq"}).format(e.amount*e.price)},currencySetting:{locale:"es-GT",currencyCode:"gtq",minimumFractionDigits:2,maximumFractionDigits:2}}]}),[u]);return r.a.createElement(n.Fragment,null,r.a.createElement(Yc,{title:"Mano de Obra",label:"mano de obra",color:"#6c92a2",getColumns:f,url:"".concat(c,"/wfcosts"),refreshRow:a}),r.a.createElement(_c.a,{"aria-label":"spanning table",className:l.tableTotal},r.a.createElement(qc.a,null,r.a.createElement(co,null,r.a.createElement(oo,{rowSpan:1}),r.a.createElement(oo,{colSpan:2},"Subtotal"),r.a.createElement(oo,{className:l.totalCell,align:"right"},new Intl.NumberFormat("es-GT",{style:"currency",currency:"gtq"}).format(t||0))))))})),co=Object(Vt.a)((function(e){return{root:{borderTop:"solid 2px #6c92a2"}}}))(Bc.a),oo=Object(Vt.a)((function(e){return{root:{borderBottom:"none"}}}))(Uc.a),lo=Object(j.a)((function(e){return{tableTotal:{maxWidth:400,marginLeft:"auto"},totalCell:{paddingRight:95}}})),io=r.a.memo((function(e){var t=e.total,a=e.refreshRow,c=e.url,o=(Object(n.useRef)(1),Object(n.useState)({})),l=Object(m.a)(o,2),i=l[0],s=l[1];Object(n.useEffect)((function(){ne.get("units/catal").then((function(e){s(e.data)})).catch((function(e){}))}),[]);var u=Object(n.useCallback)((function(){return[{title:"Id",field:"id",hidden:!0},{title:"Costos Indirectos",field:"name",width:"40%",validate:function(e){return"undefined"!=typeof e.name&&(""!==e.name.trim()||{isValid:!1,helperText:"Nombre es requerido"})}},{title:"Cantidad",field:"amount",type:"numeric",render:function(e){return e.amount.toFixed(2)},width:"15%",align:"right",validate:function(e){return"undefined"!=typeof e.amount&&(!(e.amount.length<=0)||{isValid:!1,helperText:"Cantidad es requerido"})}},{title:"Unidad",field:"unit.id",lookup:i,width:"15%",align:"right",validate:function(e){return"undefined"!=typeof e.unit}},{title:"Precio Unitario",field:"price",type:"currency",currencySetting:{locale:"es-GT",currencyCode:"gtq",minimumFractionDigits:2,maximumFractionDigits:2},validate:function(e){return"undefined"!=typeof e.price&&(!(e.price.length<=0)||{isValid:!1,helperText:"Precio es requerido"})},width:"15%",align:"right"},{title:"Precio Total",field:"totalPrice",type:"currency",editable:"never",width:"15%",align:"right",render:function(e){return"undefined"!=typeof e&&new Intl.NumberFormat("es-GT",{style:"currency",currency:"gtq"}).format(e.amount*e.price)},currencySetting:{locale:"es-GT",currencyCode:"gtq",minimumFractionDigits:2,maximumFractionDigits:2}}]}),[i]);Object(n.useMemo)((function(){return"".concat(c,"/indcosts")}),[]);return r.a.createElement(n.Fragment,null,r.a.createElement(Yc,{title:"Costo indirecto",label:"costo",color:"#6c92a2",getColumns:u,url:"".concat(c,"/indcosts"),refreshRow:a}),r.a.createElement(so,{total:t}))})),so=r.a.memo((function(e){var t=e.total,a=lo();return r.a.createElement(_c.a,{"aria-label":"spanning table",className:a.tableTotal},r.a.createElement(qc.a,null,r.a.createElement(uo,null,r.a.createElement(mo,{rowSpan:1}),r.a.createElement(mo,{colSpan:2},"Subtotal"),r.a.createElement(mo,{className:a.totalCell,align:"right"},new Intl.NumberFormat("es-GT",{style:"currency",currency:"gtq"}).format(t||0)))))})),uo=Object(Vt.a)((function(e){return{root:{borderTop:"solid 2px #9ca9a8"}}}))(Bc.a),mo=Object(Vt.a)((function(e){return{root:{borderBottom:"none"}}}))(Uc.a),fo=Object(j.a)((function(e){return{tableTotal:{maxWidth:600,marginLeft:"auto",marginTop:e.spacing(2)},denseItem:{paddingTop:0,paddingBottom:0}}})),bo=r.a.memo((function(e){var t=e.rowData,a=e.refreshRow,c=fo(),o=Object(n.useRef)(null),l=Object(n.useRef)(null),i=Object(n.useRef)(null),s=(Object(n.useRef)(1),t.totalCost,t.unitAmount),u=t.totalCost,d=t.directCost,m=t.indirectCost,f=t.materialCost,b=t.workForceCost,p=t.budget.id,g=t.id,E="rows/".concat(g),h="budgets/".concat(p,"/").concat(E),O=Object(n.useCallback)((function(){return a(h,t)}),[]);Q.a,Zc.a,Jc.a;return r.a.createElement(n.Fragment,null,r.a.createElement(eo,{total:f,refreshRow:O,url:E}),r.a.createElement(ro,{total:b,refreshRow:O,url:E,rowAmount:s}),r.a.createElement(io,{total:m,refreshRow:O,url:E}),r.a.createElement(_c.a,{"aria-label":"spanning table",className:c.tableTotal},r.a.createElement(qc.a,null,r.a.createElement(Bc.a,null,r.a.createElement(go,{rowSpan:3}),r.a.createElement(Uc.a,{colSpan:2},"Total Costos Directos"),r.a.createElement(Uc.a,{align:"right"},new Intl.NumberFormat("es-GT",{style:"currency",currency:"gtq"}).format(d||0))),r.a.createElement(Bc.a,null,r.a.createElement(Uc.a,{colSpan:2},"Total Costos Indirectos"),r.a.createElement(Uc.a,{align:"right"},new Intl.NumberFormat("es-GT",{style:"currency",currency:"gtq"}).format(m||0))),r.a.createElement(po,null,r.a.createElement(go,{colSpan:2},"Total Costos del Renglon"),r.a.createElement(go,{align:"right"},new Intl.NumberFormat("es-GT",{style:"currency",currency:"gtq"}).format(u||0))))))}),(function(e,t){return e.rowData.totalCost==t.rowData.totalCost})),po=Object(Vt.a)((function(e){return{root:{borderTop:"solid 2px ".concat(e.palette.primary.main)}}}))(Bc.a),go=Object(Vt.a)((function(e){return{root:{borderBottom:"none"}}}))(Uc.a),Eo=a(290),ho=a.n(Eo),Oo=a(558);function jo(e){var t=e.open,a=e.onClose,c=e.onConfirm,o=e.data,l=e.showTitle,i=Object(Rt.a)(e,["open","onClose","onConfirm","data","showTitle"]),s=o[0]||{budget:{name:"",project:{name:""}}};console.log("DATA EN EXPORT",o);var u=s.budget.name.toUpperCase(),d=s.budget.project.name.toUpperCase();Object(n.useEffect)((function(){}),[o]);var f=function(){a()},b=Object(n.useState)(),p=Object(m.a)(b,2),g=p[0];p[1];return r.a.createElement(St.a,Object.assign({disableBackdropClick:!0,disableEscapeKeyDown:!0,fullWidth:!0,maxWidth:"md","aria-labelledby":"confirmation-dialog-title",open:t},i),r.a.createElement(Mt,{onClose:a,id:"confirmation-dialog-title"},l()),r.a.createElement(Zt.c,{enableReinitialize:!0,initialValues:{name:"PRESUPUESTO ".concat(u," ").concat(d," ").concat(ho()().format("LL"))},validationSchema:ua.d().shape({name:ua.e().required("Requerido")}),onSubmit:function(e,t){var n=t.setSubmitting,r=(t.resetForm,e.name);console.log(r),setTimeout((function(){c(o,r),n(!1),a()}),500)}},(function(e){var t=e.submitForm,a=e.isSubmitting,n=e.setFieldValue,c=e.values,o=e.errors,l=e.touched;return r.a.createElement(Zt.b,null,r.a.createElement(yt.a,{dividers:!0},r.a.createElement(Me.a,{container:!0,spacing:4},r.a.createElement(Me.a,{item:!0,xs:12},r.a.createElement(ta,{value:c.name,setFieldValue:n,errors:o,touched:l,helperText:"Nombre del archivo de excel",fieldProps:{autoFocus:!0,fullWidth:!0,multiline:!0,endAdornment:r.a.createElement(Yt.a,{position:"end"},".xlsx")}}))),a&&r.a.createElement(qt.a,null),r.a.createElement("br",null),g&&r.a.createElement("p",{className:g.ok?"":"errorMsg"},g.msg)),r.a.createElement(Dt.a,null,r.a.createElement(Ge.a,{autoFocus:!0,onClick:f,color:"primary"},"Cancelar"),r.a.createElement(Ge.a,{onClick:t,color:"primary",startIcon:a?r.a.createElement(Bt.a,{size:"1rem"}):r.a.createElement(pe.a,null)},"EXPORTAR")))})))}ho.a.locale("es",Oo);var vo=Object(m.a)(nc,2),wo=vo[0],Po=vo[1],xo=Object(m.a)(rc,2),Fo=xo[0],Co=xo[1],Ro=Object(m.a)(cc,2),So=Ro[0],yo=Ro[1],Do=Object(m.a)(oc,2),Vo=Do[0],Io=Do[1],To=Object(m.a)(lc,2),Ao=To[0],Mo=To[1],ko=Object(m.a)(sc,2),Lo=ko[0],No=ko[1],zo=Object(m.a)(uc,2),Wo=zo[0],_o=zo[1],qo=Object(m.a)(ic,2),Bo=qo[0],Uo=qo[1],Go=Object(m.a)(dc,2),Ho=Go[0],Xo=Go[1],Zo=Object(m.a)(mc,2),Qo=Zo[0],Jo=Zo[1],Ko=Object(m.a)(fc,2),Yo=Ko[0],$o=Ko[1],el=Object(m.a)(bc,2),tl=el[0],al=el[1],nl=Object(j.a)((function(e){return{soloInput:{textAlign:"right"}}})),rl="",cl="",ol="",ll="",il="",sl="",ul="",dl="",ml="",fl="",bl="",pl="",gl="",El={cementWastePct:0,sandWastePct:0,gravelWastePct:0},hl={cementWastePct:0,sandWastePct:0},Ol={longIronWastePct:0,transIronWastePct:0,tieWireWastePct:0},jl=Object(f.a)(Object(f.a)({},Ol),{},{longIronAuxWastePct:0}),vl={ironWastePct:0,tieWireWastePct:0},wl=function(e){return r.a.createElement(n.Fragment,null)},Pl=function(e){var t=e.getSteps,a=e.budgetId,c=e.apiId,o=e.initialValues,l=e.openModal,i=e.closeModal,s=e.setData,u=(e.errors,e.touched,e.values,e.setFieldValue,e.maxWidth),d="budgets/".concat(a,"/").concat(c),b=r.a.useState(0),p=Object(m.a)(b,2),g=p[0],E=p[1],h=Object(n.useState)({label:"",form:wl,schema:ua.d().shape({})}),O=Object(m.a)(h,2),j=O[0],v=O[1],w=t(),P=Object(n.useState)(),x=Object(m.a)(P,2),F=x[0],C=x[1];Object(n.useEffect)((function(){v(w[0])}),[]);var R=function(){return g===w.length-1},S=function(){v(w[g-1]),E((function(e){return e-1}))};return r.a.createElement(St.a,{maxWidth:u||"md",fullWidth:!0,open:l,onClose:function(){return i},"aria-labelledby":"form-dialog-title"},r.a.createElement(Mt,{onClose:i},r.a.createElement(Ut.a,{activeStep:g,alternativeLabel:!0},w.map((function(e){var t=e.label;return r.a.createElement(Gt.a,{key:t},r.a.createElement(Ht.a,null,t))})))),r.a.createElement(Zt.c,{enableReinitialize:!0,initialValues:Object(f.a)({},o),validationSchema:ua.d().shape(Object(f.a)({},j.schema)),onSubmit:function(e,t){var a=t.setSubmitting,n=t.resetForm;R()?(console.log("values",e),ne.post("".concat(d),e).then((function(e){ne.get("".concat(d,"/").concat(e.data.id)).then((function(e){var t=e.data;s((function(e){return[t].concat(Object(te.a)(e))}))})),a(!1),n(),C({ok:!0,msg:""}),i()})).catch((function(e){a(!1)}))):(a(!1),v(w[g+1]),E((function(e){return e+1})))}},(function(e){e.submitForm;var t=e.isSubmitting,a=e.setFieldValue,n=e.values,c=e.errors,o=e.touched;return r.a.createElement(Zt.b,{autoComplete:"off"},r.a.createElement(yt.a,{dividers:!0},r.a.createElement(j.form,{values:n,setFieldValue:a,errors:c,touched:o}),t&&r.a.createElement(qt.a,null),r.a.createElement("br",null)),r.a.createElement(Dt.a,null,r.a.createElement(Ge.a,{color:"inherit",onClick:i},"Cancelar"),g>0?r.a.createElement(Ge.a,{disabled:t,variant:"outlined",onClick:S},"Atr\xe1s"):null,r.a.createElement(Ge.a,{startIcon:t?r.a.createElement(Bt.a,{size:"1rem"}):null,disabled:t,variant:"contained",color:"primary",type:"submit"},t?"Enviando":R()?"Enviar":"Siguiente")),F&&r.a.createElement("p",{className:F.ok?"":"errorMsg"},F.msg))})))},xl=function(e){var t=e.budgetId,a=e.openModal,c=e.closeModal,o=e.setData,l=function(e){var t=e.values,a=e.setFieldValue,c=e.errors,o=e.touched,l=(e.url,Object(n.useState)([])),i=Object(m.a)(l,2),s=i[0],u=i[1];Object(n.useEffect)((function(){ne.get("units").then((function(e){u(e.data)})).catch((function(e){}))}),[]);var d=Object(j.a)({denseItem:{paddingTop:0,paddingBottom:0}})();return r.a.createElement(Me.a,{container:!0,spacing:3},r.a.createElement(Me.a,{item:!0,xs:12},r.a.createElement(ta,{value:t.name,setFieldValue:a,errors:c,touched:o})),r.a.createElement(Me.a,{item:!0,xs:12,sm:4},r.a.createElement(na,{name:"unitAmount",label:"Cantidad",value:t.unitAmount,setFieldValue:a,errors:c,touched:o})),r.a.createElement(Me.a,{item:!0,xs:12,sm:5},r.a.createElement(ke.a,null,r.a.createElement(Xt.a,{htmlFor:"unit"},"Unidad de Medida"),r.a.createElement(Zt.a,{component:Qt.b,disabled:0===s.length,name:"unit",onChange:function(e,t){return a("unit",e.target.value)},defaultValue:t.unit?t.unit:null,displayEmpty:!0,renderValue:function(e){return e?r.a.createElement(Ne.a,{dense:!0,className:d.denseItem,value:e},"".concat(e.name)):""},inputProps:{id:"mix-prop"}},s.map((function(e){return r.a.createElement(Ne.a,{dense:!0,value:e},e.name)}))),c.unit&&o.unit?r.a.createElement("div",null,r.a.createElement(He.a,{color:"error",variant:"caption"},c.unit)):null)),r.a.createElement(Me.a,{item:!0,xs:12,sm:3},r.a.createElement(ca,{name:"profitPct",label:"Pct. de Utilidad",value:t.profitPct,setFieldValue:a,errors:c,touched:o,optional:!0})))};return r.a.createElement(Pl,{getSteps:function(){return[{label:"Crear Renglon",schema:{name:ha,unitAmount:va,unit:wa,profitPct:Oa},form:l}]},initialValues:{name:"",unit:"",unitAmount:"",profitPct:""},apiId:"rows",budgetId:t,openModal:a,closeModal:c,setData:o})},Fl={Add:Object(n.forwardRef)((function(e,t){return r.a.createElement(le.a,{color:"secondary",size:"medium"},r.a.createElement(se.a,Object.assign({},e,{ref:t}))," ")})),Check:Object(n.forwardRef)((function(e,t){return r.a.createElement(ue.a,Object.assign({},e,{ref:t}))})),Clear:Object(n.forwardRef)((function(e,t){return r.a.createElement(de.a,Object.assign({},e,{ref:t}))})),Delete:Object(n.forwardRef)((function(e,t){return r.a.createElement(me.a,Object.assign({},e,{ref:t}))})),DetailPanel:Object(n.forwardRef)((function(e,t){return r.a.createElement(fe.a,Object.assign({},e,{ref:t}))})),Edit:Object(n.forwardRef)((function(e,t){return r.a.createElement(be.a,Object.assign({},e,{ref:t}))})),Export:Object(n.forwardRef)((function(e,t){return r.a.createElement(pe.a,Object.assign({},e,{ref:t}))})),Filter:Object(n.forwardRef)((function(e,t){return r.a.createElement(ge.a,Object.assign({},e,{ref:t}))})),FirstPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(Ee.a,Object.assign({},e,{ref:t}))})),LastPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(he.a,Object.assign({},e,{ref:t}))})),NextPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(fe.a,Object.assign({},e,{ref:t}))})),PreviousPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(Oe.a,Object.assign({},e,{ref:t}))})),ResetSearch:Object(n.forwardRef)((function(e,t){return r.a.createElement(de.a,Object.assign({},e,{ref:t}))})),Search:Object(n.forwardRef)((function(e,t){return r.a.createElement(je.a,Object.assign({},e,{ref:t}))})),SortArrow:Object(n.forwardRef)((function(e,t){return r.a.createElement(ve.a,Object.assign({},e,{ref:t}))})),ThirdStateCheck:Object(n.forwardRef)((function(e,t){return r.a.createElement(we.a,Object.assign({},e,{ref:t}))})),ViewColumn:Object(n.forwardRef)((function(e,t){return r.a.createElement(Pe.a,Object.assign({},e,{ref:t}))})),Refresh:Object(n.forwardRef)((function(e,t){return r.a.createElement(xe.a,Object.assign({color:"primary"},e,{ref:t}))})),AddLibrary:Object(n.forwardRef)((function(e,t){return r.a.createElement(Ct,Object.assign({},e,{ref:t}))}))},Cl=[{name:"Zapata",form:function(e){var t=e.budgetId,a=e.openModal,n=e.closeModal,c=e.setData,o=cl,l=ol,i=ll,s=il,u=ul,d=bl,m=pl,b=Object(f.a)(Object(f.a)({name:"ZAPATA ",amount:o,length:l,width:i,height:s,recubrimiento:u,cantLongsElems:d,cantTransElems:m},El),vl);return r.a.createElement(Pl,{getSteps:function(){return[{label:"Especificaciones de Zapata",schema:Ho,form:Xo},{label:"Agregar Costos de Concreto",schema:wo,form:Po},{label:"Agregar Costos de Armaz\xf3n",schema:So,form:yo}]},budgetId:t,apiId:"zapatas",initialValues:b,setData:c,openModal:a,closeModal:n})}},{name:"Cimiento Corrido",form:function(e){var t=e.budgetId,a=e.openModal,n=e.closeModal,c=e.setData,o=ol,l=ll,i=il,s=ul,u=bl,d=dl,m=ml,b=Object(f.a)(Object(f.a)({name:"CIMIENTO CORRIDO ",length:o,width:l,height:i,recubrimiento:s,cantLongsElems:u,separacion:d,longHook:m},El),Ol);return r.a.createElement(Pl,{getSteps:function(){return[{label:"Especificaciones de Cimiento",schema:Lo,form:No},{label:"Agregar Costos de Concreto",schema:wo,form:Po},{label:"Agregar Costos de Armaz\xf3n",schema:Vo,form:Io}]},budgetId:t,apiId:"cimcorridos",initialValues:b,setData:c,openModal:a,closeModal:n})}},{name:"Solera",form:function(e){var t=e.budgetId,a=e.openModal,n=e.closeModal,c=e.setData,o=ol,l=ll,i=il,s=ul,u=bl,d=dl,m=ml,b=Object(f.a)(Object(f.a)({name:"SOLERA ",length:o,width:l,height:i,recubrimiento:s,cantLongsElems:u,separacion:d,longHook:m},El),Ol);return r.a.createElement(Pl,{getSteps:function(){return[{label:"Especificaciones de Solera",schema:Lo,form:No},{label:"Agregar Costos de Concreto",schema:wo,form:Po},{label:"Agregar Costos de Armaz\xf3n",schema:Vo,form:Io}]},budgetId:t,apiId:"soleras",initialValues:b,setData:c,openModal:a,closeModal:n})}},{name:"Columna",form:function(e){var t=e.budgetId,a=e.openModal,n=e.closeModal,c=e.setData,o=(nl(),cl),l=ol,i=ll,s=il,u=ul,d=bl,m=dl,p=fl,g=ml,E=Object(f.a)(Object(f.a)({name:"COLUMNA ",amount:o,length:l,width:i,height:s,recubrimiento:u,cantLongsElems:d,separacion:m,longHook:g,longPata:p},El),Ol);return r.a.createElement(Pl,{getSteps:function(){return[{label:"Especificaciones de Columna",schema:Wo,form:function(e){var t=e.values,a=e.setFieldValue,n=e.errors,c=e.touched;return r.a.createElement(Me.a,{container:!0,alignItems:"center"},r.a.createElement(Me.a,Object(b.a)({item:!0,xs:12},"xs",3),r.a.createElement(_t,{image:Tr.a})),r.a.createElement(Me.a,Object(b.a)({item:!0,xs:12},"xs",9),r.a.createElement(_o,{values:t,setFieldValue:a,errors:n,touched:c})))}},{label:"Agregar Costos de Concreto",schema:wo,form:Po},{label:"Agregar Costos de Armaz\xf3n",schema:Vo,form:Io}]},budgetId:t,apiId:"columnas",initialValues:E,setData:c,openModal:a,closeModal:n,maxWidth:"lg"})}},{name:"Columna Especial",form:function(e){var t=e.budgetId,a=e.openModal,n=e.closeModal,c=e.setData,o=nl(),l={name:ha,profitPct:Oa,amount:ja,length:Pa,width:xa,height:Fa,estribosDouble:_a,recubrimiento:Ia,cantLongsElems:La,cantLongsAuxElems:Na,separacion:Ta,longHook:Ma,longPata:ka},i=function(e){var t=e.values,a=e.setFieldValue,n=e.errors,c=e.touched;return r.a.createElement(Me.a,{container:!0,alignItems:"center"},r.a.createElement(Me.a,{container:!0,xs:12,sm:3},r.a.createElement(_t,{image:Tr.a})),r.a.createElement(Me.a,{container:!0,spacing:3,xs:12,sm:9},r.a.createElement(Me.a,{item:!0,xs:12,sm:8},r.a.createElement(ta,{value:t.name,setFieldValue:a,errors:n,touched:c})),r.a.createElement(Me.a,{item:!0,xs:12,sm:2},r.a.createElement(na,{name:"amount",label:"Cantidad",value:t.amount,setFieldValue:a,errors:n,touched:c})),r.a.createElement(Me.a,{item:!0,xs:12,sm:2},r.a.createElement(ca,{name:"profitPct",label:"Pct. Utilidad",value:t.profitPct,setFieldValue:a,errors:n,touched:c,optional:!0})),r.a.createElement(Me.a,{item:!0,xs:12},r.a.createElement(la,{lengthLabel:"Altura",heightLabel:"Largo"})),r.a.createElement(Me.a,{item:!0,xs:12,sm:6},r.a.createElement(na,{name:"cantLongsElems",label:"Cantidad Elementos Esquinas",value:t.cantLongsElems,setFieldValue:a,errors:n,touched:c})),r.a.createElement(Me.a,{item:!0,xs:12,sm:6},r.a.createElement(na,{name:"cantLongsAuxElems",label:"Cantidad Elementos Auxiliares",value:t.cantLongsAuxElems,setFieldValue:a,errors:n,touched:c})),r.a.createElement(Me.a,{item:!0,xs:12,sm:6},r.a.createElement(aa,{name:"longPata",label:"Largo Patas",value:t.longPata,setFieldValue:a,errors:n,touched:c})),r.a.createElement(Me.a,{item:!0,xs:12,sm:6},r.a.createElement(aa,{name:"longHook",label:"Largo Gancho",value:t.longHook,setFieldValue:a,errors:n,touched:c})),r.a.createElement(Me.a,{item:!0,xs:12,sm:6},r.a.createElement(aa,{name:"separacion",label:"Separacion Estribos",value:t.separacion,setFieldValue:a,errors:n,touched:c})),r.a.createElement(Me.a,{item:!0,xs:12,sm:6},r.a.createElement(aa,{name:"recubrimiento",label:"Recubrimiento",value:t.recubrimiento,setFieldValue:a,errors:n,touched:c})),r.a.createElement(Me.a,{xs:12,container:!0,direction:"row-reverse",justify:"flex-start",alignItems:"center"},r.a.createElement(Me.a,{item:!0,alignItems:"flex-end",className:o.soloInput,xs:6,sm:3},r.a.createElement(oa,{name:"estribosDouble",label:"Estribos dobles"})))))},s=Object(f.a)(Object(f.a)({name:"COLUMNA ",amount:"",length:"",width:"",height:"",recubrimiento:"",cantLongsElems:"",cantLongsAuxElems:"",estribosDouble:!1,separacion:"",longHook:"",longPata:""},El),jl);return r.a.createElement(Pl,{getSteps:function(){return[{label:"Especificaciones de Columna Especial",schema:l,form:i},{label:"Agregar Costos de Concreto",schema:wo,form:Po},{label:"Agregar Costos de Armaz\xf3n",schema:Ao,form:Mo}]},initialValues:s,apiId:"columnasespeciales",budgetId:t,openModal:a,closeModal:n,setData:c,maxWidth:"lg"})}},{name:"Losa Plana",form:function(e){var t=e.budgetId,a=e.openModal,n=e.closeModal,c=e.setData,o=rl,l=sl,i=il,s=dl,u=gl,d=Object(f.a)(Object(f.a)({nameInitial:o,area:l,height:i,separacion:s,propTension:u},El),vl);return r.a.createElement(Pl,{getSteps:function(){return[{label:"Especificaciones de Losa Plana",schema:Qo,form:Jo},{label:"Agregar Costos de Concreto",schema:wo,form:Po},{label:"Agregar Costos de Armaz\xf3n",schema:So,form:yo}]},budgetId:t,apiId:"losasplanas",initialValues:d,setData:c,openModal:a,closeModal:n})}},{name:"Losa Inclinada",form:function(e){var t=e.budgetId,a=e.openModal,n=e.closeModal,c=e.setData,o=rl,l=sl,i=il,s=dl,u=Object(f.a)(Object(f.a)({nameInitial:o,area:l,height:i,separacion:s},El),vl);return r.a.createElement(Pl,{getSteps:function(){return[{label:"Especificaciones de Losa Inclinada",schema:Yo,form:$o},{label:"Agregar Costos de Concreto",schema:wo,form:Po},{label:"Agregar Costos de Armaz\xf3n",schema:So,form:yo}]},budgetId:t,apiId:"losas",initialValues:u,setData:c,openModal:a,closeModal:n})}},{name:"Muro",form:function(e){var t=e.budgetId,a=e.openModal,n=e.closeModal,c=e.setData,o=sl,l=Object(f.a)(Object(f.a)({name:"LEVANTAMIENTO DE MURO "},hl),{},{area:o,blockWastePct:0});return r.a.createElement(Pl,{getSteps:function(){return[{label:"Especificaciones de Muro",schema:tl,form:al},{label:"Agregar costos de Mortero Pega",schema:Fo,form:Co}]},initialValues:l,apiId:"muros",budgetId:t,openModal:a,closeModal:n,setData:c})}},{name:"Mezcl\xf3n Mortero",form:function(e){var t=e.budgetId,a=e.openModal,n=e.closeModal,c=e.setData,o=rl,l=sl,i=il,s=Object(f.a)({nameInitial:o,area:l,height:i},hl);return r.a.createElement(Pl,{getSteps:function(){return[{label:"Especificaciones de Mezcl\xf3n de Mortero",schema:Bo,form:Uo},{label:"Agregar costos de Mortero",schema:Fo,form:Co}]},initialValues:s,apiId:"mezclones",budgetId:t,openModal:a,closeModal:n,setData:c})}},{name:"Mezcl\xf3n Concreto",form:function(e){var t=e.budgetId,a=e.openModal,n=e.closeModal,c=e.setData,o=rl,l=sl,i=il,s=Object(f.a)({nameInitial:o,area:l,height:i},hl);return r.a.createElement(Pl,{getSteps:function(){return[{label:"Especificaciones de Mezcl\xf3n de Concreto",schema:Bo,form:Uo},{label:"Agregar costos de Concreto",schema:wo,form:Po}]},initialValues:s,apiId:"concmezclones",budgetId:t,openModal:a,closeModal:n,setData:c})}},{name:"Mezcl\xf3n Garage y Banquetas",form:function(e){var t=e.budgetId,a=e.openModal,c=e.closeModal,o=e.setData,l=rl,i=sl,s=il,u=Object(f.a)({nameInitial:l,area:i,height:s},hl);return r.a.createElement(Pl,{getSteps:function(){return[{label:"Especificaciones de Mezcl\xf3n de Garage y Banquetas",schema:Bo,form:Uo},{label:"Agregar costos de Materiales",schema:Object(f.a)(Object(f.a)({},wo),{},{electromalla:tn,electromallaPrice:pn,electromallaWastePct:Rn}),form:function(e){var t=e.values,a=e.setFieldValue,c=e.errors,o=e.touched;return r.a.createElement(n.Fragment,null,r.a.createElement(Po,{values:t,setFieldValue:a,errors:c,touched:o}),r.a.createElement(ac,{values:t,setFieldValue:a,errors:c,touched:o}))}}]},initialValues:u,apiId:"extmezclones",budgetId:t,openModal:a,closeModal:c,setData:o})}},{name:"Repello y Cernido",form:function(e){var t=e.budgetId,a=e.openModal,c=e.closeModal,o=e.setData,l={mixProp:qa,cement:Ba,cementPrice:an,cementWastePct:gn,sand:Ua,sandPrice:nn,sandWastePct:En,preMix:Ya,preMixPrice:mn,preMixWastePct:xn},i=function(e){var t=e.values,a=e.setFieldValue,c=e.errors,o=e.touched;return r.a.createElement(n.Fragment,null,r.a.createElement(Co,{values:t,setFieldValue:a,errors:c,touched:o}),r.a.createElement($r,{values:t,setFieldValue:a,errors:c,touched:o}))},s=sl,u=il,d=Object(f.a)(Object(f.a)({name:"REPELLO Y CERNIDO ",area:s,height:u},El),{},{preMixWastePct:0});return r.a.createElement(Pl,{getSteps:function(){return[{label:"Especificaciones de Repellos y Cernido",schema:Bo,form:Uo},{label:"Agregar Costos de Materiales",schema:l,form:i}]},budgetId:t,apiId:"repellos",initialValues:d,setData:o,openModal:a,closeModal:c})}},{name:"Pintura",form:function(e){var t=e.budgetId,a=e.openModal,n=e.closeModal,c=e.setData;return r.a.createElement(Pl,{getSteps:function(){return[{label:"Pintura Exterior y Exterior",schema:{name:ha,profitPct:Oa,wallArea:Ra,ceilArea:Sa,wallPaint:$a,wallPaintPrice:fn,wallPaintWastePct:Fn,ceilPaint:en,ceilPaintPrice:bn,ceilPaintWastePct:Cn},form:function(e){var t=e.values,a=e.setFieldValue,n=e.errors,c=e.touched;return r.a.createElement(Me.a,{container:!0,spacing:3},r.a.createElement(Me.a,{item:!0,xs:12,sm:9},r.a.createElement(ta,{value:t.name,setFieldValue:a,errors:n,touched:c})),r.a.createElement(Me.a,{item:!0,xs:12,sm:3},r.a.createElement(ca,{name:"profitPct",label:"Pct. de Utilidad",value:t.profitPct,setFieldValue:a,errors:n,touched:c,optional:!0})),r.a.createElement(Me.a,{item:!0,xs:12,sm:6},r.a.createElement(ra,{name:"wallArea",label:"Area de Pared",value:t.wallArea,helperText:"Area de paredes interiores/exteriores",setFieldValue:a,errors:n,touched:c})),r.a.createElement(Me.a,{item:!0,xs:12,sm:6},r.a.createElement(ra,{name:"ceilArea",label:"Area de Cielo",value:t.ceilArea,helperText:"Area de superficies de cielo (Opcional)",setFieldValue:a,errors:n,touched:c})),r.a.createElement(Me.a,{item:!0,xs:12},r.a.createElement(ec,{values:t,setFieldValue:a,errors:n,touched:c})),r.a.createElement(Me.a,{item:!0,xs:12},r.a.createElement(tc,{values:t,setFieldValue:a,errors:n,touched:c})))}}]},initialValues:{name:"PINTURA INTERIOR/EXTERIOR",wallArea:"",ceilArea:""},apiId:"pinturas",budgetId:t,openModal:a,closeModal:n,setData:c})}}],Rl=Object(j.a)((function(e){return{actionsContainer:{minWidth:"max-content",marginLeft:e.spacing(2)},searchField:{maxWidth:"max-content"},panel:{paddingLeft:e.spacing(11),marginTop:e.spacing(0),marginBottom:e.spacing(2)},tableTotal:{maxWidth:600,marginLeft:"auto"},denseItem:{paddingTop:0,paddingBottom:0}}})),Sl=function(e,t){var a=function(e){var t=e.showMsg,a=Rl();return r.a.createElement(He.a,{component:"span",variant:"body2",className:a.inline,color:"textPrimary"},t())};return r.a.createElement(L.a,null,r.a.createElement(Ae.a,null,r.a.createElement(F.a,null,t+1)),r.a.createElement(z.a,{primary:e.name,secondary:r.a.createElement(Me.a,{container:!0,direction:"row",justify:"flex-start",spacing:1,alignItems:"center"},r.a.createElement(Me.a,{item:!0}," Cantidad: ",r.a.createElement(a,{showMsg:function(){return e.unitAmount?e.unitAmount:0}})),r.a.createElement(M.a,{orientation:"vertical",light:!0,flexItem:!0,variant:"middle"}),r.a.createElement(Me.a,{item:!0}," Precio Unitario: ",r.a.createElement(a,{showMsg:function(){return Zn(e.unitCost?e.unitCost:0)}})),r.a.createElement(M.a,{orientation:"vertical",light:!0,flexItem:!0,variant:"middle"}),r.a.createElement(Me.a,{item:!0}," Precio Total: ",r.a.createElement(a,{showMsg:function(){return Zn(e.totalCost?e.totalCost:0)}})))}),r.a.createElement(M.a,null))},yl=(r.a.memo((function(e){var t=e.rowData,a=Object(n.useRef)(1);return r.a.createElement(n.Fragment,null,"Prueba ".concat(a.current++),r.a.createElement(Ge.a,null,t.totalCost))}),(function(e,t){return e.rowData.totalCost==t.rowData.totalCost})),r.a.memo((function(e){var t=e.refreshTotal,a=e.budgetId,c=Rl(),o=Object(n.createRef)(),l=Object(n.useState)(!0),i=Object(m.a)(l,2),s=i[0],d=i[1],b=Object(n.useState)({}),p=Object(m.a)(b,2),g=p[0],E=p[1],h=(Object(n.useRef)(1),"budgets/".concat(a,"/rows")),O=[{title:"Id",field:"id",hidden:!0},{width:"1%",align:"left",sorting:!1,render:function(e){return"undefined"!=typeof e&&e.type&&r.a.createElement(Kc,{title:e.type.name,placement:"bottom"},r.a.createElement(S.a,{size:"small","aria-label":"upload picture",component:"span"},r.a.createElement(Hc.a,null)))}},{title:"Nombre",field:"name",width:"40%",render:function(e){return e.fullName}},{title:"Cantidad",field:"unitAmount",type:"numeric",width:"15%",align:"right"},{title:"Unidad",field:"unit.id",lookup:g,width:"15%",align:"right",validate:function(e){return"undefined"!=typeof e.unit},editComponent:function(e){return r.a.createElement(ke.a,null,r.a.createElement(Le.a,{value:e.value,displayEmpty:!0,disabled:null!=e.rowData.type,onChange:function(t){return e.onChange(t.target.value)}},Object.entries(g).map((function(e){var t=Object(m.a)(e,2),a=t[0],n=t[1];return r.a.createElement(Ne.a,{value:a},n)}))))}},{title:"Utilidad",field:"profitPct",type:"numeric",width:"1%",align:"right",render:function(e){return"undefined"!=typeof e&&e.profitPct>0&&"".concat(e.profitPct," %")}},{title:"Precio Unitario",field:"unitCost",type:"currency",editable:"never",width:"15%",align:"right",currencySetting:{locale:"es-GT",currencyCode:"gtq",minimumFractionDigits:2,maximumFractionDigits:2}},{title:"Precio Total",field:"totalCost",type:"currency",editable:"never",width:"15%",align:"right",currencySetting:{locale:"es-GT",currencyCode:"gtq",minimumFractionDigits:2,maximumFractionDigits:2}}],j=Object(n.useState)([]),v=Object(m.a)(j,2),w=v[0],P=v[1],x=Object(n.useCallback)((function(e,a){ne.get(e).then((function(e){var n=Object(te.a)(w),r=a.tableData.id,c=Object(f.a)(Object(f.a)({},e.data),{},{tableData:a.tableData});n[r]=c,P(Object(te.a)(n)),t()})).catch((function(e){}))}),[w]),F=Object(n.useState)(!1),C=Object(m.a)(F,2),R=C[0],y=C[1],D=Object(n.useState)(!1),V=Object(m.a)(D,2),I=V[0],T=V[1],A=r.a.useState({active:n.Fragment}),M=Object(m.a)(A,2),k=M[0],L=M[1],N=Object(n.useCallback)((function(e,t){L({active:e,data:t}),T(!0)}),[]),z=Object(n.useCallback)((function(){T(!1)}),[]),W=Object(n.useState)(!1),_=Object(m.a)(W,2),q=(_[0],_[1]),B=Object(n.useState)([]),U=Object(m.a)(B,2),G=(U[0],U[1]),H=Object(n.useState)(!1),X=Object(m.a)(H,2),Z=X[0],Q=X[1],J=Object(n.useState)(!1),K=Object(m.a)(J,2),Y=K[0],$=K[1],ee=Object(n.useState)([]),ae=Object(m.a)(ee,2),ue=ae[0],de=ae[1],me=function(){var e=Object(Te.a)(Ie.a.mark((function e(t){var a;return Ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map(function(){var e=Object(Te.a)(Ie.a.mark((function e(t){return Ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ne.delete("".concat(h,"/").concat(t.id));case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()));case 2:a=Object(te.a)(t),t.forEach((function(e){a=a.filter((function(t){return t.tableData.id!==e.tableData.id}))})),P(a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),fe=Object(n.useState)(!1),be=Object(m.a)(fe,2),pe=be[0],ge=be[1],Ee=Object(n.useState)([]),he=Object(m.a)(Ee,2),Oe=he[0],je=he[1],ve=function(){var e=Object(Te.a)(Ie.a.mark((function e(t,a){var n;return Ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=dr.a.utils.book_new(),dr.a.utils.book_append_sheet(n,yr(t),"RESUMEN DE PRESUPUESTO"),e.t0=dr.a.utils,e.t1=n,e.next=6,Dr(t);case 6:return e.t2=e.sent,e.t0.book_append_sheet.call(e.t0,e.t1,e.t2,"LISTADO DE MATERIALES"),e.t3=dr.a.utils,e.t4=n,e.next=12,Vr(t);case 12:e.t5=e.sent,e.t3.book_append_sheet.call(e.t3,e.t4,e.t5,"PRESUPUESTO DESGLOSADO"),dr.a.writeFile(n,"".concat(a,".xlsx"));case 15:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){ne.get("units/catal").then((function(e){E(e.data)})).catch((function(e){}))}),[Z]),Object(n.useEffect)((function(){d(!0),ne.get(h).then((function(e){P(e.data),d(!1)})).catch((function(e){G(["Cannot load user data"]),q(!0)}))}),[Z]);var we=function(e,a){ne.delete("".concat(h,"/").concat(e.id)).then((function(n){var r=Object(te.a)(w),c=e.tableData.id;r.splice(c,1),P(Object(te.a)(r)),t(),a("terminado")})).catch((function(e){G(["Delete failed! Server error"]),q(!0),a()}))};return r.a.createElement(n.Fragment,null,r.a.createElement(oe.a,{tableRef:o,icons:Fl,title:"Renglones",columns:O,data:w,isLoading:s,editable:{isEditHidden:function(e){return!0},isEditable:function(e){return!e.restricted},isDeletable:function(e){return!e.restricted},onRowUpdate:function(e,t){return new Promise((function(a){!function(e,t,a){var n=[];n.length<1?ne.put("".concat(h,"/").concat(e.id),e).then((function(e){var n=Object(te.a)(w);n[t.tableData.id]=Object(f.a)(Object(f.a)({},e.data),{},{tableData:t.tableData}),P(Object(te.a)(n)),a(),q(!1),G([])})).catch((function(e){G(["update failed! Server error"]),q(!0),a()})):(G(n),q(!0),a())}(e,t,a)}))},onRowDelete:function(e){return new Promise((function(t){we(e,t)}))}},detailPanel:[function(e){return{render:function(e){return r.a.createElement("div",{className:c.panel},r.a.createElement(bo,{rowData:e,refreshRow:x}))}}}],options:{actionsColumnIndex:-1,addRowPosition:"first",paging:!1,selection:!0,sorting:!0,pageSize:10,pageSizeOptions:[10],paginationType:"normal",padding:"dense",headerStyle:{paddingTop:0,paddingBottom:0,fontSize:"0.75rem",color:u.a[800],backgroundColor:u.a[100],borderTopLeftRadius:2,borderTopRightRadius:2},rowStyle:{},cellStyle:{paddingTop:12,paddingBottom:12}},actions:[{icon:Fl.Edit,tooltip:"Editar",onClick:function(e,t){t.type?N(Wc[t.type.id],t):N(Wc[0],t)},position:"row"},{tooltip:"Exportar a Excel",icon:Fl.Export,onClick:function(e,t){je(t),ge(!0)}},{tooltip:"Eliminar renglones seleccionados",icon:Fl.Delete,onClick:function(e,t){de(t),$(!0)}},{icon:Fl.Refresh,tooltip:"Actualizar",isFreeAction:!0,onClick:function(){Q((function(e){return!e}))}},{icon:function(){return r.a.createElement(Fl.AddLibrary,{setData:P,actions:Cl,budgetId:a})},isFreeAction:!0},{icon:function(){return r.a.createElement(le.a,{color:"secondary",size:"medium"},r.a.createElement(se.a,null)," ")},tooltip:"Nuevo rengl\xf3n",isFreeAction:!0,onClick:function(){return y(!0)}}],components:{Toolbar:function(e){return r.a.createElement("div",{style:{backgroundColor:"#e4e5eb"}},r.a.createElement(ce.MTableToolbar,Object.assign({classes:{actions:c.actionsContainer,searchField:c.searchField}},e)))},Container:function(e){return r.a.createElement(ie.a,Object.assign({elevation:0},e),e.children)}},localization:re("renglon")}),r.a.createElement(Lt,{classes:{paper:c.paper},id:"rows-to-delete",keepMounted:!0,showTitle:function(e){return"\xbfEsta seguro de eliminar ".concat(e.length>1?"estos ".concat(e.length," renglones?"):"este rengl\xf3n ?")},showRow:Sl,open:Y,onClose:function(){$(!1)},data:ue,onConfirm:me}),r.a.createElement(jo,{classes:{paper:c.paper},id:"download-report",keepMounted:!0,showTitle:function(){return"EXPORTAR A EXCEL"},open:pe,onClose:function(){return ge(!1)},data:Oe,onConfirm:ve}),r.a.createElement(xl,{closeModal:function(){return y(!1)},openModal:R,setData:P,budgetId:a}),r.a.createElement(k.active,{open:I,closeModal:z,rowData:k.data,refreshRow:x}))}))),Dl=Object(j.a)((function(e){return{appBar:{},title:{marginLeft:e.spacing(2),flex:1},listItem:{minHeight:72},panel:{paddingLeft:e.spacing(11),marginTop:e.spacing(0),marginBottom:e.spacing(2)},projectData:{backgroundColor:"#fff"},backTb:{backgroundColor:"#e4e5eb"},totalTitle:{borderBottom:"solid 2px #4a9b9f"},logo:{width:e.spacing(8),height:e.spacing(8),marginRight:e.spacing(2)}}})),Vl=r.a.forwardRef((function(e,t){return r.a.createElement(ir.a,Object.assign({direction:"up",ref:t},e))}));function Il(e){var t=e.children,a=e.window,n=Object(sr.a)({target:a?a():void 0});return r.a.createElement(ir.a,{appear:!1,direction:"down",in:!n},t)}function Tl(e){var t=Dl(),a=Object(n.useState)(),c=Object(m.a)(a,2),o=c[0],l=c[1],i=Object(n.useState)(!1),s=Object(m.a)(i,2),u=s[0],d=s[1],f=Object(n.useState)({project:{client:{}}}),b=Object(m.a)(f,2),p=b[0],g=b[1],h=Object(n.useState)({}),O=Object(m.a)(h,2),j=(O[0],O[1],Object(n.useRef)(1),Object(n.useCallback)((function(){return d((function(e){return!e}))}),[]));Object(n.useEffect)((function(){ne.get("budgets/".concat(e.id)).then((function(e){g(e.data),l(e.data.totalCosts)})).catch((function(e){}))}),[e.open]),Object(n.useEffect)((function(){ne.get("budgets/".concat(e.id)).then((function(e){l(e.data.totalCosts)})).catch((function(e){}))}),[u]);var v=function(e){return void 0==typeof e||null==e?"               ":e};return r.a.createElement("div",{className:t.backTb},r.a.createElement(St.a,{fullScreen:!0,open:e.open,onClose:e.handleClose,TransitionComponent:Vl,className:t.backTb,PaperProps:{classes:{root:t.backTb}}},r.a.createElement(Il,e,r.a.createElement(P.a,{position:"fixed"},r.a.createElement(x.a,null,r.a.createElement(F.a,{alt:"Rolarq logo",src:E.a,className:t.logo,variant:"square"}),r.a.createElement(He.a,{variant:"h6",className:t.title},"Presupuesto  ".concat(p.name,":     ").concat(p.project.name)),r.a.createElement(R.a,{mr:2},r.a.createElement(He.a,{className:t.totalTitle,variant:"h6"},new Intl.NumberFormat("es-GT",{style:"currency",currency:"gtq"}).format(o||0)," ")),r.a.createElement(S.a,{edge:"end",color:"inherit",onClick:e.handleClose,"aria-label":"close"},r.a.createElement(At.a,null))))),r.a.createElement(R.a,{mb:8}),r.a.createElement(Me.a,{container:!0,className:t.projectData},r.a.createElement(Me.a,{item:!0,xs:12,sm:6},r.a.createElement(k.a,{dense:!0,disablePadding:!0},r.a.createElement(L.a,{className:t.listItem},r.a.createElement(z.a,{primaryTypographyProps:{variant:"subtitle2"},inset:!0,primary:v(p.project.address),secondary:"Ubicaci\xf3n"})),r.a.createElement(M.a,null),r.a.createElement(L.a,{className:t.listItem},r.a.createElement(z.a,{inset:!0,primaryTypographyProps:{variant:"subtitle2"},primary:null!=p.project.client&&v(p.project.client.fullName),secondary:"Cliente"})))),r.a.createElement(Me.a,{item:!0,xs:12,sm:6},r.a.createElement(k.a,{dense:!0,disablePadding:!0},r.a.createElement(L.a,{className:t.listItem},r.a.createElement(z.a,{inset:!0,primaryTypographyProps:{variant:"subtitle2"},primary:new Date(v(p.createdAt)).toLocaleDateString("en-GB"),secondary:"Fecha"})),r.a.createElement(M.a,null),r.a.createElement(L.a,{className:t.listItem},r.a.createElement(z.a,{inset:!0,primaryTypographyProps:{variant:"subtitle2"},primary:v(p.architect),secondary:"Arquitecto"}))))),r.a.createElement("br",null),r.a.createElement(ee.a,{maxWidth:"xl",className:t.backTb},r.a.createElement(yl,{refreshTotal:j,budgetId:e.id}))))}var Al={Add:Object(n.forwardRef)((function(e,t){return r.a.createElement(Ge.a,{variant:"contained",color:"primary",size:"small",startIcon:r.a.createElement(Ze.a,Object.assign({},e,{ref:t}))},"Presupuesto")})),Check:Object(n.forwardRef)((function(e,t){return r.a.createElement(Ye.a,Object.assign({},e,{ref:t}))})),Clear:Object(n.forwardRef)((function(e,t){return r.a.createElement(et.a,Object.assign({},e,{ref:t}))})),Delete:Object(n.forwardRef)((function(e,t){return r.a.createElement(at.a,Object.assign({},e,{ref:t}))})),DetailPanel:Object(n.forwardRef)((function(e,t){return r.a.createElement(A.a,Object.assign({},e,{ref:t}))})),Edit:Object(n.forwardRef)((function(e,t){return r.a.createElement(rt.a,Object.assign({},e,{ref:t}))})),Export:Object(n.forwardRef)((function(e,t){return r.a.createElement(mt.a,Object.assign({},e,{ref:t}))})),Filter:Object(n.forwardRef)((function(e,t){return r.a.createElement(We.a,Object.assign({},e,{ref:t}))})),FirstPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(ot.a,Object.assign({},e,{ref:t}))})),LastPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(it.a,Object.assign({},e,{ref:t}))})),NextPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(A.a,Object.assign({},e,{ref:t}))})),PreviousPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(I.a,Object.assign({},e,{ref:t}))})),ResetSearch:Object(n.forwardRef)((function(e,t){return r.a.createElement(et.a,Object.assign({},e,{ref:t}))})),Search:Object(n.forwardRef)((function(e,t){return r.a.createElement(bt.a,Object.assign({},e,{ref:t}))})),SortArrow:Object(n.forwardRef)((function(e,t){return r.a.createElement(Je.a,Object.assign({},e,{ref:t}))})),ThirdStateCheck:Object(n.forwardRef)((function(e,t){return r.a.createElement(ut.a,Object.assign({},e,{ref:t}))})),ViewColumn:Object(n.forwardRef)((function(e,t){return r.a.createElement(gt.a,Object.assign({},e,{ref:t}))}))};function Ml(e){var t=Object(n.createRef)(),a=Object(n.useState)([]),c=Object(m.a)(a,2),o=c[0],l=c[1],i=Object(n.useState)(!1),s=Object(m.a)(i,2),d=s[0],b=s[1],p=Object(n.useState)(null),g=Object(m.a)(p,2),E=g[0],h=g[1],O=Object(n.useState)({architect:"Fernando Roldan"}),j=Object(m.a)(O,2),v=j[0],w=j[1],P=Object(n.useState)(!1),x=Object(m.a)(P,2),F=(x[0],x[1]),C=Object(n.useState)([]),R=Object(m.a)(C,2),y=(R[0],R[1]),D=[{title:"Id",field:"id",hidden:!0},{title:"Nombre",field:"name",validate:function(e){return"undefined"!=typeof e.name&&(""!==e.name.trim()||{isValid:!1,helperText:"Nombre es requerido"})}},{title:"Arquitecto",field:"architect",initialEditValue:"Fernando Roldan"},{title:"Fecha de creaci\xf3n",field:"createdAt",type:"date",editable:"never",dateSetting:{locale:"en-GB"}},{title:"Costo Total",field:"totalCosts",type:"currency",editable:"never",currencySetting:{locale:"es-GT",currencyCode:"gtq",minimumFractionDigits:2,maximumFractionDigits:2}},{width:"5%",sorting:!1,render:function(e){return"undefined"!=typeof e&&r.a.createElement(n.Fragment,null,r.a.createElement(nr.a,{title:"Presupuesto desglosado",placement:"bottom"},r.a.createElement(S.a,{onClick:function(t){var a;a=e.id,h(a),b(!0)},size:"small",color:"primary","aria-label":"upload picture",component:"span"},r.a.createElement(cr.a,null))))}}];Object(n.useEffect)((function(){ne.get(e.url).then((function(e){l(e.data)})).catch((function(e){y(["Cannot load user data"]),F(!0)}))}),[]);var V;return r.a.createElement(n.Fragment,null,r.a.createElement(Tl,{open:d,handleClose:function(){b(!1)},id:E}),r.a.createElement(oe.a,{tableRef:t,icons:Al,title:(V=e.title,r.a.createElement(He.a,{variant:"subtitle1"},V)),columns:D,data:o,initialFormData:v,editable:{isEditable:function(e){return!e.restricted},isDeletable:function(e){return!e.restricted},onRowAdd:function(t){return new Promise((function(a){!function(t,a){var n=[];n.length<1?ne.post(e.url,t).then((function(e){var n=Object(te.a)(o);n.push(t),l(n),a(),y([]),F(!1),w({architect:"Fernando Roldan"})})).catch((function(e){y(["Cannot add data. Server error!"]),F(!0),a()})):(y(n),F(!0),a())}(t,a)}))},onRowUpdate:function(t,a){return new Promise((function(n){!function(t,a,n){var r=[];r.length<1?ne.put("".concat(e.url,"/").concat(t.id),t).then((function(e){var r=Object(te.a)(o);r[a.tableData.id]=t,l(Object(te.a)(r)),n(),F(!1),y([])})).catch((function(e){y(["update failed! Server error"]),F(!0),n()})):(y(r),F(!0),n())}(t,a,n)}))},onRowDelete:function(t){return new Promise((function(a){!function(t,a){ne.delete("".concat(e.url,"/").concat(t.id)).then((function(e){var n=Object(te.a)(o),r=t.tableData.id;n.splice(r,1),l(Object(te.a)(n)),a()})).catch((function(e){y(["Delete failed! Server error"]),F(!0),a()}))}(t,a)}))}},options:{actionsColumnIndex:-1,addRowPosition:"first",search:!1,paging:!1,pageSize:5,pageSizeOptions:[5],padding:"dense",headerStyle:{paddingTop:0,paddingBottom:0,fontSize:"0.75rem",color:u.a[800],borderTopLeftRadius:2,borderTopRightRadius:2},cellStyle:{paddingTop:8,paddingBottom:8}},actions:[{icon:lr.a,tooltip:"Duplicar",onClick:function(e,a){w(Object(f.a)(Object(f.a)({},a),{},{name:"".concat(a.name," copia")})),t.current.dataManager.changeRowEditing(),t.current.setState(Object(f.a)(Object(f.a)({},t.current.dataManager.getRenderState()),{},{showAddRow:!0}))},position:"row"}],components:{Container:function(e){return r.a.createElement("div",e,e.children)}},localization:re(e.label)}))}var kl=Object(j.a)((function(e){return{panel:{paddingLeft:e.spacing(12.5),marginTop:e.spacing(3),marginBottom:e.spacing(4)}}})),Ll=Object(Vt.a)((function(e){return{badge:{top:5,right:-2,border:"2px solid ".concat(e.palette.background.paper),padding:"0 4px"}}}))(er.a),Nl=function(e){var t=kl(),a=Object(n.useState)({}),c=Object(m.a)(a,2),o=c[0],l=c[1],i=[{title:"Id",field:"id",hidden:!0},{width:"5%",sorting:!1,render:function(e){return"undefined"!=typeof e&&e.budgetsNumber>0&&r.a.createElement(Ll,{color:"primary",children:r.a.createElement(_.a,{size:"small",color:"inherited",style:{color:"#000"}}),badgeContent:e.budgetsNumber,max:9})}},{title:"Nombre",field:"name",validate:function(e){return"undefined"!=typeof e.name&&(""!==e.name.trim()||{isValid:!1,helperText:"Nombre es requerido"})}},{title:"Ubicaci\xf3n",field:"address"},{title:"Cliente",field:"client.id",lookup:o},{title:"Descripci\xf3n",field:"description",cellStyle:{fontSize:10}}],s=[function(e){return{openIcon:ar.a,tooltip:"Presupuestos",render:function(e){return r.a.createElement("div",{className:t.panel},r.a.createElement(Ml,{url:"/projects/".concat(e.id,"/budgets"),parentId:e.id,title:"Presupuestos:",label:"presupuesto"}))}}}];return r.a.createElement("div",null,r.a.createElement(R.a,{m:5}),r.a.createElement(ee.a,{fixed:!0,maxWidth:"lg"},r.a.createElement(Re,{columns:i,url:"projects",title:"Proyectos",label:"proyecto",lookupEffects:[function(){ne.get("clients/catal").then((function(e){l(e.data)})).catch((function(e){console.log(e)}))}],panels:s})))},zl={Add:function(){return r.a.createElement(le.a,{color:"secondary",size:"medium"},r.a.createElement(se.a,null)," ")},Check:Object(n.forwardRef)((function(e,t){return r.a.createElement(ue.a,Object.assign({},e,{ref:t}))})),Clear:Object(n.forwardRef)((function(e,t){return r.a.createElement(de.a,Object.assign({},e,{ref:t}))})),Delete:Object(n.forwardRef)((function(e,t){return r.a.createElement(me.a,Object.assign({},e,{ref:t}))})),DetailPanel:Object(n.forwardRef)((function(e,t){return r.a.createElement(fe.a,Object.assign({},e,{ref:t}))})),Edit:Object(n.forwardRef)((function(e,t){return r.a.createElement(be.a,Object.assign({},e,{ref:t}))})),Export:Object(n.forwardRef)((function(e,t){return r.a.createElement(pe.a,Object.assign({},e,{ref:t}))})),Filter:Object(n.forwardRef)((function(e,t){return r.a.createElement(ge.a,Object.assign({},e,{ref:t}))})),FirstPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(Ee.a,Object.assign({},e,{ref:t}))})),LastPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(he.a,Object.assign({},e,{ref:t}))})),NextPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(fe.a,Object.assign({},e,{ref:t}))})),PreviousPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(Oe.a,Object.assign({},e,{ref:t}))})),ResetSearch:Object(n.forwardRef)((function(e,t){return r.a.createElement(de.a,Object.assign({},e,{ref:t}))})),Search:Object(n.forwardRef)((function(e,t){return r.a.createElement(je.a,Object.assign({},e,{ref:t}))})),SortArrow:Object(n.forwardRef)((function(e,t){return r.a.createElement(ve.a,Object.assign({},e,{ref:t}))})),ThirdStateCheck:Object(n.forwardRef)((function(e,t){return r.a.createElement(we.a,Object.assign({},e,{ref:t}))})),ViewColumn:Object(n.forwardRef)((function(e,t){return r.a.createElement(Pe.a,Object.assign({},e,{ref:t}))})),Refresh:Object(n.forwardRef)((function(e,t){return r.a.createElement(xe.a,Object.assign({color:"primary"},e,{ref:t}))}))},Wl=Object(j.a)((function(e){return{actionsContainer:{minWidth:"max-content",marginLeft:e.spacing(2)},searchField:{maxWidth:"max-content"}}}));function _l(e){var t=e.data,a=e.setData,c=e.url,o=e.title,l=e.columns,i=e.lookupEffects,s=e.panels,d=e.label,b=Wl(),p=Object(n.createRef)(),g=Object(n.useState)(!0),E=Object(m.a)(g,2),h=E[0],O=E[1],j=Object(n.useState)(!1),v=Object(m.a)(j,2),w=(v[0],v[1]),P=Object(n.useState)([]),x=Object(m.a)(P,2),F=(x[0],x[1]),C=Object(n.useState)(!1),R=Object(m.a)(C,2),S=R[0],y=R[1],D=Object(n.useState)({architect:"Fernando Roldan"}),V=Object(m.a)(D,2),I=V[0],T=V[1];Object(n.useEffect)((function(){i&&i.forEach((function(e){return e()})),O(!0),ne.get(c).then((function(e){console.log("consola aqui"+e.data),a(e.data),O(!1)})).catch((function(e){F(["Cannot load user data"]),w(!0)}))}),[S]);return r.a.createElement(oe.a,{tableRef:p,icons:zl,title:o,columns:l,data:t,isLoading:h,editable:{isDeletable:function(e){return!e.restricted},onRowAdd:function(e){return new Promise((function(n){!function(e,n){var r=[];r.length<1?ne.post(c,e).then((function(e){console.log("respuesta al guardar",e.data);var r=Object(te.a)(t);r.unshift(e.data),a(r),n(),F([]),w(!1),T({name:"",architect:"Fernando Roldan"})})).catch((function(e){F(["Cannot add data. Server error!"]),w(!0),n()})):(F(r),w(!0),n())}(e,n)}))},onRowUpdate:function(e,n){return new Promise((function(r){!function(e,n,r){console.log(n),console.log(e);var o=[];o.length<1?ne.put("".concat(c,"/").concat(e.id),e).then((function(c){var o=Object(te.a)(t);o[n.tableData.id]=e,a(Object(te.a)(o)),r(),w(!1),F([])})).catch((function(e){F(["update failed! Server error"]),w(!0),r()})):(F(o),w(!0),r())}(e,n,r)}))},onRowDelete:function(e){return new Promise((function(n){!function(e,n){ne.delete("".concat(c,"/").concat(e.id)).then((function(r){var c=Object(te.a)(t),o=e.tableData.id;c.splice(o,1),a(Object(te.a)(c)),n()})).catch((function(e){F(["Delete failed! Server error"]),w(!0),n()}))}(e,n)}))}},detailPanel:s,options:{actionsColumnIndex:-1,addRowPosition:"first",sorting:!0,pageSize:10,pageSizeOptions:[10],paginationType:"normal",padding:"dense",headerStyle:{paddingTop:0,paddingBottom:0,fontSize:"0.75rem",color:u.a[800],backgroundColor:u.a[100],borderTopLeftRadius:2,borderTopRightRadius:2},cellStyle:{paddingTop:12,paddingBottom:12}},initialFormData:I,actions:[{icon:lr.a,tooltip:"Duplicar",onClick:function(e,t){T(Object(f.a)(Object(f.a)({},t),{},{name:"".concat(t.name," copia")})),p.current.dataManager.changeRowEditing(),p.current.setState(Object(f.a)(Object(f.a)({},p.current.dataManager.getRenderState()),{},{showAddRow:!0}))},position:"row"},{icon:zl.Refresh,tooltip:"Actualizar",isFreeAction:!0,onClick:function(){y((function(e){return!e}))}}],components:{Toolbar:function(e){return r.a.createElement("div",{style:{backgroundColor:"#e4e5eb"}},r.a.createElement(ce.MTableToolbar,Object.assign({classes:{actions:b.actionsContainer,searchField:b.searchField}},e)))},Container:function(e){return r.a.createElement(ie.a,Object.assign({elevation:0},e),e.children)}},localization:re(d)})}Object(Vt.a)((function(e){return{badge:{top:10,border:"2px solid ".concat(e.palette.background.paper),padding:"0 4px"}}}))(er.a);var ql=function(e){var t=Object(n.useState)({}),a=Object(m.a)(t,2),c=a[0],o=a[1],l=Object(n.useState)(!1),i=Object(m.a)(l,2),s=i[0],u=i[1],d=Object(n.useState)(null),b=Object(m.a)(d,2),p=b[0],g=b[1],E=Object(n.useState)({}),h=Object(m.a)(E,2),O=h[0],j=h[1],v=Object(n.useState)([]),w=Object(m.a)(v,2),P=w[0],x=w[1],F=[{title:"Id",field:"id",hidden:!0},{width:"25%",title:"Nombre",field:"name",validate:function(e){return"undefined"!=typeof e.name&&(""!==e.name.trim()||{isValid:!1,helperText:"Nombre es requerido"})}},{width:"25%",title:"Proyecto",field:"project.id",lookup:c,validate:function(e){return"undefined"!=typeof e.project}},{width:"20%",title:"Arquitecto",field:"architect",initialEditValue:"Fernando Roldan"},{width:"10%",title:"Fecha de creaci\xf3n",field:"createdAt",type:"date",editable:"never",dateSetting:{locale:"en-GB"}},{width:"15%",title:"Costo Total",field:"totalCosts",type:"currency",editable:"never",currencySetting:{locale:"es-GT",currencyCode:"gtq",minimumFractionDigits:2,maximumFractionDigits:2}},{width:"5%",sorting:!1,render:function(e){return"undefined"!=typeof e&&r.a.createElement(n.Fragment,null,r.a.createElement(nr.a,{title:"Abrir Presupuesto",placement:"bottom"},r.a.createElement(S.a,{onClick:function(t){!function(e){g(e.id),j(e),u(!0)}(e)},edge:"start",color:"primary","aria-label":"upload picture",component:"span"},r.a.createElement(cr.a,null))))}}];return r.a.createElement(n.Fragment,null,r.a.createElement(R.a,{m:5}),r.a.createElement(Tl,{open:s,handleClose:function(){u(!1),ne.get("budgets/".concat(p)).then((function(e){var t=Object(te.a)(P),a=O.tableData.id,n=Object(f.a)(Object(f.a)({},e.data),{},{tableData:O.tableData});t[a]=n,x(Object(te.a)(t))})).catch((function(e){return console.log(e)}))},id:p}),r.a.createElement(ee.a,{fixed:!0,maxWidth:"lg"},r.a.createElement(_l,{data:P,setData:x,columns:F,url:"budgets",title:"Presupuestos",label:"presupuesto",lookupEffects:[function(){ne.get("projects/catal").then((function(e){o(e.data)})).catch((function(e){console.log(e)}))}]})))},Bl=a(451),Ul=a.n(Bl),Gl=a(646),Hl=a(610),Xl={Add:Object(n.forwardRef)((function(e,t){return r.a.createElement(le.a,{color:"secondary",size:"medium"},r.a.createElement(se.a,Object.assign({},e,{ref:t}))," ")})),Check:Object(n.forwardRef)((function(e,t){return r.a.createElement(ue.a,Object.assign({},e,{ref:t}))})),Clear:Object(n.forwardRef)((function(e,t){return r.a.createElement(de.a,Object.assign({},e,{ref:t}))})),Delete:Object(n.forwardRef)((function(e,t){return r.a.createElement(me.a,Object.assign({},e,{ref:t}))})),DetailPanel:Object(n.forwardRef)((function(e,t){return r.a.createElement(fe.a,Object.assign({},e,{ref:t}))})),Edit:Object(n.forwardRef)((function(e,t){return r.a.createElement(be.a,Object.assign({},e,{ref:t}))})),Export:Object(n.forwardRef)((function(e,t){return r.a.createElement(pe.a,Object.assign({},e,{ref:t}))})),Filter:Object(n.forwardRef)((function(e,t){return r.a.createElement(ge.a,Object.assign({},e,{ref:t}))})),FirstPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(Ee.a,Object.assign({},e,{ref:t}))})),LastPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(he.a,Object.assign({},e,{ref:t}))})),NextPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(fe.a,Object.assign({},e,{ref:t}))})),PreviousPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(Oe.a,Object.assign({},e,{ref:t}))})),ResetSearch:Object(n.forwardRef)((function(e,t){return r.a.createElement(de.a,Object.assign({},e,{ref:t}))})),Search:Object(n.forwardRef)((function(e,t){return r.a.createElement(je.a,Object.assign({},e,{ref:t}))})),SortArrow:Object(n.forwardRef)((function(e,t){return r.a.createElement(ve.a,Object.assign({},e,{ref:t}))})),ThirdStateCheck:Object(n.forwardRef)((function(e,t){return r.a.createElement(we.a,Object.assign({},e,{ref:t}))})),ViewColumn:Object(n.forwardRef)((function(e,t){return r.a.createElement(Pe.a,Object.assign({},e,{ref:t}))})),Refresh:Object(n.forwardRef)((function(e,t){return r.a.createElement(xe.a,Object.assign({color:"primary"},e,{ref:t}))}))},Zl=Object(j.a)((function(e){return{actionsContainer:{minWidth:"max-content",marginLeft:e.spacing(2)},searchField:{maxWidth:"max-content"}}})),Ql=function(e){var t=Zl(),a=Object(n.createRef)(),c=Object(n.useState)([]),o=Object(m.a)(c,2),l=o[0],i=o[1],s=Object(n.useState)(!0),d=Object(m.a)(s,2),f=d[0],b=d[1];return Object(n.useEffect)((function(){b(!0),ne.get("".concat(e.url)).then((function(e){console.log("consola aqui"+e.data),i(e.data),b(!1)})).catch((function(e){}))}),[]),r.a.createElement(oe.a,{tableRef:a,title:e.title,columns:e.columns,data:l,icons:Xl,isLoading:f,options:{sorting:!0,pageSize:10,pageSizeOptions:[10],paginationType:"normal",padding:"dense",headerStyle:{paddingTop:0,paddingBottom:0,fontSize:"0.75rem",color:u.a[800],backgroundColor:u.a[100],borderTopLeftRadius:2,borderTopRightRadius:2},cellStyle:{paddingTop:12,paddingBottom:12}},components:{Toolbar:function(e){return r.a.createElement("div",{style:{backgroundColor:"#e4e5eb"}},r.a.createElement(ce.MTableToolbar,Object.assign({classes:{actions:t.actionsContainer,searchField:t.searchField}},e)))},Container:function(e){return r.a.createElement(ie.a,Object.assign({elevation:0},e),e.children)}},localization:re(e.label)})};function Jl(e){var t=e.children,a=e.value,n=e.index,c=Object(Rt.a)(e,["children","value","index"]);return r.a.createElement("div",Object.assign({role:"tabpanel",hidden:a!==n,id:"full-width-tabpanel-".concat(n),"aria-labelledby":"full-width-tab-".concat(n)},c),a===n&&r.a.createElement(R.a,{p:3},r.a.createElement(He.a,null,t)))}function Kl(e){return{id:"full-width-tab-".concat(e),"aria-controls":"full-width-tabpanel-".concat(e)}}var Yl=Object(j.a)((function(e){return{root:{backgroundColor:e.palette.background.paper,width:500}}})),$l=function(e){Yl();var t=Object(v.a)(),a=r.a.useState(0),n=Object(m.a)(a,2),c=n[0],o=n[1];return r.a.createElement("div",null,r.a.createElement(R.a,{m:2}),r.a.createElement(P.a,{position:"static",color:"default"},r.a.createElement(Gl.a,{value:c,onChange:function(e,t){o(t)},indicatorColor:"primary",textColor:"primary",variant:"fullWidth","aria-label":"full width tabs example"},r.a.createElement(Hl.a,Object.assign({label:"Mortero"},Kl(0))),r.a.createElement(Hl.a,Object.assign({label:"Concreto"},Kl(1))))),r.a.createElement(Ul.a,{axis:"rtl"===t.direction?"x-reverse":"x",index:c,onChangeIndex:function(e){o(e)}},r.a.createElement(Jl,{value:c,index:0,dir:t.direction},r.a.createElement(ee.a,{fixed:!0,maxWidth:"lg"},r.a.createElement(Ql,{columns:[{title:"Id",field:"id",hidden:!0},{title:"Prop. Cemento",field:"propCement"},{title:"Prop. Arena",field:"propSand"},{title:"Sacos Cemento",field:"cement",type:"numeric"},{title:"Arena \u33a5",field:"sand",type:"numeric"},{title:"Resistencia \u338f/\u33a0",field:"kgPerSqrCm",type:"numeric"}],url:"morteros",title:"Proporciones Volumetricas",label:"mortero"}))),r.a.createElement(Jl,{value:c,index:1,dir:t.direction},r.a.createElement(ee.a,{fixed:!0,maxWidth:"lg"},r.a.createElement(Ql,{columns:[{title:"Id",field:"id",hidden:!0},{title:"Prop. Cemento",field:"propCement"},{title:"Prop. Arena",field:"propSand"},{title:"Prop. Piedr\xedn",field:"propGravel"},{title:"Sacos Cemento",field:"cement",type:"numeric"},{title:"Arena \u33a5",field:"sand",type:"numeric"},{title:"Piedr\xedn \u33a5",field:"gravel",type:"numeric"},{title:"Resistencia \u338f/\u33a0",field:"kgPerSqrCm",type:"numeric"}],url:"concretos",title:"Proporciones Volumetricas",label:"concreto"})))))},ei=a(452),ti=[[{name:"history",label:"Recientes",icon:a.n(ei).a,page:ql},{name:"budgets",label:"Presupuestos",icon:_.a,page:ql},{name:"projects",label:"Proyectos",icon:B.a,page:Nl},{name:"clients",label:"Clientes",icon:G.a,page:Se}],[{name:"materials",label:"Materiales",icon:Q.a,page:function(){return r.a.createElement("div",null,r.a.createElement(ee.a,{fixed:!0,maxWidth:"lg"},r.a.createElement(Yn,{url:"materials",title:"Materiales",label:"material"})))}},{name:"units",label:"Unidades",icon:K.a,page:De},{name:"suppliers",label:"Proveedores",icon:X.a,page:ye}],[{name:"materials",label:"Proporciones",icon:$.a,page:$l}]];var ai=function(e){var t=0;return r.a.createElement("div",null,ti.map((function(a){return r.a.createElement(n.Fragment,{key:++t},r.a.createElement(M.a,null),r.a.createElement(k.a,null,a.map((function(t,a){return r.a.createElement(L.a,{button:!0,key:a,selected:e.active.name===t.name,onClick:function(){return e.setActive(t)}},r.a.createElement(N.a,null,r.a.createElement(t.icon,null)),r.a.createElement(z.a,{primary:t.label}))}))))})))},ni=Object(i.a)({palette:{type:"dark"}}),ri=Object(j.a)((function(e){return{root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},hide:{display:"none"},drawer:{width:240,flexShrink:0,whiteSpace:"nowrap"},drawerOpen:{width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerClose:Object(b.a)({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:e.spacing(7)+1},e.breakpoints.up("sm"),{width:e.spacing(9)+1}),toolbar:Object(f.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1)},e.mixins.toolbar),content:{flexGrow:1,padding:e.spacing(3)},logo:{width:e.spacing(8),height:e.spacing(8),marginRight:e.spacing(2)},brand:{maxHeight:e.spacing(5),width:"auto",display:"block"}}}));var ci=function(){var e,t,a=ri(),c=Object(v.a)(),o=r.a.useState(!1),i=Object(m.a)(o,2),s=i[0],u=i[1],d=Object(n.useState)({page:ql}),f=Object(m.a)(d,2),g=f[0],h=f[1];return r.a.createElement("div",{className:a.root},r.a.createElement(w.a,null),r.a.createElement(P.a,{position:"fixed",className:Object(p.a)(a.appBar,Object(b.a)({},a.appBarShift,s))},r.a.createElement(x.a,null,r.a.createElement(S.a,{color:"inherit","aria-label":"open drawer",onClick:function(){u(!0)},edge:"start",className:Object(p.a)(a.menuButton,Object(b.a)({},a.hide,s))},r.a.createElement(D.a,null)),r.a.createElement(F.a,{alt:"Rolarq logo",src:E.a,className:a.logo,variant:"square"}),r.a.createElement("img",{src:O.a,className:a.brand}))),r.a.createElement(l.a,{theme:ni},r.a.createElement(C.a,{variant:"permanent",className:Object(p.a)(a.drawer,(e={},Object(b.a)(e,a.drawerOpen,s),Object(b.a)(e,a.drawerClose,!s),e)),classes:{paper:Object(p.a)((t={},Object(b.a)(t,a.drawerOpen,s),Object(b.a)(t,a.drawerClose,!s),t))}},r.a.createElement("div",{className:a.toolbar},r.a.createElement(S.a,{onClick:function(){u(!1)}},"rtl"===c.direction?r.a.createElement(A.a,null):r.a.createElement(I.a,null))),r.a.createElement(ai,{active:g,setActive:h}))),r.a.createElement("main",{style:{backgroundColor:"#e4e5eb",minHeight:"100vh",padding:0},className:a.content},r.a.createElement(R.a,{m:8}),r.a.createElement("div",{className:a.appBarSpacer}),r.a.createElement(g.page,null)))},oi=Object(j.a)({helloThereStyle:{fontStyle:"oblique"},board:{backgroundColor:"#fff"}});var li=function(){return oi(),r.a.createElement(ci,null)};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(l.a,{theme:d},r.a.createElement(li,null))),document.getElementById("root"))}},[[470,1,2]]]);
//# sourceMappingURL=main.c80fd52d.chunk.js.map